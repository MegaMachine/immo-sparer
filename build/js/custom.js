function n(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function i(){var e,t,a=$(".webinar-info h2"),n=a.css("marginBottom");$(a[0]).outerHeight()<=$(a[1]).outerHeight()?($(a[0]).css("marginBottom",n),e=$(a[0]).outerHeight(),t=$(a[1]).outerHeight()-e,$(a[0]).css("marginBottom",parseFloat($(a[0]).css("marginBottom"))+t+"px")):($(a[1]).css("marginBottom",n),e=$(a[1]).outerHeight(),t=$(a[0]).outerHeight()-e,$(a[1]).css("marginBottom",parseFloat($(a[1]).css("marginBottom"))+t+"px"))}function o(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left,a=$(".seminare-and-map .seminare").outerWidth(),n=parseFloat($(".seminare-and-map .container").css("paddingLeft")),i=parseFloat($(".seminare-and-map .container").outerHeight());$(".seminare-and-map .map").css({width:e-t+"px",left:a+n+"px",height:i+"px"})}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),a=$(".new-properties__item__location div"),n=0,i=0;a.map(function(){$(this).outerHeight()>=n&&(n=$(this).outerHeight())}),t.map(function(){$(this).height()>=i&&(i=$(this).height())}),a.css("height",n+"px"),t.css("height",i+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}function e(){var e=$(".header__bottom__nav"),t=$(".header__mid__contacts__phones"),a=e.children("ul"),n=$(".header__top .social"),i=$(".header__top .log-or-reg");"absolute"===e.css("position")&&(a.wrap('<div class="container"></div>'),t.appendTo(e.children(".container")),n.appendTo(e.children(".container")),i.appendTo(e.children(".container")))}$(function(){e(),function(){for(var e=$(".header__bottom__nav ul li a"),t=0;t<e.length;t++){var a=document.createElement("li"),n=$(e[t]).clone();$(n).removeClass("dropdown-item"),$(n).appendTo(a),$(a).appendTo(".header__bottom__nav__mobile ul")}$(".header__mid__contacts__phones").clone().appendTo(".header__bottom__nav__mobile"),$(".header__top .log-or-reg").clone().appendTo(".header__bottom__nav__mobile")}(),setTimeout(function(){var e,t,a;n(),i(),o(),s(),e=$(".object-fit-simulation"),t=e.find("img"),a=t.attr("src"),t.css("display","none"),e.css({background:"url("+a+") no-repeat center / cover"})},111),$(window).scroll(function(){}),$(window).resize(function(){n(),i(),o(),s(),e()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav__mobile").toggleClass("active")})}),window.initMap=function(){var e={lat:t.lat,lng:t.log};c=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:t.type}),v(p)};var c,t,r,p,a,l,d,m=[],u={states:[],cities:[],eventsType:[]};function h(e,t,a){f(null),m=[];var n={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:a?[Number(a)]:null},i=_.pickBy(n,_.identity);p=_.filter(r.events_dict,i),g(),v(p),f(c)}function g(){var r,l=$(".seminare__search__list ul");l.html(""),p.map(function(e){r=document.createElement("li");var t=e.street?e.street:"",a=e.zip?e.zip:"",n=e.city_id[1]?e.city_id[1]:"",i=String(e.date_begin).substr(0,9).replace("-",".").replace("-",".");i=(i=(i=i.split(".")).reverse()).join(".");var o=String(e.date_begin).replace(":",".").replace(":",".").substr(11,15),s=String(e.date_end).replace(":",".").replace(":",".").substr(11,15);o=o.substr(0,5),s=s.substr(0,5),$(r).html("<h3>"+e.name+"</h3><div><p>"+t+" "+a+" "+n+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+i+" von "+o+" bis "+s+" Uhr</span>"),$(r).appendTo(l)})}function v(e){e.map(function(e){console.log(e);var t,a,n,i=e.street?e.street+" ,":"",o=e.city_id[1]?e.city_id[1]+" ,":"",s=e.country_id[1]?e.country_id[1]:"",r=e.zip?e.zip:"",l='<div class="marker-info"><div class="marker-info-title"><span></span><h2>'+e.city_id[1]+'</h2></div><div class="marker-info-content"><a href="tel:123" class="phone">123123123123</a><p class="address"><span>'+i+"</span><span>"+r+" "+o+"</span> <span>"+s+"</span></p></div> </div>";t={lat:e.latitude,lng:e.longitude},a=l,(n=new google.maps.Marker({position:t,map:c})).setVisible(!1),new google.maps.InfoWindow({content:a}).open(c,n),m.push(n)})}function f(e){for(var t=0;t<m.length;t++)m[t].setMap(e)}$(document).ready(function(){t={lat:$("#latitude").val()||50.9913249,log:$("#longitude").val()||9.4721966,type:$("#template_type").val()||"terrain"},a=$(".seminare__search__filter__state select"),l=$(".seminare__search__filter__city select"),d=$(".seminare__search__filter__type select"),a.select2({placeholder:"Select a state",allowClear:!0}),l.select2({placeholder:"Select a city",allowClear:!0}),d.select2({placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){h(a.val(),l.val(),d.val())}),$(".seminare__search__filter select").change(function(){h(a.val(),l.val(),d.val())}),$(".seminare__search__filter__city select").change(function(){!a.val()&&l.val()?a.prop("disabled",!0):a.prop("disabled",!1),h(a.val(),l.val(),d.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(u.cities=[],u.cities=_.filter(r.cities_dict,{state_id:Number($(this).val())}),l.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)})):(u.cities=[],u.cities=r.cities_dict,l.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)})),h(a.val(),l.val(),d.val())}),$(document).on("click",".marker-info",function(){$(this).hasClass("active")?$(this).removeClass("active"):($(".marker-info").removeClass("active"),$(this).addClass("active"))}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){p=(r=e).events_dict,console.log("good: ",r)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),u.states=r.state_dict,u.cities=r.cities_dict,u.eventsType=r.event_categories,u.states.map(function(e){var t=new Option(e.name,e.id);a.append(t)}),u.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)}),u.eventsType.map(function(e){var t=new Option(e.name,e.id);d.append(t)}),g()})});var b=document.getElementById("myChartOne").getContext("2d"),y=document.getElementById("myChartTwo").getContext("2d");Chart.plugins.unregister(ChartDataLabels),Chart.defaults.global.defaultFontColor="#292929",Chart.defaults.global.defaultFontSize=14,Chart.defaults.global.defaultFontFamily="Poppins-SemiBold";var w={display:!0,layout:{padding:{left:20}},plugins:{datalabels:{color:"#292929",anchor:"end",align:"top",formatter:function(e,t){return e+" €"}}},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return e+" €"}}}]}};new Chart(b,{type:"bar",data:{labels:["1","5","10","15","20","25"],datasets:[{label:"# of Votes",data:[1e5,19,3,5,2,3],backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},plugins:[ChartDataLabels],options:w}),new Chart(y,{type:"bar",data:{labels:["1","5","10","15","20","25"],datasets:[{label:"# of Votes",data:[124124,1231234,575675,8968678,1235,4123556],backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},plugins:[ChartDataLabels],options:w});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiLCJjaGFydHMuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvd1dpZHRoIiwib3V0ZXJXaWR0aCIsIm1hcE9mZnNldCIsIm9mZnNldCIsImxlZnQiLCJzZW1pbmFyV0lkdGgiLCJjb250YWluZXJQYWRkaW5nIiwiY29udGFpbmVySGVpZ2h0Iiwid2lkdGgiLCJuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCIsIml0ZW1zTGluZUhlaWdodCIsIml0ZW1zVGV4dFRpdGxlIiwiaXRlbXNMb2NhdGlvbkhlaWdodCIsIm1heEhlaWdodDEiLCJtYXhIZWlnaHQyIiwibWFwIiwidGhpcyIsIm1vYmlsZU5hdmlnYXRpb24iLCJuYXYiLCJwaG9uZXMiLCJ1bCIsImNoaWxkcmVuIiwic29jaWFsIiwibG9nT3JSZWciLCJ3cmFwIiwiYXBwZW5kVG8iLCJsaW5rcyIsImluZGV4IiwibGVuZ3RoIiwibGkiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbG9uZUxpbmsiLCJjbG9uZSIsInJlbW92ZUNsYXNzIiwiaGVhZGVyQ2xvbmVGb3JNb2JpbGUiLCJzZXRUaW1lb3V0Iiwic2ltdWxhdG9yIiwiaW1nIiwiaW1nU3JjIiwiZmluZCIsImF0dHIiLCJiYWNrZ3JvdW5kIiwid2luZG93Iiwic2Nyb2xsIiwicmVzaXplIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsImluaXRNYXAiLCJoYWlnaHRBc2hidXJ5IiwibGF0Iiwic3RhcnRQb3NpdGlvbiIsImxuZyIsImxvZyIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJjZW50ZXIiLCJtYXBUeXBlSWQiLCJ0eXBlIiwiY3JlYXRlTWFya2Vyc0dyb3VwIiwic2VhcmNoUmVzdWx0Iiwib2JqZWN0cyIsInNlbGVjdFN0YXRlIiwic2VsZWN0Q2l0eSIsInNlbGVjdFR5cGUiLCJtYXJrZXJzIiwiZmlsdGVyVmFsdWVzIiwic3RhdGVzIiwiY2l0aWVzIiwiZXZlbnRzVHlwZSIsImZpbHRlclNvcnQiLCJzdGF0ZSIsImNpdHkiLCJldmVudF90eXBlIiwic2V0TWFwT25BbGwiLCJvYmoiLCJzdGF0ZV9pZCIsIk51bWJlciIsImNpdHlfaWQiLCJldmVudF90eXBlX2lkIiwiZmluZE9iaiIsIl8iLCJwaWNrQnkiLCJpZGVudGl0eSIsImZpbHRlciIsImV2ZW50c19kaWN0IiwiYnVpbGRTZWFyY2hMaXN0IiwiaHRtbCIsIml0ZW0iLCJzdHJlZXQiLCJ6aXAiLCJkYXRlIiwiU3RyaW5nIiwiZGF0ZV9iZWdpbiIsInN1YnN0ciIsInJlcGxhY2UiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwidGltZVN0YXJ0IiwidGltZUVuZCIsImRhdGVfZW5kIiwibmFtZSIsImlkIiwiY29uc29sZSIsImxvY2F0aW9uIiwiY29udGVudFN0cmluZyIsIm1hcmtlciIsImNvdW50cnkiLCJjb3VudHJ5X2lkIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldFZpc2libGUiLCJJbmZvV2luZG93IiwiY29udGVudCIsIm9wZW4iLCJwdXNoIiwiaSIsInNldE1hcCIsInJlYWR5IiwidmFsIiwic2VsZWN0MiIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsImNoYW5nZSIsInByb3AiLCJjaXRpZXNfZGljdCIsIm9wdGlvbiIsIk9wdGlvbiIsImFwcGVuZCIsIm9uIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsIndoZW4iLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJhc3luYyIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3IiLCJfZXJyb3IiLCJkb25lIiwic2NyaXB0IiwiZGVmZXIiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImxvYWRTY3JpcHRNYXAiLCJzdGF0ZV9kaWN0IiwiZXZlbnRfY2F0ZWdvcmllcyIsImN0eE9uZSIsImdldENvbnRleHQiLCJjdHhUd28iLCJDaGFydCIsInBsdWdpbnMiLCJ1bnJlZ2lzdGVyIiwiQ2hhcnREYXRhTGFiZWxzIiwiZGVmYXVsdHMiLCJnbG9iYWwiLCJkZWZhdWx0Rm9udENvbG9yIiwiZGVmYXVsdEZvbnRTaXplIiwiZGVmYXVsdEZvbnRGYW1pbHkiLCJvcHRpb25zIiwiZGlzcGxheSIsImxheW91dCIsInBhZGRpbmciLCJkYXRhbGFiZWxzIiwiY29sb3IiLCJhbmNob3IiLCJhbGlnbiIsImZvcm1hdHRlciIsInZhbHVlIiwiY29udGV4dCIsInNjYWxlcyIsInlBeGVzIiwidGlja3MiLCJiZWdpbkF0WmVybyIsImNhbGxiYWNrIiwidmFsdWVzIiwibGFiZWxzIiwiZGF0YXNldHMiLCJsYWJlbCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiXSwibWFwcGluZ3MiOiJBQXNDQSxTQUFBQSxJQUNBLElBQUFDLEVBQUFDLEVBQUEsaUJBQUFDLGNBQ0FELEVBQUEsd0JBQUFFLElBQUEsYUFBQSxnQkFBQUgsRUFBQSxPQUlBLFNBQUFJLElBQ0EsSUFHQUMsRUFDQUwsRUFKQU0sRUFBQUwsRUFBQSxvQkFDQU0sRUFBQUQsRUFBQUgsSUFBQSxnQkFJQUYsRUFBQUssRUFBQSxJQUFBSixlQUFBRCxFQUFBSyxFQUFBLElBQUFKLGVBQ0FELEVBQUFLLEVBQUEsSUFBQUgsSUFDQSxlQUNBSSxHQUVBRixFQUFBSixFQUFBSyxFQUFBLElBQUFKLGNBRUFGLEVBREFDLEVBQUFLLEVBQUEsSUFBQUosY0FDQUcsRUFDQUosRUFBQUssRUFBQSxJQUFBSCxJQUNBLGVBQ0FLLFdBQUFQLEVBQUFLLEVBQUEsSUFBQUgsSUFBQSxpQkFBQUgsRUFBQSxRQUdBQyxFQUFBSyxFQUFBLElBQUFILElBQ0EsZUFD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QixRQUFBLENBQUFFLGlCQUNBTSxRQUFBQSxJQUdBLElBQUFULE1BQUFELEVBQUEsQ0FDQXJHLEtBQUEsTUFDQW1GLEtBcEJBLENBQ0E2QyxPQUFBLENBQUEsSUFBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLE1BQ0FDLFNBQUEsQ0FBQSxDQUNBQyxNQUFBLGFBQ0EvQyxLQUFBLENBQUEsT0FBQSxRQUFBLE9BQUEsUUFBQSxLQUFBLFNBQ0FnRCxnQkFBQSxVQUNBQyxZQUFBLFVBQ0FDLFlBQUEsS0FjQTlCLFFBQUEsQ0FBQUUsaUJBQ0FNLFFBQUFBIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG5cbiAgbW9iaWxlTmF2aWdhdGlvbigpO1xuICBoZWFkZXJDbG9uZUZvck1vYmlsZSgpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGhlYWRlckhlaWdodCgpO1xuICAgIHRpdGxlQWxpZ24oKTtcbiAgICBtYXBXaWR0aCgpO1xuICAgIG5ld1Byb3BlcnRpZXNJdGVtSGVpZ2h0KCk7XG4gICAgb2JqZWN0Rml0U2ltdWxhdGlvbigpO1xuICB9LCAxMTEpO1xuXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7fSk7XG5cbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbWFwV2lkdGgoKTtcbiAgICBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpO1xuICAgIG1vYmlsZU5hdmlnYXRpb24oKTtcbiAgfSk7XG4gICQoJy5tZW51LWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgJCgnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZScpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSk7XG59KTtcblxuLy9vYmplY3QtZml0LXNpbXVsYXRpb25cbmZ1bmN0aW9uIG9iamVjdEZpdFNpbXVsYXRpb24oKXtcbiAgdmFyIHNpbXVsYXRvciA9ICQoJy5vYmplY3QtZml0LXNpbXVsYXRpb24nKTtcbiAgdmFyIGltZyA9IHNpbXVsYXRvci5maW5kKCdpbWcnKTtcbiAgdmFyIGltZ1NyYyA9IGltZy5hdHRyKCdzcmMnKTtcbiAgaW1nLmNzcygnZGlzcGxheScsJ25vbmUnKTtcbiAgc2ltdWxhdG9yLmNzcyh7XG4gICAgJ2JhY2tncm91bmQnOid1cmwoJytpbWdTcmMrJykgbm8tcmVwZWF0IGNlbnRlciAvIGNvdmVyJyxcbiAgfSk7XG59XG4vL3dlYmluYXIgaGVpZ2h0XG5mdW5jdGlvbiBoZWFkZXJIZWlnaHQoKSB7XG4gIHZhciBoZWlnaHQgPSAkKFwiaGVhZGVyLmhlYWRlclwiKS5vdXRlckhlaWdodCgpO1xuICAkKFwic2VjdGlvbi53ZWJpbmFyLWluZm9cIikuY3NzKFwibWluLWhlaWdodFwiLCBcImNhbGMoMTAwdmggLSBcIiArIGhlaWdodCArIFwicHgpXCIpO1xufVxuXG4vL3dlYmluYXIgdGl0bGUgYWxpZ25cbmZ1bmN0aW9uIHRpdGxlQWxpZ24oKSB7XG4gIHZhciBpdGVtcyA9ICQoXCIud2ViaW5hci1pbmZvIGgyXCIpO1xuICB2YXIgZGVmYXVsdE1hcmdpbiA9IGl0ZW1zLmNzcygnbWFyZ2luQm90dG9tJyk7XG4gIHZhciBtYXg7XG4gIHZhciBtaW47XG4gIHZhciBoZWlnaHQ7XG4gIGlmICgkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpIDw9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCkpIHtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzBdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzFdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfVxufVxuXG4vL21hcCBzaXplXG5mdW5jdGlvbiBtYXBXaWR0aCgpIHtcbiAgdmFyIHdpbmRvd1dpZHRoID0gJChcImJvZHlcIikub3V0ZXJXaWR0aCgpO1xuICB2YXIgbWFwT2Zmc2V0ID0gJChcIi5zZW1pbmFyZS1hbmQtbWFwIC5tYXBcIikub2Zmc2V0KCkubGVmdDtcbiAgdmFyIHNlbWluYXJXSWR0aCA9ICQoJy5zZW1pbmFyZS1hbmQtbWFwIC5zZW1pbmFyZScpLm91dGVyV2lkdGgoKTtcbiAgdmFyIGNvbnRhaW5lclBhZGRpbmcgPSBwYXJzZUZsb2F0KCQoJy5zZW1pbmFyZS1hbmQtbWFwIC5jb250YWluZXInKS5jc3MoJ3BhZGRpbmdMZWZ0JykpO1xuICB2YXIgY29udGFpbmVySGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcuc2VtaW5hcmUtYW5kLW1hcCAuY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSk7XG4gICQoXCIuc2VtaW5hcmUtYW5kLW1hcCAubWFwXCIpLmNzcyh7XG4gICAgXCJ3aWR0aFwiOiB3aW5kb3dXaWR0aCAtIG1hcE9mZnNldCArIFwicHhcIixcbiAgICAnbGVmdCc6IHNlbWluYXJXSWR0aCArIGNvbnRhaW5lclBhZGRpbmcgKyAncHgnLFxuICAgICdoZWlnaHQnOiBjb250YWluZXJIZWlnaHQgKyAncHgnXG4gIH0pO1xufVxuXG4vLyBuZXctcHJvcGVyaXRpZXMgbmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgaGVpZ2h0XG5mdW5jdGlvbiBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpe1xuICB2YXIgaXRlbXNMaW5lSGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnbGluZUhlaWdodCcpKTtcbiAgdmFyIGl0ZW1zVGV4dFRpdGxlID0gJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IGgzJyk7XG4gIHZhciBpdGVtc0xvY2F0aW9uSGVpZ2h0ID0gICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fbG9jYXRpb24gZGl2Jyk7XG4gIHZhciBtYXhIZWlnaHQxID0gMDtcbiAgdmFyIG1heEhlaWdodDIgPSAwO1xuICBpdGVtc0xvY2F0aW9uSGVpZ2h0Lm1hcChmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykub3V0ZXJIZWlnaHQoKSA+PSBtYXhIZWlnaHQxKXtcbiAgICAgIG1heEhlaWdodDEgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNUZXh0VGl0bGUubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oZWlnaHQoKSA+PSBtYXhIZWlnaHQyKXtcbiAgICAgIG1heEhlaWdodDIgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgIH1cbiAgfSk7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQxICsgJ3B4Jyk7XG4gIGl0ZW1zVGV4dFRpdGxlLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0MiArICdweCcpO1xuICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnaGVpZ2h0JywgaXRlbXNMaW5lSGVpZ2h0ICogMiArICdweCcpO1xufVxuXG5mdW5jdGlvbiBtb2JpbGVOYXZpZ2F0aW9uKCl7XG4gIHZhciBuYXYgPSAkKCcuaGVhZGVyX19ib3R0b21fX25hdicpO1xuICB2YXIgcGhvbmVzID0gJCgnLmhlYWRlcl9fbWlkX19jb250YWN0c19fcGhvbmVzJyk7XG4gIHZhciB1bCA9IG5hdi5jaGlsZHJlbigndWwnKTtcbiAgdmFyIHNvY2lhbCA9ICQoJy5oZWFkZXJfX3RvcCAuc29jaWFsJyk7XG4gIHZhciBsb2dPclJlZyA9ICQoJy5oZWFkZXJfX3RvcCAubG9nLW9yLXJlZycpO1xuICBpZihuYXYuY3NzKCdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKXtcbiAgICB1bC53cmFwKCc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgcGhvbmVzLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgICBzb2NpYWwuYXBwZW5kVG8obmF2LmNoaWxkcmVuKCcuY29udGFpbmVyJykpO1xuICAgIGxvZ09yUmVnLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgfWVsc2V7XG4gICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGVhZGVyQ2xvbmVGb3JNb2JpbGUoKXtcbiAgdmFyIGxpbmtzID0gICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2IHVsIGxpIGEnKTtcbiAgLy8gJCgnLmhlYWRlcl9fYm90dG9tX19uYXYgdWwgYScpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUgdWwnKTtcbiAgXG4gIC8vIGhlYWRlcl9fdG9wIGxvZy1vci1yZWdcbiAgICAvL2hlYWRlcl9fdG9wIHNvY2lhbFxuICAgIC8vaGVhZGVyX19taWRfX2NvbnRhY3RzX19waG9uZXMgYVxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGlua3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICB2YXIgY2xvbmVMaW5rID0gICQobGlua3NbaW5kZXhdKS5jbG9uZSgpO1xuICAgICQoY2xvbmVMaW5rKS5yZW1vdmVDbGFzcygnZHJvcGRvd24taXRlbScpO1xuICAgICQoY2xvbmVMaW5rKS5hcHBlbmRUbyhsaSk7XG4gICAgJChsaSkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUgdWwnKTsgICBcbiAgfVxuICAvLyAkKCcuaGVhZGVyX190b3AgZGl2LnNvY2lhbCcpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKTtcbiAgJCgnLmhlYWRlcl9fbWlkX19jb250YWN0c19fcGhvbmVzJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZScpO1xuICAkKCcuaGVhZGVyX190b3AgLmxvZy1vci1yZWcnKS5jbG9uZSgpLmFwcGVuZFRvKCcuaGVhZGVyX19ib3R0b21fX25hdl9fbW9iaWxlJyk7XG59IiwiLy8gLy9Hb29nbGUgTWFwXG4vLzxpbnB1dCBpZD1cImxhdGl0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sYXRpdHVkZVwiLz5cbi8vPGlucHV0IGlkPVwibG9uZ2l0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sb25naXR1ZGVcIi8+XG4vLzxpbnB1dCBpZD1cInRlbXBsYXRlX3R5cGVcIiB0eXBlPVwiaGlkZGVuXCIgdC1hdHQtdmFsdWU9XCJ0ZW1wbGF0ZV90eXBlXCIvPiBcblxud2luZG93LmluaXRNYXAgPSBpbml0TWFwO1xudmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvanNvbi9kYXRhLmpzb24nO1xudmFyIG1hcDtcbnZhciBtYXJrZXJzID0gW107XG52YXIgc3RhcnRQb3NpdGlvbjtcbnZhciBvYmplY3RzO1xudmFyIHNlYXJjaFJlc3VsdDtcbnZhciBjaGVja1N0YXRlO1xuLy8gdmFyIHNpbXBsZUJhclVsID0gbmV3IFNpbXBsZUJhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWxpc3QnKSk7XG5cbi8v0JfQvdCw0YfQtdC90L3RjyDQtNC70Y8gc2VsZWN0XG52YXIgZmlsdGVyVmFsdWVzID0ge1xuICBzdGF0ZXM6W10sXG4gIGNpdGllczpbXSxcbiAgZXZlbnRzVHlwZTpbXVxufTtcblxudmFyIHNlbGVjdFN0YXRlO1xudmFyIHNlbGVjdENpdHk7XG52YXIgc2VsZWN0VHlwZTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgc3RhcnRQb3NpdGlvbiA9IHtcbiAgICBsYXQgOiAkKCcjbGF0aXR1ZGUnKS52YWwoKSB8fCA1MC45OTEzMjQ5LFxuICAgIGxvZyA6ICQoJyNsb25naXR1ZGUnKS52YWwoKSB8fCA5LjQ3MjE5NjYsXG4gICAgdHlwZSA6ICQoJyN0ZW1wbGF0ZV90eXBlJykudmFsKCkgfHwgJ3RlcnJhaW4nXG4gIH07XG5cbiAgLy9HZXQgc2VsZWN0c1xuICBzZWxlY3RTdGF0ZSA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3N0YXRlIHNlbGVjdCcpO1xuICBzZWxlY3RDaXR5ID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fY2l0eSBzZWxlY3QnKTtcbiAgc2VsZWN0VHlwZSA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3R5cGUgc2VsZWN0Jyk7XG5cbiAgc2VsZWN0U3RhdGUuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgc3RhdGVcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBzZWxlY3RDaXR5LnNlbGVjdDIoe1xuICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIGNpdHlcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBzZWxlY3RUeXBlLnNlbGVjdDIoe1xuICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIGV2ZW50IHR5cGVcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBcbiAgLy9GaWx0ZXJcbiAgJCgnLnNlbGVjdDItc2VsZWN0aW9uX19jbGVhcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcblxuICAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpeyAgIFxuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX2NpdHkgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgaWYoICFzZWxlY3RTdGF0ZS52YWwoKSAmJiBzZWxlY3RDaXR5LnZhbCgpKXtcbiAgICAgIHNlbGVjdFN0YXRlLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdFN0YXRlLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuICAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19zdGF0ZSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICBpZigkKHRoaXMpLnZhbCgpKXtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBbXTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBfLmZpbHRlcihvYmplY3RzLmNpdGllc19kaWN0LHsgc3RhdGVfaWQ6IE51bWJlcigkKHRoaXMpLnZhbCgpKX0pO1xuICAgICAgc2VsZWN0Q2l0eS5odG1sKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gW107XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gb2JqZWN0cy5jaXRpZXNfZGljdDtcbiAgICAgIHNlbGVjdENpdHkuaHRtbCgnPG9wdGlvbj48L29wdGlvbj4nKTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICAgIHNlbGVjdENpdHkuYXBwZW5kKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywnLm1hcmtlci1pbmZvJyxmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5tYXJrZXItaW5mbycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBcbiAgfSk7XG4gICQud2hlbigkLmFqYXgoe1xuICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgdXJsOiAgdXJsLFxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBhc3luYzogZmFsc2UsIC8vINCX0LDQsdGA0LDRgtC4INC60L7Qu9C4INCx0YPQtNC10Ygg0L3QsCDQsdC10Lot0LXQvdC0INGB0YLRg9C60LDRgtC40YHRjFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgb2JqZWN0cyA9IGRhdGE7XG4gICAgICBzZWFyY2hSZXN1bHQgPSBkYXRhLmV2ZW50c19kaWN0O1xuICAgICAgY29uc29sZS5sb2coJ2dvb2Q6ICcsb2JqZWN0cyk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsX2Vycm9yKTtcbiAgICB9XG4gIH0pKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICBsb2FkU2NyaXB0TWFwKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gICAgZmlsdGVyVmFsdWVzLnN0YXRlcyA9IG9iamVjdHMuc3RhdGVfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gb2JqZWN0cy5jaXRpZXNfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZSA9IG9iamVjdHMuZXZlbnRfY2F0ZWdvcmllcztcbiAgICBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFN0YXRlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICB9KTtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZS5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RUeXBlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGJ1aWxkU2VhcmNoTGlzdCgpO1xuXG4gIH0pO1xufSk7XG5cblxuZnVuY3Rpb24gbG9hZFNjcmlwdE1hcCgpIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHQuZGVmZXIgPSB0cnVlO1xuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5RGZjczZtVjBYcXlGcXBvMzRHU0FUS0x0ZVBxVGdjMFdJJmNhbGxiYWNrPWluaXRNYXAnO1xuICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgZmlyc3RTY3JpcHRUYWcpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlclNvcnQoc3RhdGUsY2l0eSxldmVudF90eXBlKXtcbiAgZGVsZXRlTWFya2VycygpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICB2YXIgb2JqID0ge1xuICAgIHN0YXRlX2lkOiBzdGF0ZSA/IFtOdW1iZXIoc3RhdGUpXSA6IG51bGwsXG4gICAgY2l0eV9pZDogY2l0eSA/IFtOdW1iZXIoY2l0eSldIDogbnVsbCxcbiAgICBldmVudF90eXBlX2lkOiBldmVudF90eXBlID8gW051bWJlcihldmVudF90eXBlKV0gOiBudWxsICxcbiAgfTtcbiAgXG4gIHZhciBmaW5kT2JqID0gXy5waWNrQnkob2JqLCBfLmlkZW50aXR5KTtcbiAgc2VhcmNoUmVzdWx0ID0gXy5maWx0ZXIob2JqZWN0cy5ldmVudHNfZGljdCwgZmluZE9iaik7XG4gIGJ1aWxkU2VhcmNoTGlzdCgpO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgc2hvd01hcmtlcnMoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbn1cblxuZnVuY3Rpb24gYnVpbGRTZWFyY2hMaXN0KCl7XG4gIHZhciB1bCA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19saXN0IHVsJyk7XG4gIHZhciBsaTtcbiAgdWwuaHRtbCgnJyk7XG4gIHNlYXJjaFJlc3VsdC5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIHZhciBzdHJlZXQgPSBpdGVtLnN0cmVldCA/IGl0ZW0uc3RyZWV0IDogJyc7XG4gICAgdmFyIHppcCA9IGl0ZW0uemlwID8gaXRlbS56aXAgOiAnJztcbiAgICB2YXIgY2l0eSA9IGl0ZW0uY2l0eV9pZFsxXSA/IGl0ZW0uY2l0eV9pZFsxXSA6ICcnO1xuICAgIHZhciBkYXRlID0gU3RyaW5nKGl0ZW0uZGF0ZV9iZWdpbikuc3Vic3RyKDAsIDkpLnJlcGxhY2UoJy0nLCcuJykucmVwbGFjZSgnLScsJy4nKTtcbiAgICBkYXRlID0gZGF0ZS5zcGxpdCgnLicpO1xuICAgIGRhdGUgPSBkYXRlLnJldmVyc2UoKTtcbiAgICBkYXRlID0gZGF0ZS5qb2luKCcuJyk7XG4gICAgdmFyIHRpbWVTdGFydCA9IFN0cmluZyhpdGVtLmRhdGVfYmVnaW4pLnJlcGxhY2UoJzonLCcuJykucmVwbGFjZSgnOicsJy4nKS5zdWJzdHIoMTEsMTUpO1xuICAgIHZhciB0aW1lRW5kID0gU3RyaW5nKGl0ZW0uZGF0ZV9lbmQpLnJlcGxhY2UoJzonLCcuJykucmVwbGFjZSgnOicsJy4nKS5zdWJzdHIoMTEsMTUpO1xuICAgIHRpbWVTdGFydCA9IHRpbWVTdGFydC5zdWJzdHIoMCw1KTtcbiAgICB0aW1lRW5kID0gdGltZUVuZC5zdWJzdHIoMCw1KTtcbiAgICAkKGxpKS5odG1sKCc8aDM+JytpdGVtLm5hbWUrJzwvaDM+PGRpdj48cD4nICsgc3RyZWV0ICsgJyAnICsgemlwICsgJyAnICsgY2l0eSArICc8L3A+PGEgY2xhc3M9XCJidXR0b24gYmx1ZVwiIGhyZWY9XCJldmVudC8nICsgaXRlbS5pZCArICdcIj48c3Bhbj5QbGF0eiByZXNlcnZpZXJlbjwvc3Bhbj48L2E+PC9kaXY+PHNwYW4+QW0gJyArIGRhdGUgKyAnIHZvbiAnICsgdGltZVN0YXJ0ICsgJyBiaXMgJyArIHRpbWVFbmQgKyAnIFVocjwvc3Bhbj4nKTtcbiAgICAkKGxpKS5hcHBlbmRUbyh1bCk7XG4gIH0pO1xuICBcbiAgLy8gc2ltcGxlQmFyVWwuZ2V0Q29udGVudEVsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgdmFyIGhhaWdodEFzaGJ1cnkgPSB7bGF0OiBzdGFydFBvc2l0aW9uLmxhdCwgbG5nOiBzdGFydFBvc2l0aW9uLmxvZ307XG5cbiAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgICB6b29tOiA3LFxuICAgIGNlbnRlcjogaGFpZ2h0QXNoYnVyeSxcbiAgICBtYXBUeXBlSWQ6IHN0YXJ0UG9zaXRpb24udHlwZVxuICB9KTtcbiAgY3JlYXRlTWFya2Vyc0dyb3VwKHNlYXJjaFJlc3VsdCk7XG4gIC8vIG1hcC5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAvLyAgIGFkZE1hcmtlcihldmVudC5sYXRMbmcpO1xuICAvLyB9KTtcbiAgLy8gYWRkTWFya2VyKGhhaWdodEFzaGJ1cnkpO1xufVxuXG5mdW5jdGlvbiBhZGRNYXJrZXIobG9jYXRpb24sY29udGVudFN0cmluZykge1xuICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgcG9zaXRpb246IGxvY2F0aW9uLFxuICAgIG1hcDogbWFwXG4gIH0pO1xuICBtYXJrZXIuc2V0VmlzaWJsZShmYWxzZSk7XG4gIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuICAgIGNvbnRlbnQ6IGNvbnRlbnRTdHJpbmdcbiAgfSk7XG4gIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG4gIG1hcmtlcnMucHVzaChtYXJrZXIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXJrZXJzR3JvdXAoaXRlbXMpe1xuICBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgdmFyIHN0cmVldCA9IGl0ZW0uc3RyZWV0ID8gaXRlbS5zdHJlZXQgKyAnICwnIDogJyc7XG4gICAgdmFyIGNpdHkgPSBpdGVtLmNpdHlfaWRbMV0gPyBpdGVtLmNpdHlfaWRbMV0gKyAnICwnIDogJyc7XG4gICAgdmFyIGNvdW50cnkgPSAgaXRlbS5jb3VudHJ5X2lkWzFdID8gaXRlbS5jb3VudHJ5X2lkWzFdIDogJyc7XG4gICAgdmFyIHppcCA9IGl0ZW0uemlwID8gaXRlbS56aXAgOiAnJztcbiAgICB2YXIgY29udGVudFN0cmluZyA9ICc8ZGl2IGNsYXNzPVwibWFya2VyLWluZm9cIj48ZGl2IGNsYXNzPVwibWFya2VyLWluZm8tdGl0bGVcIj48c3Bhbj48L3NwYW4+PGgyPicraXRlbS5jaXR5X2lkWzFdKyc8L2gyPjwvZGl2PjxkaXYgY2xhc3M9XCJtYXJrZXItaW5mby1jb250ZW50XCI+PGEgaHJlZj1cInRlbDoxMjNcIiBjbGFzcz1cInBob25lXCI+MTIzMTIzMTIzMTIzPC9hPjxwIGNsYXNzPVwiYWRkcmVzc1wiPjxzcGFuPicrIHN0cmVldCArJzwvc3Bhbj48c3Bhbj4nKyB6aXAgKycgJysgY2l0eSArJzwvc3Bhbj4gPHNwYW4+JysgY291bnRyeSArJzwvc3Bhbj48L3A+PC9kaXY+IDwvZGl2Pic7XG4gICAgYWRkTWFya2VyKHtcbiAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSwgXG4gICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlXG4gICAgfSxjb250ZW50U3RyaW5nKTtcbiAgfSk7IFxufVxuXG5mdW5jdGlvbiBzZXRNYXBPbkFsbChtYXApIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbWFya2Vyc1tpXS5zZXRNYXAobWFwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhck1hcmtlcnMoKSB7XG4gIHNldE1hcE9uQWxsKG51bGwpO1xufVxuXG5mdW5jdGlvbiBzaG93TWFya2VycygpIHtcbiAgc2V0TWFwT25BbGwobWFwKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlTWFya2VycygpIHtcbiAgY2xlYXJNYXJrZXJzKCk7XG4gIG1hcmtlcnMgPSBbXTtcbn1cblxuXG4vL0N1c3RvbSBNYXJrZXIgSFRNTFxuXG4vLyBmdW5jdGlvbiBDdXN0b21NYXJrZXIobGF0bG5nLCBtYXAsIGFyZ3MpIHtcbi8vIFx0dGhpcy5sYXRsbmcgPSBsYXRsbmc7XHRcbi8vIFx0dGhpcy5hcmdzID0gYXJncztcdFxuLy8gXHR0aGlzLnNldE1hcChtYXApO1x0XG4vLyB9XG5cbi8vIEN1c3RvbU1hcmtlci5wcm90b3R5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcoKTtcblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XG5cdFxuLy8gXHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuLy8gXHR2YXIgZGl2ID0gdGhpcy5kaXY7XG5cdFxuLy8gXHRpZiAoIWRpdikge1xuXHRcbi8vIFx0XHRkaXYgPSB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFxuLy8gXHRcdGRpdi5jbGFzc05hbWUgPSAnbWFya2VyJztcblx0XHRcbi8vIFx0XHRkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuLy8gXHRcdGRpdi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4vLyBcdFx0ZGl2LnN0eWxlLndpZHRoID0gJzIwcHgnO1xuLy8gXHRcdGRpdi5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XG4vLyBcdFx0ZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmx1ZSc7XG5cdFx0XG4vLyBcdFx0aWYgKHR5cGVvZihzZWxmLmFyZ3MubWFya2VyX2lkKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vIFx0XHRcdGRpdi5kYXRhc2V0Lm1hcmtlcl9pZCA9IHNlbGYuYXJncy5tYXJrZXJfaWQ7XG4vLyBcdFx0fVxuXHRcdFxuLy8gXHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGRpdiwgXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1x0XHRcdFxuLy8gXHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihzZWxmLCBcImNsaWNrXCIpO1xuLy8gXHRcdH0pO1xuXHRcdFxuLy8gXHRcdHZhciBwYW5lcyA9IHRoaXMuZ2V0UGFuZXMoKTtcbi8vIFx0XHRwYW5lcy5vdmVybGF5SW1hZ2UuYXBwZW5kQ2hpbGQoZGl2KTtcbi8vIFx0fVxuXHRcbi8vIFx0dmFyIHBvaW50ID0gdGhpcy5nZXRQcm9qZWN0aW9uKCkuZnJvbUxhdExuZ1RvRGl2UGl4ZWwodGhpcy5sYXRsbmcpO1xuXHRcbi8vIFx0aWYgKHBvaW50KSB7XG4vLyBcdFx0ZGl2LnN0eWxlLmxlZnQgPSBwb2ludC54ICsgJ3B4Jztcbi8vIFx0XHRkaXYuc3R5bGUudG9wID0gcG9pbnQueSArICdweCc7XG4vLyBcdH1cbi8vIH07XG5cbi8vIEN1c3RvbU1hcmtlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4vLyBcdGlmICh0aGlzLmRpdikge1xuLy8gXHRcdHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuLy8gXHRcdHRoaXMuZGl2ID0gbnVsbDtcbi8vIFx0fVx0XG4vLyB9O1xuXG4vLyBDdXN0b21NYXJrZXIucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4vLyBcdHJldHVybiB0aGlzLmxhdGxuZztcdFxuLy8gfTtcblxuXG5cbiIsInZhciBjdHhPbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2hhcnRPbmVcIikuZ2V0Q29udGV4dCgnMmQnKTtcbnZhciBjdHhUd28gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2hhcnRUd29cIikuZ2V0Q29udGV4dCgnMmQnKTtcblxuQ2hhcnQucGx1Z2lucy51bnJlZ2lzdGVyKENoYXJ0RGF0YUxhYmVscyk7XG5DaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRDb2xvciA9ICcjMjkyOTI5JztcbkNoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFNpemUgPSAxNDtcbkNoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSA9ICdQb3BwaW5zLVNlbWlCb2xkJztcblxudmFyIG9wdGlvbnMgPSB7XG4gICAgZGlzcGxheTp0cnVlLFxuICAgIGxheW91dDoge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICBsZWZ0OiAyMFxuICAgICAgICB9XG4gICAgfSxcbiAgICBwbHVnaW5zOiB7XG4gICAgICBkYXRhbGFiZWxzOiB7XG4gICAgICAgICAgY29sb3I6ICcjMjkyOTI5JyxcbiAgICAgICAgICBhbmNob3I6J2VuZCcsXG4gICAgICAgICAgYWxpZ24gOid0b3AnLFxuICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArICcg4oKsJyA7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2NhbGVzOiB7XG4gICAgICAgIHlBeGVzOiBbeyAgXG4gICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgYmVnaW5BdFplcm86dHJ1ZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgICsgJyDigqwnO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICB9XG59O1xuXG52YXIgZGF0YU9uZSA9IHtcbiAgICBsYWJlbHM6IFtcIjFcIiwgXCI1XCIsIFwiMTBcIiwgXCIxNVwiLCBcIjIwXCIsIFwiMjVcIl0sXG4gICAgZGF0YXNldHM6IFt7XG4gICAgICAgIGxhYmVsOiAnIyBvZiBWb3RlcycsXG4gICAgICAgIGRhdGE6IFsxMDAwMDAsIDE5LCAzLCA1LCAyLCAzXSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgIGJvcmRlcldpZHRoOiAxXG4gICAgfV1cbn07XG5cbnZhciBkYXRhVHdvID0ge1xuICAgIGxhYmVsczogW1wiMVwiLCBcIjVcIiwgXCIxMFwiLCBcIjE1XCIsIFwiMjBcIiwgXCIyNVwiXSxcbiAgICBkYXRhc2V0czogW3tcbiAgICAgICAgbGFiZWw6ICcjIG9mIFZvdGVzJyxcbiAgICAgICAgZGF0YTogWzEyNDEyNCwgMTIzMTIzNCwgNTc1Njc1LDg5Njg2NzgsMTIzNSwgNDEyMzU1Nl0sXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NGFjZDcnLFxuICAgICAgICBib3JkZXJDb2xvcjogJyM0NGFjZDcnLFxuICAgICAgICBib3JkZXJXaWR0aDogMVxuICAgIH1dXG59O1xuXG52YXIgbXlDaGFydE9uZSA9IG5ldyBDaGFydChjdHhPbmUsIHtcbiAgICB0eXBlOiAnYmFyJyxcbiAgICBkYXRhOiBkYXRhT25lLFxuICAgIHBsdWdpbnM6IFtDaGFydERhdGFMYWJlbHNdLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbn0pO1xuXG52YXIgbXlDaGFydFR3byA9IG5ldyBDaGFydChjdHhUd28sIHtcbiAgICB0eXBlOiAnYmFyJyxcbiAgICBkYXRhOiBkYXRhVHdvLFxuICAgIHBsdWdpbnM6IFtDaGFydERhdGFMYWJlbHNdLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbn0pO1xuXG4iXX0=
