function n(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function o(){var e,t,a=$(".webinar-info h2"),n=a.css("marginBottom");$(a[0]).outerHeight()<=$(a[1]).outerHeight()?($(a[0]).css("marginBottom",n),e=$(a[0]).outerHeight(),t=$(a[1]).outerHeight()-e,$(a[0]).css("marginBottom",parseFloat($(a[0]).css("marginBottom"))+t+"px")):($(a[1]).css("marginBottom",n),e=$(a[1]).outerHeight(),t=$(a[0]).outerHeight()-e,$(a[1]).css("marginBottom",parseFloat($(a[1]).css("marginBottom"))+t+"px"))}function i(){991<=window.outerWidth&&setTimeout(function(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left;$(".seminare-and-map .map .map-wrap").css({width:e-t+"px"}),console.log(t)},111)}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),a=$(".new-properties__item__location div"),n=0,o=0;a.removeAttr("style"),t.removeAttr("style"),a.map(function(){$(this).outerHeight()>=n&&(n=$(this).outerHeight())}),t.map(function(){$(this).height()>=o&&(o=$(this).height())}),a.css("height",n+"px"),t.css("height",o+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}$(function(){!function(){for(var e=$(".header__bottom__nav ul li a"),t=0;t<e.length;t++){var a=document.createElement("li"),n=$(e[t]).clone();$(n).removeClass("dropdown-item"),$(n).appendTo(a),$(a).appendTo(".header__bottom__nav__mobile ul")}$(".header__mid__contacts__phones").clone().appendTo(".header__bottom__nav__mobile"),$(".header__top .log-or-reg").clone().appendTo(".header__bottom__nav__mobile")}(),e(),setTimeout(function(){var e,t,a;n(),o(),i(),s(),e=$(".object-fit-simulation"),t=e.find("img"),a=t.attr("src"),t.css("display","none"),e.css({background:"url("+a+") no-repeat center / cover"})},111),$(window).scroll(function(){}),$(window).resize(function(){n(),o(),s(),i()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav__mobile").toggleClass("active")}),$("#show-agents").click(function(){e()})});var a=!1;function e(){var e=$(".agents .row>div");if(a)e.fadeIn(),a=!a;else{for(var t=2;t<e.length;t++)$(e[t]).fadeOut();a=!a}console.log(e)}window.initMap=function(){var e={lat:l.lat,lng:l.log};r=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:l.type}),b(d)};var r,l,c,d,p,u,m,h,g=[],t={states:[],cities:[],eventsType:[]};function v(e,t,a){y(null),g=[];var n={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:a?[Number(a)]:null},o=_.pickBy(n,_.identity);d=_.filter(c.events_dict,o),f(),b(d),y(r),console.log(d.length,c.events_dict.length),d.length!==c.events_dict.length?(r.setCenter({lat:parseFloat(d[0].latitude),lng:parseFloat(d[0].longitude)}),r.setZoom(14),console.log("+")):(r.setCenter({lat:l.lat,lng:l.log}),r.setZoom(7),console.log("-"))}function f(){var r,l=$(".seminare__search__list ul");l.html(""),d.map(function(e){r=document.createElement("li");var t=e.street?e.street:"",a=e.zip?e.zip:"",n=e.city_id[1]?e.city_id[1]:"",o=String(e.date_begin).substr(0,9).replace("-",".").replace("-",".");o=(o=(o=o.split(".")).reverse()).join(".");var i=String(e.date_begin).replace(":",".").replace(":",".").substr(11,15),s=String(e.date_end).replace(":",".").replace(":",".").substr(11,15);i=i.substr(0,5),s=s.substr(0,5),$(r).html("<h3>"+e.name+"</h3><div><p>"+t+" "+a+" "+n+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+o+" von "+i+" bis "+s+" Uhr</span>"),$(r).appendTo(l)})}function b(e){console.log(e),e.map(function(e){var t=e.street?e.street+" ,":"",a=e.city_id[1]?e.city_id[1]+" ,":"",n=e.country_id[1]?e.country_id[1]:"",o=e.zip?e.zip:"",i='<div class="marker-info"><div class="marker-info-title"><span></span><h2>'+e.city_id[1]+'</h2></div><div class="marker-info-content"><a href="tel:123" class="phone">123123123123</a><p class="address"><span>'+t+"</span><span>"+o+" "+a+"</span> <span>"+n+"</span></p></div> </div>";!function(e,t){new google.maps.LatLngBounds;var a=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({center:a,position:a,map:r});n.setVisible(!1),new google.maps.InfoWindow({content:t}).open(r,n),g.push(n)}({lat:e.latitude,lng:e.longitude},i)})}function y(e){for(var t=0;t<g.length;t++)g[t].setMap(e)}$(document).ready(function(){l={lat:parseFloat($("#latitude").val())||50.9913249,log:parseFloat($("#longitude").val())||9.4721966,type:$("#template_type").val()||"terrain"},$(window).resize(function(){}),p=$(".seminare__search__filter__state select"),u=$(".seminare__search__filter__city select"),m=$(".seminare__search__filter__type select"),p.select2({width:"resolve",theme:"classic",placeholder:"Select a state",allowClear:!0}),u.select2({width:"resolve",theme:"classic",placeholder:"Select a city",allowClear:!0}),m.select2({width:"resolve",theme:"classic",placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){v(p.val(),u.val(),m.val())}),$(".seminare__search__filter select").change(function(){v(p.val(),u.val(),m.val())}),$(".seminare__search__filter__city select").change(function(){!p.val()&&u.val()?p.prop("disabled",!0):p.prop("disabled",!1),v(p.val(),u.val(),m.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(t.cities=[],t.cities=_.filter(c.cities_dict,{state_id:Number($(this).val())}),u.html("<option></option>"),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)})):(t.cities=[],t.cities=c.cities_dict,u.html("<option></option>"),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)})),v(p.val(),u.val(),m.val())}),$(document).on("click",".marker-info",function(){$(this).hasClass("active")?$(this).removeClass("active"):($(".marker-info").removeClass("active"),$(this).addClass("active"))}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){d=(c=e).events_dict,console.log("good: ",e)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),t.states=c.state_dict,t.cities=c.cities_dict,t.eventsType=c.event_categories,t.states.map(function(e){var t=new Option(e.name,e.id);p.append(t)}),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)}),t.eventsType.map(function(e){var t=new Option(e.name,e.id);m.append(t)}),f()})}),Chart.plugins.unregister(ChartDataLabels);var w="http://localhost:3000/json/charts-data.json";function C(e){return $.ajax({type:"GET",url:e,dataType:"json",async:!1,success:function(e){h=e,console.log(h)},error:function(e){console.log("error: ",e)}})}function k(e,t,a){var n,o,i,s,r,l,c;document.querySelector(".charts__block__item.one").innerHTML="",document.querySelector(".charts__block__item.two").innerHTML="",l=document.createElement("canvas"),c=document.createElement("canvas"),l.id="myChartOne",c.id="myChartTwo",document.querySelector(".charts__block__item.one").appendChild(l),document.querySelector(".charts__block__item.two").appendChild(c),n=document.getElementById("myChartOne").getContext("2d"),o=document.getElementById("myChartTwo").getContext("2d"),r={display:!0,layout:{padding:{left:20,top:30}},legend:{display:!1},plugins:{datalabels:{color:"#292929",anchor:"end",align:"top",formatter:function(e,t){return e+" €"}}},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return e+" €"}}}]}},Chart.defaults.global.defaultFontColor="#292929",Chart.defaults.global.defaultFontSize=14,Chart.defaults.global.defaultFontFamily="Poppins-SemiBold",i={labels:e||h.label,datasets:[{data:t||h.chart[0].data1,backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},s={labels:e||h.label,datasets:[{data:a||h.chart[0].data2,backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},new Chart(n,{type:"bar",data:i,plugins:[ChartDataLabels],options:r}),new Chart(o,{type:"bar",data:s,plugins:[ChartDataLabels],options:r})}$(document).ready(function(){$.when(C(w)).done(function(){k(h.label,h.chart[0].data1,h.chart[0].data2)}),$(window).resize(function(){window.outerWidth});for(var e=$(".charts__buttons"),t=0;t<h.percents.length;t++){var a=document.createElement("button");a.value=h.percents[t],a.classList.add("button"),a.classList.add("red"),$(a).html("<span>"+h.percents[t]+"%</span>"),$(a).appendTo(e),a.addEventListener("click",function(){C(w),k(h.label,h.chart[1].data1,h.chart[1].data2)})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiLCJjaGFydHMuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvdyIsIm91dGVyV2lkdGgiLCJzZXRUaW1lb3V0Iiwid2luZG93V2lkdGgiLCJtYXBPZmZzZXQiLCJvZmZzZXQiLCJsZWZ0Iiwid2lkdGgiLCJjb25zb2xlIiwibG9nIiwibmV3UHJvcGVydGllc0l0ZW1IZWlnaHQiLCJpdGVtc0xpbmVIZWlnaHQiLCJpdGVtc1RleHRUaXRsZSIsIml0ZW1zTG9jYXRpb25IZWlnaHQiLCJtYXhIZWlnaHQxIiwibWF4SGVpZ2h0MiIsInJlbW92ZUF0dHIiLCJtYXAiLCJ0aGlzIiwibGlua3MiLCJpbmRleCIsImxlbmd0aCIsImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xvbmVMaW5rIiwiY2xvbmUiLCJyZW1vdmVDbGFzcyIsImFwcGVuZFRvIiwiaGVhZGVyQ2xvbmVGb3JNb2JpbGUiLCJzaG93QWdlbnRzIiwic2ltdWxhdG9yIiwiaW1nIiwiaW1nU3JjIiwiZmluZCIsImF0dHIiLCJiYWNrZ3JvdW5kIiwic2Nyb2xsIiwicmVzaXplIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsInNob3dBZ2VudHNTdGF0dXMiLCJhZ2VudHMiLCJmYWRlSW4iLCJpIiwiZmFkZU91dCIsImluaXRNYXAiLCJoYWlnaHRBc2hidXJ5IiwibGF0Iiwic3RhcnRQb3NpdGlvbiIsImxuZyIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJjZW50ZXIiLCJtYXBUeXBlSWQiLCJ0eXBlIiwiY3JlYXRlTWFya2Vyc0dyb3VwIiwic2VhcmNoUmVzdWx0Iiwib2JqZWN0cyIsInNlbGVjdFN0YXRlIiwic2VsZWN0Q2l0eSIsInNlbGVjdFR5cGUiLCJjaGFydHNEYXRhIiwibWFya2VycyIsImZpbHRlclZhbHVlcyIsInN0YXRlcyIsImNpdGllcyIsImV2ZW50c1R5cGUiLCJmaWx0ZXJTb3J0Iiwic3RhdGUiLCJjaXR5IiwiZXZlbnRfdHlwZSIsInNldE1hcE9uQWxsIiwib2JqIiwic3RhdGVfaWQiLCJOdW1iZXIiLCJjaXR5X2lkIiwiZXZlbnRfdHlwZV9pZCIsImZpbmRPYmoiLCJfIiwicGlja0J5IiwiaWRlbnRpdHkiLCJmaWx0ZXIiLCJldmVudHNfZGljdCIsImJ1aWxkU2VhcmNoTGlzdCIsInNldENlbnRlciIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwic2V0Wm9vbSIsInVsIiwiaHRtbCIsIml0ZW0iLCJzdHJlZXQiLCJ6aXAiLCJkYXRlIiwiU3RyaW5nIiwiZGF0ZV9iZWdpbiIsInN1YnN0ciIsInJlcGxhY2UiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwidGltZVN0YXJ0IiwidGltZUVuZCIsImRhdGVfZW5kIiwibmFtZSIsImlkIiwiY291bnRyeSIsImNvdW50cnlfaWQiLCJjb250ZW50U3RyaW5nIiwibG9jYXRpb24iLCJMYXRMbmdCb3VuZHMiLCJsYXRMbmciLCJMYXRMbmciLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldFZpc2libGUiLCJJbmZvV2luZG93IiwiY29udGVudCIsIm9wZW4iLCJwdXNoIiwiYWRkTWFya2VyIiwic2V0TWFwIiwicmVhZHkiLCJ2YWwiLCJzZWxlY3QyIiwidGhlbWUiLCJwbGFjZWhvbGRlciIsImFsbG93Q2xlYXIiLCJjaGFuZ2UiLCJwcm9wIiwiY2l0aWVzX2RpY3QiLCJvcHRpb24iLCJPcHRpb24iLCJhcHBlbmQiLCJvbiIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJ3aGVuIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiYXN5bmMiLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwiX2Vycm9yIiwiZG9uZSIsInNjcmlwdCIsImRlZmVyIiwic3JjIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJsb2FkU2NyaXB0TWFwIiwic3RhdGVfZGljdCIsImV2ZW50X2NhdGVnb3JpZXMiLCJDaGFydCIsInBsdWdpbnMiLCJ1bnJlZ2lzdGVyIiwiQ2hhcnREYXRhTGFiZWxzIiwidXJsQ2hhcnRzIiwiZ2V0QnV0dG9uRGF0YSIsImluaXRzQ2hhcnRzIiwibGFiZWxzIiwiZGF0YTEiLCJkYXRhMiIsImN0eE9uZSIsImN0eFR3byIsImRhdGFPbmUiLCJkYXRhVHdvIiwic2V0T3B0aW9ucyIsImNoYXJ0Q29udGFpbmVyT25lIiwiY2hhcnRDb250YWluZXJUd28iLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiZ2V0Q29udGV4dCIsImRpc3BsYXkiLCJsYXlvdXQiLCJwYWRkaW5nIiwidG9wIiwibGVnZW5kIiwiZGF0YWxhYmVscyIsImNvbG9yIiwiYW5jaG9yIiwiYWxpZ24iLCJmb3JtYXR0ZXIiLCJ2YWx1ZSIsImNvbnRleHQiLCJzY2FsZXMiLCJ5QXhlcyIsInRpY2tzIiwiYmVnaW5BdFplcm8iLCJjYWxsYmFjayIsInZhbHVlcyIsImRlZmF1bHRzIiwiZ2xvYmFsIiwiZGVmYXVsdEZvbnRDb2xvciIsImRlZmF1bHRGb250U2l6ZSIsImRlZmF1bHRGb250RmFtaWx5IiwibGFiZWwiLCJkYXRhc2V0cyIsImNoYXJ0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsIm9wdGlvbnMiLCJjaGFydHNCdXR0b25zQ29udGFpbmVyIiwicGVyY2VudHMiLCJidXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQUF1Q0EsU0FBQUEsSUFDQSxJQUFBQyxFQUFBQyxFQUFBLGlCQUFBQyxjQUNBRCxFQUFBLHdCQUFBRSxJQUFBLGFBQUEsZ0JBQUFILEVBQUEsT0FJQSxTQUFBSSxJQUNBLElB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QUNBNEssRUFBQUMsVUFBQUMsSUFBQSxVQUNBRixFQUFBQyxVQUFBQyxJQUFBLE9BQ0FuTyxFQUFBaU8sR0FBQTNILEtBQUEsU0FBQTVCLEVBQUFzSixTQUFBM0ssR0FBQSxZQUNBckQsRUFBQWlPLEdBQUE1TCxTQUFBMEwsR0FDQUUsRUFBQUcsaUJBQUEsUUFBQSxXQUNBbEQsRUFBQUQsR0FDQUUsRUFBQXpHLEVBQUE4SSxNQUFBOUksRUFBQWdKLE1BQUEsR0FBQXJDLE1BQUEzRyxFQUFBZ0osTUFBQSxHQUFBcEMiLCJmaWxlIjoiY3VzdG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcbiAgaGVhZGVyQ2xvbmVGb3JNb2JpbGUoKTtcbiAgc2hvd0FnZW50cygpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGhlYWRlckhlaWdodCgpO1xuICAgIHRpdGxlQWxpZ24oKTtcbiAgICBtYXBXaWR0aCgpO1xuICAgIG5ld1Byb3BlcnRpZXNJdGVtSGVpZ2h0KCk7XG4gICAgb2JqZWN0Rml0U2ltdWxhdGlvbigpO1xuICB9LCAxMTEpO1xuXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7fSk7XG5cbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKTtcbiAgICBtYXBXaWR0aCgpO1xuICB9KTtcbiAgJCgnLm1lbnUtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAkKCcuaGVhZGVyX19ib3R0b21fX25hdl9fbW9iaWxlJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbiAgJCgnI3Nob3ctYWdlbnRzJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBzaG93QWdlbnRzKCk7XG4gIH0pXG59KTtcblxuLy9vYmplY3QtZml0LXNpbXVsYXRpb25cbmZ1bmN0aW9uIG9iamVjdEZpdFNpbXVsYXRpb24oKXtcbiAgdmFyIHNpbXVsYXRvciA9ICQoJy5vYmplY3QtZml0LXNpbXVsYXRpb24nKTtcbiAgdmFyIGltZyA9IHNpbXVsYXRvci5maW5kKCdpbWcnKTtcbiAgdmFyIGltZ1NyYyA9IGltZy5hdHRyKCdzcmMnKTtcbiAgaW1nLmNzcygnZGlzcGxheScsJ25vbmUnKTtcbiAgc2ltdWxhdG9yLmNzcyh7XG4gICAgJ2JhY2tncm91bmQnOid1cmwoJytpbWdTcmMrJykgbm8tcmVwZWF0IGNlbnRlciAvIGNvdmVyJyxcbiAgfSk7XG59XG4vL3dlYmluYXIgaGVpZ2h0XG5mdW5jdGlvbiBoZWFkZXJIZWlnaHQoKSB7XG4gIHZhciBoZWlnaHQgPSAkKFwiaGVhZGVyLmhlYWRlclwiKS5vdXRlckhlaWdodCgpO1xuICAkKFwic2VjdGlvbi53ZWJpbmFyLWluZm9cIikuY3NzKFwibWluLWhlaWdodFwiLCBcImNhbGMoMTAwdmggLSBcIiArIGhlaWdodCArIFwicHgpXCIpO1xufVxuXG4vL3dlYmluYXIgdGl0bGUgYWxpZ25cbmZ1bmN0aW9uIHRpdGxlQWxpZ24oKSB7XG4gIHZhciBpdGVtcyA9ICQoXCIud2ViaW5hci1pbmZvIGgyXCIpO1xuICB2YXIgZGVmYXVsdE1hcmdpbiA9IGl0ZW1zLmNzcygnbWFyZ2luQm90dG9tJyk7XG4gIHZhciBtYXg7XG4gIHZhciBtaW47XG4gIHZhciBoZWlnaHQ7XG4gIGlmICgkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpIDw9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCkpIHtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzBdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzFdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfVxufVxuXG4vL21hcCBzaXplXG5mdW5jdGlvbiBtYXBXaWR0aCgpIHtcbiAgaWYod2luZG93Lm91dGVyV2lkdGggPj0gOTkxKXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgd2luZG93V2lkdGggPSAkKFwiYm9keVwiKS5vdXRlcldpZHRoKCk7XG4gICAgICB2YXIgbWFwT2Zmc2V0ID0gJChcIi5zZW1pbmFyZS1hbmQtbWFwIC5tYXBcIikub2Zmc2V0KCkubGVmdDtcbiAgICAgIC8vIHZhciBzZW1pbmFyV0lkdGggPSAkKCcuc2VtaW5hcmUtYW5kLW1hcCAuc2VtaW5hcmUnKS5vdXRlcldpZHRoKCk7XG4gICAgICAvLyB2YXIgY29udGFpbmVyUGFkZGluZyA9IHBhcnNlRmxvYXQoJCgnLnNlbWluYXJlLWFuZC1tYXAgLmNvbnRhaW5lcicpLmNzcygncGFkZGluZ0xlZnQnKSk7XG4gICAgICAvLyB2YXIgY29udGFpbmVySGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcuc2VtaW5hcmUtYW5kLW1hcCAuY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSk7XG4gICAgICAkKFwiLnNlbWluYXJlLWFuZC1tYXAgLm1hcCAubWFwLXdyYXBcIikuY3NzKHtcbiAgICAgICAgXCJ3aWR0aFwiOiB3aW5kb3dXaWR0aCAtIG1hcE9mZnNldCArIFwicHhcIixcbiAgICAgICAgLy8gJ2xlZnQnOiBzZW1pbmFyV0lkdGggKyBjb250YWluZXJQYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgLy8gJ2hlaWdodCc6IGNvbnRhaW5lckhlaWdodCArICdweCdcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2cobWFwT2Zmc2V0KTtcbiAgICB9LDExMSk7XG4gIH1cbn1cblxuLy8gbmV3LXByb3Blcml0aWVzIG5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IGhlaWdodFxuZnVuY3Rpb24gbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKXtcbiAgdmFyIGl0ZW1zTGluZUhlaWdodCA9IHBhcnNlRmxvYXQoJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IHAnKS5jc3MoJ2xpbmVIZWlnaHQnKSk7XG4gIHZhciBpdGVtc1RleHRUaXRsZSA9ICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fdGV4dCBoMycpO1xuICB2YXIgaXRlbXNMb2NhdGlvbkhlaWdodCA9ICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX2xvY2F0aW9uIGRpdicpO1xuICB2YXIgbWF4SGVpZ2h0MSA9IDA7XG4gIHZhciBtYXhIZWlnaHQyID0gMDtcbiAgaXRlbXNMb2NhdGlvbkhlaWdodC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICBpdGVtc1RleHRUaXRsZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICBpdGVtc0xvY2F0aW9uSGVpZ2h0Lm1hcChmdW5jdGlvbigpeyAgIFxuICAgIGlmKCQodGhpcykub3V0ZXJIZWlnaHQoKSA+PSBtYXhIZWlnaHQxKXtcbiAgICAgIG1heEhlaWdodDEgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNUZXh0VGl0bGUubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oZWlnaHQoKSA+PSBtYXhIZWlnaHQyKXtcbiAgICAgIG1heEhlaWdodDIgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgIH1cbiAgfSk7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQxICsgJ3B4Jyk7XG4gIGl0ZW1zVGV4dFRpdGxlLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0MiArICdweCcpO1xuICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnaGVpZ2h0JywgaXRlbXNMaW5lSGVpZ2h0ICogMiArICdweCcpO1xufVxuXG5mdW5jdGlvbiBoZWFkZXJDbG9uZUZvck1vYmlsZSgpe1xuICB2YXIgbGlua3MgPSAgJCgnLmhlYWRlcl9fYm90dG9tX19uYXYgdWwgbGkgYScpO1xuICAvLyAkKCcuaGVhZGVyX19ib3R0b21fX25hdiB1bCBhJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZSB1bCcpO1xuICBcbiAgLy8gaGVhZGVyX190b3AgbG9nLW9yLXJlZ1xuICAgIC8vaGVhZGVyX190b3Agc29jaWFsXG4gICAgLy9oZWFkZXJfX21pZF9fY29udGFjdHNfX3Bob25lcyBhXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaW5rcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIHZhciBjbG9uZUxpbmsgPSAgJChsaW5rc1tpbmRleF0pLmNsb25lKCk7XG4gICAgJChjbG9uZUxpbmspLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1pdGVtJyk7XG4gICAgJChjbG9uZUxpbmspLmFwcGVuZFRvKGxpKTtcbiAgICAkKGxpKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZSB1bCcpOyAgIFxuICB9XG4gIC8vICQoJy5oZWFkZXJfX3RvcCBkaXYuc29jaWFsJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZScpO1xuICAkKCcuaGVhZGVyX19taWRfX2NvbnRhY3RzX19waG9uZXMnKS5jbG9uZSgpLmFwcGVuZFRvKCcuaGVhZGVyX19ib3R0b21fX25hdl9fbW9iaWxlJyk7XG4gICQoJy5oZWFkZXJfX3RvcCAubG9nLW9yLXJlZycpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKTtcbn1cblxuLy9TaG93IEFnZW50cyBidXR0b25cbnZhciBzaG93QWdlbnRzU3RhdHVzID0gZmFsc2U7XG5mdW5jdGlvbiBzaG93QWdlbnRzKCl7IFxuICB2YXIgYWdlbnRzID0gJCgnLmFnZW50cyAucm93PmRpdicpO1xuICBpZihzaG93QWdlbnRzU3RhdHVzKXtcbiAgICBhZ2VudHMuZmFkZUluKCk7XG4gICAgc2hvd0FnZW50c1N0YXR1cyA9ICFzaG93QWdlbnRzU3RhdHVzO1xuICB9ZWxzZXtcbiAgICBmb3IodmFyIGkgPSAyOyBpIDwgYWdlbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICQoYWdlbnRzW2ldKS5mYWRlT3V0KCk7XG4gICAgfVxuICAgIHNob3dBZ2VudHNTdGF0dXMgPSAhc2hvd0FnZW50c1N0YXR1cztcbiAgfVxuICBjb25zb2xlLmxvZyhhZ2VudHMpO1xufSIsIi8vIC8vR29vZ2xlIE1hcFxuLy88aW5wdXQgaWQ9XCJsYXRpdHVkZVwiIHR5cGU9XCJoaWRkZW5cIiB0LWF0dC12YWx1ZT1cImNvdW50cnkubGF0aXR1ZGVcIi8+XG4vLzxpbnB1dCBpZD1cImxvbmdpdHVkZVwiIHR5cGU9XCJoaWRkZW5cIiB0LWF0dC12YWx1ZT1cImNvdW50cnkubG9uZ2l0dWRlXCIvPlxuLy88aW5wdXQgaWQ9XCJ0ZW1wbGF0ZV90eXBlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwidGVtcGxhdGVfdHlwZVwiLz4gXG5cbndpbmRvdy5pbml0TWFwID0gaW5pdE1hcDtcbnZhciB1cmxNYXAgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2pzb24vZGF0YS5qc29uJztcbnZhciBtYXA7XG52YXIgbWFya2VycyA9IFtdO1xudmFyIHN0YXJ0UG9zaXRpb247XG52YXIgb2JqZWN0cztcbnZhciBzZWFyY2hSZXN1bHQ7XG52YXIgY2hlY2tTdGF0ZTtcbi8vIHZhciBzaW1wbGVCYXJVbCA9IG5ldyBTaW1wbGVCYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1saXN0JykpO1xuXG4vL9CX0L3QsNGH0LXQvdC90Y8g0LTQu9GPIHNlbGVjdFxudmFyIGZpbHRlclZhbHVlcyA9IHtcbiAgc3RhdGVzOltdLFxuICBjaXRpZXM6W10sXG4gIGV2ZW50c1R5cGU6W11cbn07XG5cbnZhciBzZWxlY3RTdGF0ZTtcbnZhciBzZWxlY3RDaXR5O1xudmFyIHNlbGVjdFR5cGU7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gIHN0YXJ0UG9zaXRpb24gPSB7XG4gICAgbGF0IDogcGFyc2VGbG9hdCgkKCcjbGF0aXR1ZGUnKS52YWwoKSkgfHwgNTAuOTkxMzI0OSxcbiAgICBsb2cgOiBwYXJzZUZsb2F0KCQoJyNsb25naXR1ZGUnKS52YWwoKSkgfHwgOS40NzIxOTY2LFxuICAgIHR5cGUgOiAkKCcjdGVtcGxhdGVfdHlwZScpLnZhbCgpIHx8ICd0ZXJyYWluJ1xuICB9O1xuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cbiAgfSk7XG5cbiAgLy9HZXQgc2VsZWN0c1xuICBzZWxlY3RTdGF0ZSA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3N0YXRlIHNlbGVjdCcpO1xuICBzZWxlY3RDaXR5ID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fY2l0eSBzZWxlY3QnKTtcbiAgc2VsZWN0VHlwZSA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3R5cGUgc2VsZWN0Jyk7XG5cbiAgc2VsZWN0U3RhdGUuc2VsZWN0Mih7XG4gICAgd2lkdGg6ICdyZXNvbHZlJyxcbiAgICB0aGVtZTogXCJjbGFzc2ljXCIsXG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgc3RhdGVcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBzZWxlY3RDaXR5LnNlbGVjdDIoe1xuICAgIHdpZHRoOiAncmVzb2x2ZScsXG4gICAgdGhlbWU6IFwiY2xhc3NpY1wiLFxuICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIGNpdHlcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBzZWxlY3RUeXBlLnNlbGVjdDIoe1xuICAgIHdpZHRoOiAncmVzb2x2ZScsXG4gICAgdGhlbWU6IFwiY2xhc3NpY1wiLFxuICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIGV2ZW50IHR5cGVcIixcbiAgICBhbGxvd0NsZWFyOiB0cnVlXG4gIH0pO1xuICBcbiAgLy9GaWx0ZXJcbiAgJCgnLnNlbGVjdDItc2VsZWN0aW9uX19jbGVhcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcblxuICAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpeyAgIFxuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX2NpdHkgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgaWYoICFzZWxlY3RTdGF0ZS52YWwoKSAmJiBzZWxlY3RDaXR5LnZhbCgpKXtcbiAgICAgIHNlbGVjdFN0YXRlLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdFN0YXRlLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuICAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19zdGF0ZSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICBpZigkKHRoaXMpLnZhbCgpKXtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBbXTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBfLmZpbHRlcihvYmplY3RzLmNpdGllc19kaWN0LHsgc3RhdGVfaWQ6IE51bWJlcigkKHRoaXMpLnZhbCgpKX0pO1xuICAgICAgc2VsZWN0Q2l0eS5odG1sKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gW107XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gb2JqZWN0cy5jaXRpZXNfZGljdDtcbiAgICAgIHNlbGVjdENpdHkuaHRtbCgnPG9wdGlvbj48L29wdGlvbj4nKTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICAgIHNlbGVjdENpdHkuYXBwZW5kKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywnLm1hcmtlci1pbmZvJyxmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5tYXJrZXItaW5mbycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBcbiAgfSk7XG4gICQud2hlbigkLmFqYXgoe1xuICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgdXJsOiAgdXJsTWFwLFxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBhc3luYzogZmFsc2UsIC8vINCX0LDQsdGA0LDRgtC4INC60L7Qu9C4INCx0YPQtNC10Ygg0L3QsCDQsdC10Lot0LXQvdC0INGB0YLRg9C60LDRgtC40YHRjFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgb2JqZWN0cyA9IGRhdGE7XG4gICAgICBzZWFyY2hSZXN1bHQgPSBkYXRhLmV2ZW50c19kaWN0O1xuICAgICAgY29uc29sZS5sb2coJ2dvb2Q6ICcsZGF0YSk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsX2Vycm9yKTtcbiAgICB9XG4gIH0pKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICBsb2FkU2NyaXB0TWFwKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gICAgZmlsdGVyVmFsdWVzLnN0YXRlcyA9IG9iamVjdHMuc3RhdGVfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gb2JqZWN0cy5jaXRpZXNfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZSA9IG9iamVjdHMuZXZlbnRfY2F0ZWdvcmllcztcbiAgICBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFN0YXRlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICB9KTtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZS5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RUeXBlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGJ1aWxkU2VhcmNoTGlzdCgpO1xuXG4gIH0pO1xufSk7XG5cblxuZnVuY3Rpb24gbG9hZFNjcmlwdE1hcCgpIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHQuZGVmZXIgPSB0cnVlO1xuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5RGZjczZtVjBYcXlGcXBvMzRHU0FUS0x0ZVBxVGdjMFdJJmNhbGxiYWNrPWluaXRNYXAnO1xuICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgZmlyc3RTY3JpcHRUYWcpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlclNvcnQoc3RhdGUsY2l0eSxldmVudF90eXBlKXtcbiAgZGVsZXRlTWFya2VycygpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICB2YXIgb2JqID0ge1xuICAgIHN0YXRlX2lkOiBzdGF0ZSA/IFtOdW1iZXIoc3RhdGUpXSA6IG51bGwsXG4gICAgY2l0eV9pZDogY2l0eSA/IFtOdW1iZXIoY2l0eSldIDogbnVsbCxcbiAgICBldmVudF90eXBlX2lkOiBldmVudF90eXBlID8gW051bWJlcihldmVudF90eXBlKV0gOiBudWxsICxcbiAgfTtcbiAgXG4gIHZhciBmaW5kT2JqID0gXy5waWNrQnkob2JqLCBfLmlkZW50aXR5KTtcbiAgc2VhcmNoUmVzdWx0ID0gXy5maWx0ZXIob2JqZWN0cy5ldmVudHNfZGljdCwgZmluZE9iaik7XG4gIGJ1aWxkU2VhcmNoTGlzdCgpO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgc2hvd01hcmtlcnMoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgY29uc29sZS5sb2coc2VhcmNoUmVzdWx0Lmxlbmd0aCxvYmplY3RzLmV2ZW50c19kaWN0Lmxlbmd0aCk7XG4gIGlmKHNlYXJjaFJlc3VsdC5sZW5ndGggIT09IG9iamVjdHMuZXZlbnRzX2RpY3QubGVuZ3RoKXtcbiAgICBtYXAuc2V0Q2VudGVyKHtcbiAgICAgIGxhdDpwYXJzZUZsb2F0KHNlYXJjaFJlc3VsdFswXS5sYXRpdHVkZSksXG4gICAgICBsbmc6cGFyc2VGbG9hdChzZWFyY2hSZXN1bHRbMF0ubG9uZ2l0dWRlKVxuICAgIH0pO1xuICAgIG1hcC5zZXRab29tKDE0KTtcbiAgICBjb25zb2xlLmxvZygnKycpO1xuICB9ZWxzZXtcbiAgICBtYXAuc2V0Q2VudGVyKHtsYXQ6IHN0YXJ0UG9zaXRpb24ubGF0LCBsbmc6IHN0YXJ0UG9zaXRpb24ubG9nfSk7XG4gICAgbWFwLnNldFpvb20oNyk7XG4gICAgY29uc29sZS5sb2coJy0nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBidWlsZFNlYXJjaExpc3QoKXtcbiAgdmFyIHVsID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2xpc3QgdWwnKTtcbiAgdmFyIGxpO1xuICB1bC5odG1sKCcnKTtcbiAgc2VhcmNoUmVzdWx0Lm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgdmFyIHN0cmVldCA9IGl0ZW0uc3RyZWV0ID8gaXRlbS5zdHJlZXQgOiAnJztcbiAgICB2YXIgemlwID0gaXRlbS56aXAgPyBpdGVtLnppcCA6ICcnO1xuICAgIHZhciBjaXR5ID0gaXRlbS5jaXR5X2lkWzFdID8gaXRlbS5jaXR5X2lkWzFdIDogJyc7XG4gICAgdmFyIGRhdGUgPSBTdHJpbmcoaXRlbS5kYXRlX2JlZ2luKS5zdWJzdHIoMCwgOSkucmVwbGFjZSgnLScsJy4nKS5yZXBsYWNlKCctJywnLicpO1xuICAgIGRhdGUgPSBkYXRlLnNwbGl0KCcuJyk7XG4gICAgZGF0ZSA9IGRhdGUucmV2ZXJzZSgpO1xuICAgIGRhdGUgPSBkYXRlLmpvaW4oJy4nKTtcbiAgICB2YXIgdGltZVN0YXJ0ID0gU3RyaW5nKGl0ZW0uZGF0ZV9iZWdpbikucmVwbGFjZSgnOicsJy4nKS5yZXBsYWNlKCc6JywnLicpLnN1YnN0cigxMSwxNSk7XG4gICAgdmFyIHRpbWVFbmQgPSBTdHJpbmcoaXRlbS5kYXRlX2VuZCkucmVwbGFjZSgnOicsJy4nKS5yZXBsYWNlKCc6JywnLicpLnN1YnN0cigxMSwxNSk7XG4gICAgdGltZVN0YXJ0ID0gdGltZVN0YXJ0LnN1YnN0cigwLDUpO1xuICAgIHRpbWVFbmQgPSB0aW1lRW5kLnN1YnN0cigwLDUpO1xuICAgICQobGkpLmh0bWwoJzxoMz4nK2l0ZW0ubmFtZSsnPC9oMz48ZGl2PjxwPicgKyBzdHJlZXQgKyAnICcgKyB6aXAgKyAnICcgKyBjaXR5ICsgJzwvcD48YSBjbGFzcz1cImJ1dHRvbiBibHVlXCIgaHJlZj1cImV2ZW50LycgKyBpdGVtLmlkICsgJ1wiPjxzcGFuPlBsYXR6IHJlc2VydmllcmVuPC9zcGFuPjwvYT48L2Rpdj48c3Bhbj5BbSAnICsgZGF0ZSArICcgdm9uICcgKyB0aW1lU3RhcnQgKyAnIGJpcyAnICsgdGltZUVuZCArICcgVWhyPC9zcGFuPicpO1xuICAgICQobGkpLmFwcGVuZFRvKHVsKTtcbiAgfSk7XG4gIFxuICAvLyBzaW1wbGVCYXJVbC5nZXRDb250ZW50RWxlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBpbml0TWFwKCkge1xuICB2YXIgaGFpZ2h0QXNoYnVyeSA9IHtsYXQ6IHN0YXJ0UG9zaXRpb24ubGF0LCBsbmc6IHN0YXJ0UG9zaXRpb24ubG9nfTtcblxuICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAgIHpvb206IDcsXG4gICAgY2VudGVyOiBoYWlnaHRBc2hidXJ5LFxuICAgIG1hcFR5cGVJZDogc3RhcnRQb3NpdGlvbi50eXBlXG4gIH0pO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTtcbiAgLy8gbWFwLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIC8vICAgYWRkTWFya2VyKGV2ZW50LmxhdExuZyk7XG4gIC8vIH0pO1xuICAvLyBhZGRNYXJrZXIoaGFpZ2h0QXNoYnVyeSk7XG59XG5cbmZ1bmN0aW9uIGFkZE1hcmtlcihsb2NhdGlvbixjb250ZW50U3RyaW5nKSB7XG4gIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gIHZhciBsYXRMbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxvY2F0aW9uLmxhdCxsb2NhdGlvbi5sbmcpO1xuICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgY2VudGVyOiBsYXRMbmcsXG4gICAgcG9zaXRpb246IGxhdExuZyxcbiAgICBtYXA6IG1hcFxuICB9KTtcbiAgbWFya2VyLnNldFZpc2libGUoZmFsc2UpO1xuICB2YXIgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcbiAgICBjb250ZW50OiBjb250ZW50U3RyaW5nXG4gIH0pO1xuICBpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xuICBtYXJrZXJzLnB1c2gobWFya2VyKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFya2Vyc0dyb3VwKGl0ZW1zKXtcbiAgY29uc29sZS5sb2coaXRlbXMpXG4gIGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICB2YXIgc3RyZWV0ID0gaXRlbS5zdHJlZXQgPyBpdGVtLnN0cmVldCArICcgLCcgOiAnJztcbiAgICB2YXIgY2l0eSA9IGl0ZW0uY2l0eV9pZFsxXSA/IGl0ZW0uY2l0eV9pZFsxXSArICcgLCcgOiAnJztcbiAgICB2YXIgY291bnRyeSA9ICBpdGVtLmNvdW50cnlfaWRbMV0gPyBpdGVtLmNvdW50cnlfaWRbMV0gOiAnJztcbiAgICB2YXIgemlwID0gaXRlbS56aXAgPyBpdGVtLnppcCA6ICcnO1xuICAgIHZhciBjb250ZW50U3RyaW5nID0gJzxkaXYgY2xhc3M9XCJtYXJrZXItaW5mb1wiPjxkaXYgY2xhc3M9XCJtYXJrZXItaW5mby10aXRsZVwiPjxzcGFuPjwvc3Bhbj48aDI+JytpdGVtLmNpdHlfaWRbMV0rJzwvaDI+PC9kaXY+PGRpdiBjbGFzcz1cIm1hcmtlci1pbmZvLWNvbnRlbnRcIj48YSBocmVmPVwidGVsOjEyM1wiIGNsYXNzPVwicGhvbmVcIj4xMjMxMjMxMjMxMjM8L2E+PHAgY2xhc3M9XCJhZGRyZXNzXCI+PHNwYW4+Jysgc3RyZWV0ICsnPC9zcGFuPjxzcGFuPicrIHppcCArJyAnKyBjaXR5ICsnPC9zcGFuPiA8c3Bhbj4nKyBjb3VudHJ5ICsnPC9zcGFuPjwvcD48L2Rpdj4gPC9kaXY+JztcbiAgICBhZGRNYXJrZXIoe1xuICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLCBcbiAgICAgIGxuZzogaXRlbS5sb25naXR1ZGVcbiAgICB9LGNvbnRlbnRTdHJpbmcpO1xuICB9KTsgXG59XG5cbmZ1bmN0aW9uIHNldE1hcE9uQWxsKG1hcCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBtYXJrZXJzW2ldLnNldE1hcChtYXApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyTWFya2VycygpIHtcbiAgc2V0TWFwT25BbGwobnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNob3dNYXJrZXJzKCkge1xuICBzZXRNYXBPbkFsbChtYXApO1xufVxuXG5mdW5jdGlvbiBkZWxldGVNYXJrZXJzKCkge1xuICBjbGVhck1hcmtlcnMoKTtcbiAgbWFya2VycyA9IFtdO1xufVxuXG5cbi8vQ3VzdG9tIE1hcmtlciBIVE1MXG5cbi8vIGZ1bmN0aW9uIEN1c3RvbU1hcmtlcihsYXRsbmcsIG1hcCwgYXJncykge1xuLy8gXHR0aGlzLmxhdGxuZyA9IGxhdGxuZztcdFxuLy8gXHR0aGlzLmFyZ3MgPSBhcmdzO1x0XG4vLyBcdHRoaXMuc2V0TWFwKG1hcCk7XHRcbi8vIH1cblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZSA9IG5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldygpO1xuXG4vLyBDdXN0b21NYXJrZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcblx0XG4vLyBcdHZhciBzZWxmID0gdGhpcztcblx0XG4vLyBcdHZhciBkaXYgPSB0aGlzLmRpdjtcblx0XG4vLyBcdGlmICghZGl2KSB7XG5cdFxuLy8gXHRcdGRpdiA9IHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XG4vLyBcdFx0ZGl2LmNsYXNzTmFtZSA9ICdtYXJrZXInO1xuXHRcdFxuLy8gXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4vLyBcdFx0ZGl2LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbi8vIFx0XHRkaXYuc3R5bGUud2lkdGggPSAnMjBweCc7XG4vLyBcdFx0ZGl2LnN0eWxlLmhlaWdodCA9ICcyMHB4Jztcbi8vIFx0XHRkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibHVlJztcblx0XHRcbi8vIFx0XHRpZiAodHlwZW9mKHNlbGYuYXJncy5tYXJrZXJfaWQpICE9PSAndW5kZWZpbmVkJykge1xuLy8gXHRcdFx0ZGl2LmRhdGFzZXQubWFya2VyX2lkID0gc2VsZi5hcmdzLm1hcmtlcl9pZDtcbi8vIFx0XHR9XG5cdFx0XG4vLyBcdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoZGl2LCBcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHRcdFx0XG4vLyBcdFx0XHRnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHNlbGYsIFwiY2xpY2tcIik7XG4vLyBcdFx0fSk7XG5cdFx0XG4vLyBcdFx0dmFyIHBhbmVzID0gdGhpcy5nZXRQYW5lcygpO1xuLy8gXHRcdHBhbmVzLm92ZXJsYXlJbWFnZS5hcHBlbmRDaGlsZChkaXYpO1xuLy8gXHR9XG5cdFxuLy8gXHR2YXIgcG9pbnQgPSB0aGlzLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9EaXZQaXhlbCh0aGlzLmxhdGxuZyk7XG5cdFxuLy8gXHRpZiAocG9pbnQpIHtcbi8vIFx0XHRkaXYuc3R5bGUubGVmdCA9IHBvaW50LnggKyAncHgnO1xuLy8gXHRcdGRpdi5zdHlsZS50b3AgPSBwb2ludC55ICsgJ3B4Jztcbi8vIFx0fVxuLy8gfTtcblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbi8vIFx0aWYgKHRoaXMuZGl2KSB7XG4vLyBcdFx0dGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4vLyBcdFx0dGhpcy5kaXYgPSBudWxsO1xuLy8gXHR9XHRcbi8vIH07XG5cbi8vIEN1c3RvbU1hcmtlci5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbi8vIFx0cmV0dXJuIHRoaXMubGF0bG5nO1x0XG4vLyB9O1xuXG5cblxuIiwiQ2hhcnQucGx1Z2lucy51bnJlZ2lzdGVyKENoYXJ0RGF0YUxhYmVscyk7XG5cbnZhciBjaGFydHNEYXRhO1xudmFyIHVybENoYXJ0cyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvanNvbi9jaGFydHMtZGF0YS5qc29uJztcblxuXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAvLyB2YXIgbXlDaGFydE9uZTtcbiAgICAvLyB2YXIgbXlDaGFydFR3bztcbiAgICAkLndoZW4oZ2V0QnV0dG9uRGF0YSh1cmxDaGFydHMpKS5kb25lKGZ1bmN0aW9uKCl7XG4gICAgICAgIGluaXRzQ2hhcnRzKGNoYXJ0c0RhdGEubGFiZWwsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTEsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTIgKVxuICAgIH0pO1xuICAgXG4gICBcbiAgICBcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAod2luZG93Lm91dGVyV2lkdGggPD0gOTkxKSB7XG4gICAgICAgICAgICAvLyBDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplID0gMTI7XG4gICAgICAgICAgICAvLyBvcHRpb25zLmxheW91dC5wYWRkaW5nLmxlZnQgPSAxMDtcbiAgICAgICAgICAgIC8vIG5ldyBDaGFydChjdHhPbmUsIHtcbiAgICAgICAgICAgIC8vICAgICB0eXBlOiAnYmFyJyxcbiAgICAgICAgICAgIC8vICAgICBkYXRhOiBkYXRhT25lLFxuICAgICAgICAgICAgLy8gICAgIHBsdWdpbnM6IFtDaGFydERhdGFMYWJlbHNdLFxuICAgICAgICAgICAgLy8gICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIC8vIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplID0gMTQ7XG4gICAgICAgICAgICAvLyBvcHRpb25zLmxheW91dC5wYWRkaW5nLmxlZnQgPSAyMDtcbiAgICAgICAgICAgIC8vIG5ldyBDaGFydChjdHhPbmUsIHtcbiAgICAgICAgICAgIC8vICAgICB0eXBlOiAnYmFyJyxcbiAgICAgICAgICAgIC8vICAgICBkYXRhOiBkYXRhVHdvLFxuICAgICAgICAgICAgLy8gICAgIHBsdWdpbnM6IFtDaGFydERhdGFMYWJlbHNdLFxuICAgICAgICAgICAgLy8gICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgIFxuICAgIHZhciBjaGFydHNCdXR0b25zQ29udGFpbmVyID0gJCgnLmNoYXJ0c19fYnV0dG9ucycpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjaGFydHNEYXRhLnBlcmNlbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udmFsdWUgPSBjaGFydHNEYXRhLnBlcmNlbnRzW2ldO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZWQnKTtcbiAgICAgICAgJChidXR0b24pLmh0bWwoJzxzcGFuPicgKyBjaGFydHNEYXRhLnBlcmNlbnRzW2ldICsgJyU8L3NwYW4+Jyk7XG4gICAgICAgICQoYnV0dG9uKS5hcHBlbmRUbyhjaGFydHNCdXR0b25zQ29udGFpbmVyKTtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGdldEJ1dHRvbkRhdGEodXJsQ2hhcnRzKTtcbiAgICAgICAgICAgIGluaXRzQ2hhcnRzKGNoYXJ0c0RhdGEubGFiZWwsIGNoYXJ0c0RhdGEuY2hhcnRbMV0uZGF0YTEsIGNoYXJ0c0RhdGEuY2hhcnRbMV0uZGF0YTIgKVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0QnV0dG9uRGF0YSh1cmwpe1xuICAgXG5yZXR1cm4gJC5hamF4KHtcbiAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgYXN5bmM6IGZhbHNlLCAvLyDQl9Cw0LHRgNCw0YLQuCDQutC+0LvQuCDQsdGD0LTQtdGIINC90LAg0LHQtdC6LdC10L3QtCDRgdGC0YPQutCw0YLQuNGB0YxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICBjaGFydHNEYXRhID0gZGF0YTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYXJ0c0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsIF9lcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGluaXRzQ2hhcnRzKCBsYWJlbHMsIGRhdGExLCBkYXRhMiApe1xuICAgIHZhciBjdHhPbmU7XG4gICAgdmFyIGN0eFR3bztcbiAgICB2YXIgbXlDaGFydE9uZTtcbiAgICB2YXIgbXlDaGFydFR3bztcbiAgICB2YXIgZGF0YU9uZTtcbiAgICB2YXIgZGF0YVR3bztcbiAgICB2YXIgc2V0T3B0aW9ucztcbiAgICB2YXIgY2hhcnRDb250YWluZXJPbmU7XG4gICAgdmFyIGNoYXJ0Q29udGFpbmVyVHdvO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFydHNfX2Jsb2NrX19pdGVtLm9uZVwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcnRzX19ibG9ja19faXRlbS50d29cIikuaW5uZXJIVE1MID0gXCJcIjsgIFxuXG4gICAgY2hhcnRDb250YWluZXJPbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjaGFydENvbnRhaW5lclR3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIFxuICAgIGNoYXJ0Q29udGFpbmVyT25lLmlkID0gJ215Q2hhcnRPbmUnO1xuICAgIGNoYXJ0Q29udGFpbmVyVHdvLmlkID0gJ215Q2hhcnRUd28nO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFydHNfX2Jsb2NrX19pdGVtLm9uZVwiKS5hcHBlbmRDaGlsZChjaGFydENvbnRhaW5lck9uZSlcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0c19fYmxvY2tfX2l0ZW0udHdvXCIpLmFwcGVuZENoaWxkKGNoYXJ0Q29udGFpbmVyVHdvKVxuXG4gICAgY3R4T25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUNoYXJ0T25lXCIpLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4VHdvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUNoYXJ0VHdvXCIpLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBzZXRPcHRpb25zID0ge1xuICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAyMCxcbiAgICAgICAgICAgICAgICB0b3A6MzAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgZGlzcGxheTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgZGF0YWxhYmVsczoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzI5MjkyOScsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiAnZW5kJyxcbiAgICAgICAgICAgICAgICBhbGlnbjogJ3RvcCcsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgJyDigqwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIHZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgJyDigqwnO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIENoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udENvbG9yID0gJyMyOTI5MjknO1xuICAgIENoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFNpemUgPSAxNDtcbiAgICBDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkgPSAnUG9wcGlucy1TZW1pQm9sZCc7XG5cbiAgICBkYXRhT25lID0ge1xuICAgICAgICBsYWJlbHM6IGxhYmVscyB8fCBjaGFydHNEYXRhLmxhYmVsLFxuICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgIGRhdGE6IGRhdGExIHx8IGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTEsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDRhY2Q3JyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMVxuICAgICAgICB9XVxuICAgIH07XG4gICAgZGF0YVR3byA9IHtcbiAgICAgICAgbGFiZWxzOiBsYWJlbHMgfHwgIGNoYXJ0c0RhdGEubGFiZWwsXG4gICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgZGF0YTogZGF0YTIgfHwgY2hhcnRzRGF0YS5jaGFydFswXS5kYXRhMixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NGFjZDcnLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNDRhY2Q3JyxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxXG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIG15Q2hhcnRPbmUgPSBuZXcgQ2hhcnQoY3R4T25lLCB7XG4gICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICBkYXRhOiBkYXRhT25lLFxuICAgICAgICBwbHVnaW5zOiBbQ2hhcnREYXRhTGFiZWxzXSxcbiAgICAgICAgb3B0aW9uczogc2V0T3B0aW9uc1xuICAgIH0pOyAgIFxuICAgIG15Q2hhcnRUd28gPSBuZXcgQ2hhcnQoY3R4VHdvLCB7XG4gICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICBkYXRhOiBkYXRhVHdvLFxuICAgICAgICBwbHVnaW5zOiBbQ2hhcnREYXRhTGFiZWxzXSxcbiAgICAgICAgb3B0aW9uczogc2V0T3B0aW9uc1xuICAgIH0pO1xufSJdfQ==
