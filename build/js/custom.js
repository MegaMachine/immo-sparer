function i(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function a(){var e,t,n=$(".webinar-info h2"),i=n.css("marginBottom");$(n[0]).outerHeight()<=$(n[1]).outerHeight()?($(n[0]).css("marginBottom",i),e=$(n[0]).outerHeight(),t=$(n[1]).outerHeight()-e,$(n[0]).css("marginBottom",parseFloat($(n[0]).css("marginBottom"))+t+"px")):($(n[1]).css("marginBottom",i),e=$(n[1]).outerHeight(),t=$(n[0]).outerHeight()-e,$(n[1]).css("marginBottom",parseFloat($(n[1]).css("marginBottom"))+t+"px"))}function o(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left,n=$(".seminare-and-map .seminare").outerWidth(),i=parseFloat($(".seminare-and-map .container").css("paddingLeft")),a=parseFloat($(".seminare-and-map .container").outerHeight());$(".seminare-and-map .map").css({width:e-t+"px",left:n+i+"px",height:a+"px"})}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),n=$(".new-properties__item__location div"),i=0,a=0;n.map(function(){$(this).outerHeight()>=i&&(i=$(this).outerHeight())}),t.map(function(){$(this).height()>=a&&(a=$(this).height())}),n.css("height",i+"px"),t.css("height",a+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}function e(){var e=$(".header__bottom__nav"),t=$(".header__mid__contacts__phones"),n=e.children("ul"),i=$(".header__top .social"),a=$(".header__top .log-or-reg");"absolute"===e.css("position")&&(n.wrap('<div class="container"></div>'),t.appendTo(e.children(".container")),i.appendTo(e.children(".container")),a.appendTo(e.children(".container")))}$(function(){e(),setTimeout(function(){var e,t,n;i(),a(),o(),s(),e=$(".object-fit-simulation"),t=e.find("img"),n=t.attr("src"),t.css("display","none"),e.css({background:"url("+n+") no-repeat center / cover"})},111),$(window).scroll(function(){}),$(window).resize(function(){i(),a(),o(),s(),e()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav").toggleClass("active")})}),window.initMap=function(){var e={lat:t.lat,lng:t.log};(c=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:t.type})).addListener("click",function(e){v(e.latLng)})};var c,t,r,l,n,p,d,m=[],u={states:[],cities:[],eventsType:[]};function h(e,t,n){f(null),m=[];var i={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:n?[Number(n)]:null},a=_.pickBy(i,_.identity);l=_.filter(r.events_dict,a),g(),l.map(function(e){v({lat:e.latitude,lng:e.longitude})}),f(c)}function g(){var t,n=$(".seminare__search__list ul");n.html(""),l.map(function(e){t=document.createElement("li"),$(t).html("<h3>"+e.name+"</h3><div><p>"+e.street+" "+e.zip+" "+e.city_id[1]+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+String(e.date_begin).substr(0,9)+" von "+String(e.date_begin).substr(11,e.date_begin.length-3)+" bis "+String(e.date_end).substr(11,e.date_begin.length-3)+" Uhr</span>"),$(t).appendTo(n)})}function v(e){var t=new google.maps.Marker({position:e,map:c});m.push(t)}function f(e){for(var t=0;t<m.length;t++)m[t].setMap(e)}$(document).ready(function(){t={lat:$("#latitude").val()||50.9913249,log:$("#longitude").val()||9.4721966,type:$("#template_type").val()||"terrain"},n=$(".seminare__search__filter__state select"),p=$(".seminare__search__filter__city select"),d=$(".seminare__search__filter__type select"),n.select2({placeholder:"Select a state",allowClear:!0}),p.select2({placeholder:"Select a city",allowClear:!0}),d.select2({placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){h(n.val(),p.val(),d.val())}),$(".seminare__search__filter select").change(function(){h(n.val(),p.val(),d.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(u.cities=[],u.cities=_.filter(r.cities_dict,{state_id:Number($(this).val())}),p.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)})):(u.cities=[],u.cities=r.cities_dict,p.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)})),h(n.val(),p.val(),d.val())}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){l=(r=e).events_dict,console.log("good: ",r)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),u.states=r.state_dict,u.cities=r.cities_dict,u.eventsType=r.event_categories,u.states.map(function(e){var t=new Option(e.name,e.id);n.append(t)}),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)}),u.eventsType.map(function(e){var t=new Option(e.name,e.id);d.append(t)}),g()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvd1dpZHRoIiwib3V0ZXJXaWR0aCIsIm1hcE9mZnNldCIsIm9mZnNldCIsImxlZnQiLCJzZW1pbmFyV0lkdGgiLCJjb250YWluZXJQYWRkaW5nIiwiY29udGFpbmVySGVpZ2h0Iiwid2lkdGgiLCJuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCIsIml0ZW1zTGluZUhlaWdodCIsIml0ZW1zVGV4dFRpdGxlIiwiaXRlbXNMb2NhdGlvbkhlaWdodCIsIm1heEhlaWdodDEiLCJtYXhIZWlnaHQyIiwibWFwIiwidGhpcyIsIm1vYmlsZU5hdmlnYXRpb24iLCJuYXYiLCJwaG9uZXMiLCJ1bCIsImNoaWxkcmVuIiwic29jaWFsIiwibG9nT3JSZWciLCJ3cmFwIiwiYXBwZW5kVG8iLCJzZXRUaW1lb3V0Iiwic2ltdWxhdG9yIiwiaW1nIiwiaW1nU3JjIiwiZmluZCIsImF0dHIiLCJiYWNrZ3JvdW5kIiwid2luZG93Iiwic2Nyb2xsIiwicmVzaXplIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsImluaXRNYXAiLCJoYWlnaHRBc2hidXJ5IiwibGF0Iiwic3RhcnRQb3NpdGlvbiIsImxuZyIsImxvZyIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsIm1hcFR5cGVJZCIsInR5cGUiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwiYWRkTWFya2VyIiwibGF0TG5nIiwib2JqZWN0cyIsInNlYXJjaFJlc3VsdCIsInNlbGVjdFN0YXRlIiwic2VsZWN0Q2l0eSIsInNlbGVjdFR5cGUiLCJtYXJrZXJzIiwiZmlsdGVyVmFsdWVzIiwic3RhdGVzIiwiY2l0aWVzIiwiZXZlbnRzVHlwZSIsImZpbHRlclNvcnQiLCJzdGF0ZSIsImNpdHkiLCJldmVudF90eXBlIiwic2V0TWFwT25BbGwiLCJvYmoiLCJzdGF0ZV9pZCIsIk51bWJlciIsImNpdHlfaWQiLCJldmVudF90eXBlX2lkIiwiZmluZE9iaiIsIl8iLCJwaWNrQnkiLCJpZGVudGl0eSIsImZpbHRlciIsImV2ZW50c19kaWN0IiwiYnVpbGRTZWFyY2hMaXN0IiwiaXRlbSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibGkiLCJodG1sIiwiY3JlYXRlRWxlbWVudCIsIm5hbWUiLCJzdHJlZXQiLCJ6aXAiLCJpZCIsIlN0cmluZyIsImRhdGVfYmVnaW4iLCJzdWJzdHIiLCJsZW5ndGgiLCJkYXRlX2VuZCIsImxvY2F0aW9uIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJwdXNoIiwiaSIsInNldE1hcCIsInJlYWR5IiwidmFsIiwic2VsZWN0MiIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsImNoYW5nZSIsImNpdGllc19kaWN0Iiwib3B0aW9uIiwiT3B0aW9uIiwiYXBwZW5kIiwid2hlbiIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3IiLCJfZXJyb3IiLCJkb25lIiwic2NyaXB0IiwiZGVmZXIiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImxvYWRTY3JpcHRNYXAiLCJzdGF0ZV9kaWN0IiwiZXZlbnRfY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBc0NBLFNBQUFBLElBQ0EsSUFBQUMsRUFBQUMsRUFBQSxpQkFBQUMsY0FDQUQsRUFBQSx3QkFBQUUsSUFBQSxhQUFBLGdCQUFBSCxFQUFBLE9BSUEsU0FBQUksSUFDQSxJQUdBQyxFQUNBTCxFQUpBTSxFQUFBTCxFQUFBLG9CQUNBTSxFQUFBRCxF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QU0sS0FBQU4sRUFBQVMsSUFDQWpDLEVBQUF1RCxPQUFBRixLQUVBbEQsRUFBQUcsV0FBQW5ELElBQUEsU0FBQXFFLEdBQ0EsSUFBQTZCLEVBQUEsSUFBQUMsT0FBQTlCLEVBQUFNLEtBQUFOLEVBQUFTLElBQ0FoQyxFQUFBc0QsT0FBQUYsS0FFQTlCIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG5cbiAgbW9iaWxlTmF2aWdhdGlvbigpO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgaGVhZGVySGVpZ2h0KCk7XG4gICAgdGl0bGVBbGlnbigpO1xuICAgIG1hcFdpZHRoKCk7XG4gICAgbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKTtcbiAgICBvYmplY3RGaXRTaW11bGF0aW9uKCk7XG4gIH0sIDExMSk7XG5cbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHt9KTtcblxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgIGhlYWRlckhlaWdodCgpO1xuICAgIHRpdGxlQWxpZ24oKTtcbiAgICBtYXBXaWR0aCgpO1xuICAgIG5ld1Byb3BlcnRpZXNJdGVtSGVpZ2h0KCk7XG4gICAgbW9iaWxlTmF2aWdhdGlvbigpO1xuICB9KTtcbiAgJCgnLm1lbnUtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAkKCcuaGVhZGVyX19ib3R0b21fX25hdicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSk7XG59KTtcblxuLy9vYmplY3QtZml0LXNpbXVsYXRpb25cbmZ1bmN0aW9uIG9iamVjdEZpdFNpbXVsYXRpb24oKXtcbiAgdmFyIHNpbXVsYXRvciA9ICQoJy5vYmplY3QtZml0LXNpbXVsYXRpb24nKTtcbiAgdmFyIGltZyA9IHNpbXVsYXRvci5maW5kKCdpbWcnKTtcbiAgdmFyIGltZ1NyYyA9IGltZy5hdHRyKCdzcmMnKTtcbiAgaW1nLmNzcygnZGlzcGxheScsJ25vbmUnKTtcbiAgc2ltdWxhdG9yLmNzcyh7XG4gICAgJ2JhY2tncm91bmQnOid1cmwoJytpbWdTcmMrJykgbm8tcmVwZWF0IGNlbnRlciAvIGNvdmVyJyxcbiAgfSk7XG59XG4vL3dlYmluYXIgaGVpZ2h0XG5mdW5jdGlvbiBoZWFkZXJIZWlnaHQoKSB7XG4gIHZhciBoZWlnaHQgPSAkKFwiaGVhZGVyLmhlYWRlclwiKS5vdXRlckhlaWdodCgpO1xuICAkKFwic2VjdGlvbi53ZWJpbmFyLWluZm9cIikuY3NzKFwibWluLWhlaWdodFwiLCBcImNhbGMoMTAwdmggLSBcIiArIGhlaWdodCArIFwicHgpXCIpO1xufVxuXG4vL3dlYmluYXIgdGl0bGUgYWxpZ25cbmZ1bmN0aW9uIHRpdGxlQWxpZ24oKSB7XG4gIHZhciBpdGVtcyA9ICQoXCIud2ViaW5hci1pbmZvIGgyXCIpO1xuICB2YXIgZGVmYXVsdE1hcmdpbiA9IGl0ZW1zLmNzcygnbWFyZ2luQm90dG9tJyk7XG4gIHZhciBtYXg7XG4gIHZhciBtaW47XG4gIHZhciBoZWlnaHQ7XG4gIGlmICgkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpIDw9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCkpIHtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzBdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzFdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfVxufVxuXG4vL21hcCBzaXplXG5mdW5jdGlvbiBtYXBXaWR0aCgpIHtcbiAgdmFyIHdpbmRvd1dpZHRoID0gJChcImJvZHlcIikub3V0ZXJXaWR0aCgpO1xuICB2YXIgbWFwT2Zmc2V0ID0gJChcIi5zZW1pbmFyZS1hbmQtbWFwIC5tYXBcIikub2Zmc2V0KCkubGVmdDtcbiAgdmFyIHNlbWluYXJXSWR0aCA9ICQoJy5zZW1pbmFyZS1hbmQtbWFwIC5zZW1pbmFyZScpLm91dGVyV2lkdGgoKTtcbiAgdmFyIGNvbnRhaW5lclBhZGRpbmcgPSBwYXJzZUZsb2F0KCQoJy5zZW1pbmFyZS1hbmQtbWFwIC5jb250YWluZXInKS5jc3MoJ3BhZGRpbmdMZWZ0JykpO1xuICB2YXIgY29udGFpbmVySGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcuc2VtaW5hcmUtYW5kLW1hcCAuY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSk7XG4gICQoXCIuc2VtaW5hcmUtYW5kLW1hcCAubWFwXCIpLmNzcyh7XG4gICAgXCJ3aWR0aFwiOiB3aW5kb3dXaWR0aCAtIG1hcE9mZnNldCArIFwicHhcIixcbiAgICAnbGVmdCc6IHNlbWluYXJXSWR0aCArIGNvbnRhaW5lclBhZGRpbmcgKyAncHgnLFxuICAgICdoZWlnaHQnOiBjb250YWluZXJIZWlnaHQgKyAncHgnXG4gIH0pO1xufVxuXG4vLyBuZXctcHJvcGVyaXRpZXMgbmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgaGVpZ2h0XG5mdW5jdGlvbiBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpe1xuICB2YXIgaXRlbXNMaW5lSGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnbGluZUhlaWdodCcpKTtcbiAgdmFyIGl0ZW1zVGV4dFRpdGxlID0gJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IGgzJyk7XG4gIHZhciBpdGVtc0xvY2F0aW9uSGVpZ2h0ID0gICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fbG9jYXRpb24gZGl2Jyk7XG4gIHZhciBtYXhIZWlnaHQxID0gMDtcbiAgdmFyIG1heEhlaWdodDIgPSAwO1xuICBpdGVtc0xvY2F0aW9uSGVpZ2h0Lm1hcChmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykub3V0ZXJIZWlnaHQoKSA+PSBtYXhIZWlnaHQxKXtcbiAgICAgIG1heEhlaWdodDEgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNUZXh0VGl0bGUubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oZWlnaHQoKSA+PSBtYXhIZWlnaHQyKXtcbiAgICAgIG1heEhlaWdodDIgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgIH1cbiAgfSk7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQxICsgJ3B4Jyk7XG4gIGl0ZW1zVGV4dFRpdGxlLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0MiArICdweCcpO1xuICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnaGVpZ2h0JywgaXRlbXNMaW5lSGVpZ2h0ICogMiArICdweCcpO1xufVxuXG5mdW5jdGlvbiBtb2JpbGVOYXZpZ2F0aW9uKCl7XG4gIHZhciBuYXYgPSAkKCcuaGVhZGVyX19ib3R0b21fX25hdicpO1xuICB2YXIgcGhvbmVzID0gJCgnLmhlYWRlcl9fbWlkX19jb250YWN0c19fcGhvbmVzJyk7XG4gIHZhciB1bCA9IG5hdi5jaGlsZHJlbigndWwnKTtcbiAgdmFyIHNvY2lhbCA9ICQoJy5oZWFkZXJfX3RvcCAuc29jaWFsJyk7XG4gIHZhciBsb2dPclJlZyA9ICQoJy5oZWFkZXJfX3RvcCAubG9nLW9yLXJlZycpO1xuICBpZihuYXYuY3NzKCdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKXtcbiAgICB1bC53cmFwKCc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgcGhvbmVzLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgICBzb2NpYWwuYXBwZW5kVG8obmF2LmNoaWxkcmVuKCcuY29udGFpbmVyJykpO1xuICAgIGxvZ09yUmVnLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgfWVsc2V7XG4gICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbn0iLCIvLyAvL0dvb2dsZSBNYXBcbi8vPGlucHV0IGlkPVwibGF0aXR1ZGVcIiB0eXBlPVwiaGlkZGVuXCIgdC1hdHQtdmFsdWU9XCJjb3VudHJ5LmxhdGl0dWRlXCIvPlxuLy88aW5wdXQgaWQ9XCJsb25naXR1ZGVcIiB0eXBlPVwiaGlkZGVuXCIgdC1hdHQtdmFsdWU9XCJjb3VudHJ5LmxvbmdpdHVkZVwiLz5cbi8vPGlucHV0IGlkPVwidGVtcGxhdGVfdHlwZVwiIHR5cGU9XCJoaWRkZW5cIiB0LWF0dC12YWx1ZT1cInRlbXBsYXRlX3R5cGVcIi8+IFxuXG53aW5kb3cuaW5pdE1hcCA9IGluaXRNYXA7XG52YXIgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9qc29uL2RhdGEuanNvbic7XG52YXIgbWFwO1xudmFyIG1hcmtlcnMgPSBbXTtcbnZhciBzdGFydFBvc2l0aW9uO1xudmFyIG9iamVjdHM7XG52YXIgc2VhcmNoUmVzdWx0O1xudmFyIGNoZWNrU3RhdGU7XG4vLyB2YXIgc2ltcGxlQmFyVWwgPSBuZXcgU2ltcGxlQmFyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtbGlzdCcpKTtcblxuLy/Ql9C90LDRh9C10L3QvdGPINC00LvRjyBzZWxlY3RcbnZhciBmaWx0ZXJWYWx1ZXMgPSB7XG4gIHN0YXRlczpbXSxcbiAgY2l0aWVzOltdLFxuICBldmVudHNUeXBlOltdXG59O1xuXG52YXIgc2VsZWN0U3RhdGU7XG52YXIgc2VsZWN0Q2l0eTtcbnZhciBzZWxlY3RUeXBlO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICBzdGFydFBvc2l0aW9uID0ge1xuICAgIGxhdCA6ICQoJyNsYXRpdHVkZScpLnZhbCgpIHx8IDUwLjk5MTMyNDksXG4gICAgbG9nIDogJCgnI2xvbmdpdHVkZScpLnZhbCgpIHx8IDkuNDcyMTk2NixcbiAgICB0eXBlIDogJCgnI3RlbXBsYXRlX3R5cGUnKS52YWwoKSB8fCAndGVycmFpbidcbiAgfTtcblxuICAvL0dldCBzZWxlY3RzXG4gIHNlbGVjdFN0YXRlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fc3RhdGUgc2VsZWN0Jyk7XG4gIHNlbGVjdENpdHkgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19jaXR5IHNlbGVjdCcpO1xuICBzZWxlY3RUeXBlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fdHlwZSBzZWxlY3QnKTtcblxuICBzZWxlY3RTdGF0ZS5zZWxlY3QyKHtcbiAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgYSBzdGF0ZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdENpdHkuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgY2l0eVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdFR5cGUuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgZXZlbnQgdHlwZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIFxuICAvL0ZpbHRlclxuICAkKCcuc2VsZWN0Mi1zZWxlY3Rpb25fX2NsZWFyJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuXG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXIgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7ICAgXG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcbiAgXG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3N0YXRlIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykudmFsKCkpe1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IFtdO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IF8uZmlsdGVyKG9iamVjdHMuY2l0aWVzX2RpY3QseyBzdGF0ZV9pZDogTnVtYmVyKCQodGhpcykudmFsKCkpfSk7XG4gICAgICBzZWxlY3RDaXR5Lmh0bWwoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBbXTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgICAgc2VsZWN0Q2l0eS5odG1sKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuXG4gICQud2hlbigkLmFqYXgoe1xuICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgdXJsOiAgdXJsLFxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBhc3luYzogZmFsc2UsIC8vINCX0LDQsdGA0LDRgtC4INC60L7Qu9C4INCx0YPQtNC10Ygg0L3QsCDQsdC10Lot0LXQvdC0INGB0YLRg9C60LDRgtC40YHRjFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgb2JqZWN0cyA9IGRhdGE7XG4gICAgICBzZWFyY2hSZXN1bHQgPSBkYXRhLmV2ZW50c19kaWN0O1xuICAgICAgY29uc29sZS5sb2coJ2dvb2Q6ICcsb2JqZWN0cyk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2Vycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsX2Vycm9yKTtcbiAgICB9XG4gIH0pKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICBsb2FkU2NyaXB0TWFwKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gICAgZmlsdGVyVmFsdWVzLnN0YXRlcyA9IG9iamVjdHMuc3RhdGVfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gb2JqZWN0cy5jaXRpZXNfZGljdDtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZSA9IG9iamVjdHMuZXZlbnRfY2F0ZWdvcmllcztcbiAgICBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFN0YXRlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICB9KTtcbiAgICBmaWx0ZXJWYWx1ZXMuZXZlbnRzVHlwZS5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RUeXBlLmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGJ1aWxkU2VhcmNoTGlzdCgpO1xuICB9KTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvYWRTY3JpcHRNYXAoKSB7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgc2NyaXB0LmRlZmVyID0gdHJ1ZTtcbiAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgc2NyaXB0LnNyYyA9ICdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeURmY3M2bVYwWHF5RnFwbzM0R1NBVEtMdGVQcVRnYzBXSSZjYWxsYmFjaz1pbml0TWFwJztcbiAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGZpcnN0U2NyaXB0VGFnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJTb3J0KHN0YXRlLGNpdHksZXZlbnRfdHlwZSl7XG4gIGRlbGV0ZU1hcmtlcnMoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgdmFyIG9iaiA9IHtcbiAgICBzdGF0ZV9pZDogc3RhdGUgPyBbTnVtYmVyKHN0YXRlKV0gOiBudWxsLFxuICAgIGNpdHlfaWQ6IGNpdHkgPyBbTnVtYmVyKGNpdHkpXSA6IG51bGwsXG4gICAgZXZlbnRfdHlwZV9pZDogZXZlbnRfdHlwZSA/IFtOdW1iZXIoZXZlbnRfdHlwZSldIDogbnVsbCAsXG4gIH07XG4gIFxuICB2YXIgZmluZE9iaiA9IF8ucGlja0J5KG9iaiwgXy5pZGVudGl0eSk7XG4gIHNlYXJjaFJlc3VsdCA9IF8uZmlsdGVyKG9iamVjdHMuZXZlbnRzX2RpY3QsIGZpbmRPYmopO1xuICBidWlsZFNlYXJjaExpc3QoKTtcbiAgY3JlYXRlTWFya2Vyc0dyb3VwKHNlYXJjaFJlc3VsdCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gIHNob3dNYXJrZXJzKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG59XG5cbmZ1bmN0aW9uIGJ1aWxkU2VhcmNoTGlzdCgpe1xuICB2YXIgdWwgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fbGlzdCB1bCcpO1xuICB2YXIgbGk7XG4gIHVsLmh0bWwoJycpO1xuICBzZWFyY2hSZXN1bHQubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAkKGxpKS5odG1sKCc8aDM+JytpdGVtLm5hbWUrJzwvaDM+PGRpdj48cD4nICsgaXRlbS5zdHJlZXQgKyAnICcgKyBpdGVtLnppcCArICcgJyArIGl0ZW0uY2l0eV9pZFsxXSArICc8L3A+PGEgY2xhc3M9XCJidXR0b24gYmx1ZVwiIGhyZWY9XCJldmVudC8nICsgaXRlbS5pZCArICdcIj48c3Bhbj5QbGF0eiByZXNlcnZpZXJlbjwvc3Bhbj48L2E+PC9kaXY+PHNwYW4+QW0gJyArIFN0cmluZyhpdGVtLmRhdGVfYmVnaW4pLnN1YnN0cigwLCA5KSArICcgdm9uICcgKyBTdHJpbmcoaXRlbS5kYXRlX2JlZ2luKS5zdWJzdHIoMTEsaXRlbS5kYXRlX2JlZ2luLmxlbmd0aC0zKSArICcgYmlzICcgKyBTdHJpbmcoaXRlbS5kYXRlX2VuZCkuc3Vic3RyKDExLGl0ZW0uZGF0ZV9iZWdpbi5sZW5ndGgtMykgKyAnIFVocjwvc3Bhbj4nKTtcbiAgICAkKGxpKS5hcHBlbmRUbyh1bCk7XG4gIH0pO1xuICBcbiAgLy8gc2ltcGxlQmFyVWwuZ2V0Q29udGVudEVsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgdmFyIGhhaWdodEFzaGJ1cnkgPSB7bGF0OiBzdGFydFBvc2l0aW9uLmxhdCwgbG5nOiBzdGFydFBvc2l0aW9uLmxvZ307XG5cbiAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgICB6b29tOiA3LFxuICAgIGNlbnRlcjogaGFpZ2h0QXNoYnVyeSxcbiAgICBtYXBUeXBlSWQ6IHN0YXJ0UG9zaXRpb24udHlwZVxuICB9KTtcblxuICBtYXAuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBhZGRNYXJrZXIoZXZlbnQubGF0TG5nKTtcbiAgfSk7XG4gIC8vIGFkZE1hcmtlcihoYWlnaHRBc2hidXJ5KTtcbn1cblxuZnVuY3Rpb24gYWRkTWFya2VyKGxvY2F0aW9uKSB7XG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICBwb3NpdGlvbjogbG9jYXRpb24sXG4gICAgbWFwOiBtYXBcbiAgfSk7XG4gIG1hcmtlcnMucHVzaChtYXJrZXIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXJrZXJzR3JvdXAoaXRlbXMpe1xuICBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgYWRkTWFya2VyKHtcbiAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSwgXG4gICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlXG4gICAgfSk7XG4gIH0pOyBcbn1cblxuZnVuY3Rpb24gc2V0TWFwT25BbGwobWFwKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgIG1hcmtlcnNbaV0uc2V0TWFwKG1hcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJNYXJrZXJzKCkge1xuICBzZXRNYXBPbkFsbChudWxsKTtcbn1cblxuZnVuY3Rpb24gc2hvd01hcmtlcnMoKSB7XG4gIHNldE1hcE9uQWxsKG1hcCk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZU1hcmtlcnMoKSB7XG4gIGNsZWFyTWFya2VycygpO1xuICBtYXJrZXJzID0gW107XG59XG5cblxuXG4iXX0=
