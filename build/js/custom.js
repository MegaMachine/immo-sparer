function i(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function a(){var e,t,n=$(".webinar-info h2"),i=n.css("marginBottom");$(n[0]).outerHeight()<=$(n[1]).outerHeight()?($(n[0]).css("marginBottom",i),e=$(n[0]).outerHeight(),t=$(n[1]).outerHeight()-e,$(n[0]).css("marginBottom",parseFloat($(n[0]).css("marginBottom"))+t+"px")):($(n[1]).css("marginBottom",i),e=$(n[1]).outerHeight(),t=$(n[0]).outerHeight()-e,$(n[1]).css("marginBottom",parseFloat($(n[1]).css("marginBottom"))+t+"px"))}function o(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left,n=$(".seminare-and-map .seminare").outerWidth(),i=parseFloat($(".seminare-and-map .container").css("paddingLeft")),a=parseFloat($(".seminare-and-map .container").outerHeight());$(".seminare-and-map .map").css({width:e-t+"px",left:n+i+"px",height:a+"px"})}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),n=$(".new-properties__item__location div"),i=0,a=0;n.map(function(){$(this).outerHeight()>=i&&(i=$(this).outerHeight())}),t.map(function(){$(this).height()>=a&&(a=$(this).height())}),n.css("height",i+"px"),t.css("height",a+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}function e(){var e=$(".header__bottom__nav"),t=$(".header__mid__contacts__phones"),n=e.children("ul"),i=$(".header__top .social"),a=$(".header__top .log-or-reg");"absolute"===e.css("position")&&(n.wrap('<div class="container"></div>'),t.appendTo(e.children(".container")),i.appendTo(e.children(".container")),a.appendTo(e.children(".container")))}$(function(){e(),setTimeout(function(){var e,t,n;i(),a(),o(),s(),e=$(".object-fit-simulation"),t=e.find("img"),n=t.attr("src"),t.css("display","none"),e.css({background:"url("+n+") no-repeat center / cover"})},111),$(window).scroll(function(){}),$(window).resize(function(){i(),a(),o(),s(),e()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav").toggleClass("active")})}),window.initMap=function(){var e={lat:t.lat,lng:t.log};r=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:t.type}),v(l)};var r,t,c,l,n,p,d,m=[],u={states:[],cities:[],eventsType:[]};function h(e,t,n){f(null),m=[];var i={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:n?[Number(n)]:null},a=_.pickBy(i,_.identity);l=_.filter(c.events_dict,a),g(),v(l),f(r)}function g(){var t,n=$(".seminare__search__list ul");n.html(""),l.map(function(e){t=document.createElement("li"),$(t).html("<h3>"+e.name+"</h3><div><p>"+e.street+" "+e.zip+" "+e.city_id[1]+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+String(e.date_begin).substr(0,9)+" von "+String(e.date_begin).substr(11,e.date_begin.length-3)+" bis "+String(e.date_end).substr(11,e.date_begin.length-3)+" Uhr</span>"),$(t).appendTo(n)})}function v(e){e.map(function(e){var t,n;t={lat:e.latitude,lng:e.longitude},n=new google.maps.Marker({position:t,map:r}),m.push(n)})}function f(e){for(var t=0;t<m.length;t++)m[t].setMap(e)}$(document).ready(function(){t={lat:$("#latitude").val()||50.9913249,log:$("#longitude").val()||9.4721966,type:$("#template_type").val()||"terrain"},n=$(".seminare__search__filter__state select"),p=$(".seminare__search__filter__city select"),d=$(".seminare__search__filter__type select"),n.select2({placeholder:"Select a state",allowClear:!0}),p.select2({placeholder:"Select a city",allowClear:!0}),d.select2({placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){h(n.val(),p.val(),d.val())}),$(".seminare__search__filter select").change(function(){h(n.val(),p.val(),d.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(u.cities=[],u.cities=_.filter(c.cities_dict,{state_id:Number($(this).val())}),p.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)})):(u.cities=[],u.cities=c.cities_dict,p.html("<option></option>"),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)})),h(n.val(),p.val(),d.val())}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){l=(c=e).events_dict,console.log("good: ",c)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),u.states=c.state_dict,u.cities=c.cities_dict,u.eventsType=c.event_categories,u.states.map(function(e){var t=new Option(e.name,e.id);n.append(t)}),u.cities.map(function(e){var t=new Option(e.name,e.id);p.append(t)}),u.eventsType.map(function(e){var t=new Option(e.name,e.id);d.append(t)}),g()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvd1dpZHRoIiwib3V0ZXJXaWR0aCIsIm1hcE9mZnNldCIsIm9mZnNldCIsImxlZnQiLCJzZW1pbmFyV0lkdGgiLCJjb250YWluZXJQYWRkaW5nIiwiY29udGFpbmVySGVpZ2h0Iiwid2lkdGgiLCJuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCIsIml0ZW1zTGluZUhlaWdodCIsIml0ZW1zVGV4dFRpdGxlIiwiaXRlbXNMb2NhdGlvbkhlaWdodCIsIm1heEhlaWdodDEiLCJtYXhIZWlnaHQyIiwibWFwIiwidGhpcyIsIm1vYmlsZU5hdmlnYXRpb24iLCJuYXYiLCJwaG9uZXMiLCJ1bCIsImNoaWxkcmVuIiwic29jaWFsIiwibG9nT3JSZWciLCJ3cmFwIiwiYXBwZW5kVG8iLCJzZXRUaW1lb3V0Iiwic2ltdWxhdG9yIiwiaW1nIiwiaW1nU3JjIiwiZmluZCIsImF0dHIiLCJiYWNrZ3JvdW5kIiwid2luZG93Iiwic2Nyb2xsIiwicmVzaXplIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsImluaXRNYXAiLCJoYWlnaHRBc2hidXJ5IiwibGF0Iiwic3RhcnRQb3NpdGlvbiIsImxuZyIsImxvZyIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsIm1hcFR5cGVJZCIsInR5cGUiLCJjcmVhdGVNYXJrZXJzR3JvdXAiLCJzZWFyY2hSZXN1bHQiLCJvYmplY3RzIiwic2VsZWN0U3RhdGUiLCJzZWxlY3RDaXR5Iiwic2VsZWN0VHlwZSIsIm1hcmtlcnMiLCJmaWx0ZXJWYWx1ZXMiLCJzdGF0ZXMiLCJjaXRpZXMiLCJldmVudHNUeXBlIiwiZmlsdGVyU29ydCIsInN0YXRlIiwiY2l0eSIsImV2ZW50X3R5cGUiLCJzZXRNYXBPbkFsbCIsIm9iaiIsInN0YXRlX2lkIiwiTnVtYmVyIiwiY2l0eV9pZCIsImV2ZW50X3R5cGVfaWQiLCJmaW5kT2JqIiwiXyIsInBpY2tCeSIsImlkZW50aXR5IiwiZmlsdGVyIiwiZXZlbnRzX2RpY3QiLCJidWlsZFNlYXJjaExpc3QiLCJsaSIsImh0bWwiLCJpdGVtIiwiY3JlYXRlRWxlbWVudCIsIm5hbWUiLCJzdHJlZXQiLCJ6aXAiLCJpZCIsIlN0cmluZyIsImRhdGVfYmVnaW4iLCJzdWJzdHIiLCJsZW5ndGgiLCJkYXRlX2VuZCIsImxvY2F0aW9uIiwibWFya2VyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInB1c2giLCJpIiwic2V0TWFwIiwicmVhZHkiLCJ2YWwiLCJzZWxlY3QyIiwicGxhY2Vob2xkZXIiLCJhbGxvd0NsZWFyIiwiY2hhbmdlIiwiY2l0aWVzX2RpY3QiLCJvcHRpb24iLCJPcHRpb24iLCJhcHBlbmQiLCJ3aGVuIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiYXN5bmMiLCJzdWNjZXNzIiwiZGF0YSIsImNvbnNvbGUiLCJlcnJvciIsIl9lcnJvciIsImRvbmUiLCJzY3JpcHQiLCJkZWZlciIsInNyYyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiYm9keSIsImFwcGVuZENoaWxkIiwibG9hZFNjcmlwdE1hcCIsInN0YXRlX2RpY3QiLCJldmVudF9jYXRlZ29yaWVzIl0sIm1hcHBpbmdzIjoiQUFzQ0EsU0FBQUEsSUFDQSxJQUFBQyxFQUFBQyxFQUFBLGlCQUFBQyxjQUNBRCxFQUFBLHdCQUFBRSxJQUFBLGFBQUEsZ0JBQUFILEVBQUEsT0FJQSxTQUFBSSxJQUNBLElBR0FDLEVBQ0FMLEVBSkFNLEVBQUFMLEVBQUEsb0JBQ0FNLEVBQUFELEVBQUFILElBQUEsZ0JBSUFGLEVBQUFL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LE9BQUFGLEtBRUFsRCxFQUFBRyxXQUFBaEQsSUFBQSxTQUFBb0UsR0FDQSxJQUFBMkIsRUFBQSxJQUFBQyxPQUFBNUIsRUFBQUUsS0FBQUYsRUFBQUssSUFDQTlCLEVBQUFzRCxPQUFBRixLQUVBOUIiLCJmaWxlIjoiY3VzdG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcblxuICBtb2JpbGVOYXZpZ2F0aW9uKCk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbWFwV2lkdGgoKTtcbiAgICBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpO1xuICAgIG9iamVjdEZpdFNpbXVsYXRpb24oKTtcbiAgfSwgMTExKTtcblxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge30pO1xuXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgaGVhZGVySGVpZ2h0KCk7XG4gICAgdGl0bGVBbGlnbigpO1xuICAgIG1hcFdpZHRoKCk7XG4gICAgbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKTtcbiAgICBtb2JpbGVOYXZpZ2F0aW9uKCk7XG4gIH0pO1xuICAkKCcubWVudS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbn0pO1xuXG4vL29iamVjdC1maXQtc2ltdWxhdGlvblxuZnVuY3Rpb24gb2JqZWN0Rml0U2ltdWxhdGlvbigpe1xuICB2YXIgc2ltdWxhdG9yID0gJCgnLm9iamVjdC1maXQtc2ltdWxhdGlvbicpO1xuICB2YXIgaW1nID0gc2ltdWxhdG9yLmZpbmQoJ2ltZycpO1xuICB2YXIgaW1nU3JjID0gaW1nLmF0dHIoJ3NyYycpO1xuICBpbWcuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xuICBzaW11bGF0b3IuY3NzKHtcbiAgICAnYmFja2dyb3VuZCc6J3VybCgnK2ltZ1NyYysnKSBuby1yZXBlYXQgY2VudGVyIC8gY292ZXInLFxuICB9KTtcbn1cbi8vd2ViaW5hciBoZWlnaHRcbmZ1bmN0aW9uIGhlYWRlckhlaWdodCgpIHtcbiAgdmFyIGhlaWdodCA9ICQoXCJoZWFkZXIuaGVhZGVyXCIpLm91dGVySGVpZ2h0KCk7XG4gICQoXCJzZWN0aW9uLndlYmluYXItaW5mb1wiKS5jc3MoXCJtaW4taGVpZ2h0XCIsIFwiY2FsYygxMDB2aCAtIFwiICsgaGVpZ2h0ICsgXCJweClcIik7XG59XG5cbi8vd2ViaW5hciB0aXRsZSBhbGlnblxuZnVuY3Rpb24gdGl0bGVBbGlnbigpIHtcbiAgdmFyIGl0ZW1zID0gJChcIi53ZWJpbmFyLWluZm8gaDJcIik7XG4gIHZhciBkZWZhdWx0TWFyZ2luID0gaXRlbXMuY3NzKCdtYXJnaW5Cb3R0b20nKTtcbiAgdmFyIG1heDtcbiAgdmFyIG1pbjtcbiAgdmFyIGhlaWdodDtcbiAgaWYgKCQoaXRlbXNbMF0pLm91dGVySGVpZ2h0KCkgPD0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKSkge1xuICAgICQoaXRlbXNbMF0pLmNzcyhcbiAgICAgIFwibWFyZ2luQm90dG9tXCIsXG4gICAgICBkZWZhdWx0TWFyZ2luXG4gICAgKTtcbiAgICBtaW4gPSAkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpO1xuICAgIG1heCA9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCk7XG4gICAgaGVpZ2h0ID0gbWF4IC0gbWluO1xuICAgICQoaXRlbXNbMF0pLmNzcyhcbiAgICAgIFwibWFyZ2luQm90dG9tXCIsXG4gICAgICBwYXJzZUZsb2F0KCQoaXRlbXNbMF0pLmNzcyhcIm1hcmdpbkJvdHRvbVwiKSkgKyBoZWlnaHQgKyBcInB4XCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgICQoaXRlbXNbMV0pLmNzcyhcbiAgICAgIFwibWFyZ2luQm90dG9tXCIsXG4gICAgICBkZWZhdWx0TWFyZ2luXG4gICAgKTtcbiAgICBtaW4gPSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpO1xuICAgIG1heCA9ICQoaXRlbXNbMF0pLm91dGVySGVpZ2h0KCk7XG4gICAgaGVpZ2h0ID0gbWF4IC0gbWluO1xuICAgICQoaXRlbXNbMV0pLmNzcyhcbiAgICAgIFwibWFyZ2luQm90dG9tXCIsXG4gICAgICBwYXJzZUZsb2F0KCQoaXRlbXNbMV0pLmNzcyhcIm1hcmdpbkJvdHRvbVwiKSkgKyBoZWlnaHQgKyBcInB4XCJcbiAgICApO1xuICB9XG59XG5cbi8vbWFwIHNpemVcbmZ1bmN0aW9uIG1hcFdpZHRoKCkge1xuICB2YXIgd2luZG93V2lkdGggPSAkKFwiYm9keVwiKS5vdXRlcldpZHRoKCk7XG4gIHZhciBtYXBPZmZzZXQgPSAkKFwiLnNlbWluYXJlLWFuZC1tYXAgLm1hcFwiKS5vZmZzZXQoKS5sZWZ0O1xuICB2YXIgc2VtaW5hcldJZHRoID0gJCgnLnNlbWluYXJlLWFuZC1tYXAgLnNlbWluYXJlJykub3V0ZXJXaWR0aCgpO1xuICB2YXIgY29udGFpbmVyUGFkZGluZyA9IHBhcnNlRmxvYXQoJCgnLnNlbWluYXJlLWFuZC1tYXAgLmNvbnRhaW5lcicpLmNzcygncGFkZGluZ0xlZnQnKSk7XG4gIHZhciBjb250YWluZXJIZWlnaHQgPSBwYXJzZUZsb2F0KCQoJy5zZW1pbmFyZS1hbmQtbWFwIC5jb250YWluZXInKS5vdXRlckhlaWdodCgpKTtcbiAgJChcIi5zZW1pbmFyZS1hbmQtbWFwIC5tYXBcIikuY3NzKHtcbiAgICBcIndpZHRoXCI6IHdpbmRvd1dpZHRoIC0gbWFwT2Zmc2V0ICsgXCJweFwiLFxuICAgICdsZWZ0Jzogc2VtaW5hcldJZHRoICsgY29udGFpbmVyUGFkZGluZyArICdweCcsXG4gICAgJ2hlaWdodCc6IGNvbnRhaW5lckhlaWdodCArICdweCdcbiAgfSk7XG59XG5cbi8vIG5ldy1wcm9wZXJpdGllcyBuZXctcHJvcGVydGllc19faXRlbV9fdGV4dCBoZWlnaHRcbmZ1bmN0aW9uIG5ld1Byb3BlcnRpZXNJdGVtSGVpZ2h0KCl7XG4gIHZhciBpdGVtc0xpbmVIZWlnaHQgPSBwYXJzZUZsb2F0KCQoJy5uZXctcHJvcGVydGllc19faXRlbV9fdGV4dCBwJykuY3NzKCdsaW5lSGVpZ2h0JykpO1xuICB2YXIgaXRlbXNUZXh0VGl0bGUgPSAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgaDMnKTtcbiAgdmFyIGl0ZW1zTG9jYXRpb25IZWlnaHQgPSAgJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX19sb2NhdGlvbiBkaXYnKTtcbiAgdmFyIG1heEhlaWdodDEgPSAwO1xuICB2YXIgbWF4SGVpZ2h0MiA9IDA7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5vdXRlckhlaWdodCgpID49IG1heEhlaWdodDEpe1xuICAgICAgbWF4SGVpZ2h0MSA9ICQodGhpcykub3V0ZXJIZWlnaHQoKTtcbiAgICB9XG4gIH0pO1xuICBpdGVtc1RleHRUaXRsZS5tYXAoZnVuY3Rpb24oKXtcbiAgICBpZigkKHRoaXMpLmhlaWdodCgpID49IG1heEhlaWdodDIpe1xuICAgICAgbWF4SGVpZ2h0MiA9ICQodGhpcykuaGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNMb2NhdGlvbkhlaWdodC5jc3MoJ2hlaWdodCcsIG1heEhlaWdodDEgKyAncHgnKTtcbiAgaXRlbXNUZXh0VGl0bGUuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQyICsgJ3B4Jyk7XG4gICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fdGV4dCBwJykuY3NzKCdoZWlnaHQnLCBpdGVtc0xpbmVIZWlnaHQgKiAyICsgJ3B4Jyk7XG59XG5cbmZ1bmN0aW9uIG1vYmlsZU5hdmlnYXRpb24oKXtcbiAgdmFyIG5hdiA9ICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2Jyk7XG4gIHZhciBwaG9uZXMgPSAkKCcuaGVhZGVyX19taWRfX2NvbnRhY3RzX19waG9uZXMnKTtcbiAgdmFyIHVsID0gbmF2LmNoaWxkcmVuKCd1bCcpO1xuICB2YXIgc29jaWFsID0gJCgnLmhlYWRlcl9fdG9wIC5zb2NpYWwnKTtcbiAgdmFyIGxvZ09yUmVnID0gJCgnLmhlYWRlcl9fdG9wIC5sb2ctb3ItcmVnJyk7XG4gIGlmKG5hdi5jc3MoJ3Bvc2l0aW9uJykgPT09ICdhYnNvbHV0ZScpe1xuICAgIHVsLndyYXAoJzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj48L2Rpdj4nKTtcbiAgICBwaG9uZXMuYXBwZW5kVG8obmF2LmNoaWxkcmVuKCcuY29udGFpbmVyJykpO1xuICAgIHNvY2lhbC5hcHBlbmRUbyhuYXYuY2hpbGRyZW4oJy5jb250YWluZXInKSk7XG4gICAgbG9nT3JSZWcuYXBwZW5kVG8obmF2LmNoaWxkcmVuKCcuY29udGFpbmVyJykpO1xuICB9ZWxzZXtcbiAgICAvLyBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgfVxufSIsIi8vIC8vR29vZ2xlIE1hcFxuLy88aW5wdXQgaWQ9XCJsYXRpdHVkZVwiIHR5cGU9XCJoaWRkZW5cIiB0LWF0dC12YWx1ZT1cImNvdW50cnkubGF0aXR1ZGVcIi8+XG4vLzxpbnB1dCBpZD1cImxvbmdpdHVkZVwiIHR5cGU9XCJoaWRkZW5cIiB0LWF0dC12YWx1ZT1cImNvdW50cnkubG9uZ2l0dWRlXCIvPlxuLy88aW5wdXQgaWQ9XCJ0ZW1wbGF0ZV90eXBlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwidGVtcGxhdGVfdHlwZVwiLz4gXG5cbndpbmRvdy5pbml0TWFwID0gaW5pdE1hcDtcbnZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2pzb24vZGF0YS5qc29uJztcbnZhciBtYXA7XG52YXIgbWFya2VycyA9IFtdO1xudmFyIHN0YXJ0UG9zaXRpb247XG52YXIgb2JqZWN0cztcbnZhciBzZWFyY2hSZXN1bHQ7XG52YXIgY2hlY2tTdGF0ZTtcbi8vIHZhciBzaW1wbGVCYXJVbCA9IG5ldyBTaW1wbGVCYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1saXN0JykpO1xuXG4vL9CX0L3QsNGH0LXQvdC90Y8g0LTQu9GPIHNlbGVjdFxudmFyIGZpbHRlclZhbHVlcyA9IHtcbiAgc3RhdGVzOltdLFxuICBjaXRpZXM6W10sXG4gIGV2ZW50c1R5cGU6W11cbn07XG5cbnZhciBzZWxlY3RTdGF0ZTtcbnZhciBzZWxlY3RDaXR5O1xudmFyIHNlbGVjdFR5cGU7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gIHN0YXJ0UG9zaXRpb24gPSB7XG4gICAgbGF0IDogJCgnI2xhdGl0dWRlJykudmFsKCkgfHwgNTAuOTkxMzI0OSxcbiAgICBsb2cgOiAkKCcjbG9uZ2l0dWRlJykudmFsKCkgfHwgOS40NzIxOTY2LFxuICAgIHR5cGUgOiAkKCcjdGVtcGxhdGVfdHlwZScpLnZhbCgpIHx8ICd0ZXJyYWluJ1xuICB9O1xuXG4gIC8vR2V0IHNlbGVjdHNcbiAgc2VsZWN0U3RhdGUgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19zdGF0ZSBzZWxlY3QnKTtcbiAgc2VsZWN0Q2l0eSA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX2NpdHkgc2VsZWN0Jyk7XG4gIHNlbGVjdFR5cGUgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX190eXBlIHNlbGVjdCcpO1xuXG4gIHNlbGVjdFN0YXRlLnNlbGVjdDIoe1xuICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIHN0YXRlXCIsXG4gICAgYWxsb3dDbGVhcjogdHJ1ZVxuICB9KTtcbiAgc2VsZWN0Q2l0eS5zZWxlY3QyKHtcbiAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgYSBjaXR5XCIsXG4gICAgYWxsb3dDbGVhcjogdHJ1ZVxuICB9KTtcbiAgc2VsZWN0VHlwZS5zZWxlY3QyKHtcbiAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgYSBldmVudCB0eXBlXCIsXG4gICAgYWxsb3dDbGVhcjogdHJ1ZVxuICB9KTtcbiAgXG4gIC8vRmlsdGVyXG4gICQoJy5zZWxlY3QyLXNlbGVjdGlvbl9fY2xlYXInKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG5cbiAgJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlciBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKXsgICBcbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuICBcbiAgJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fc3RhdGUgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS52YWwoKSl7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gW107XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzID0gXy5maWx0ZXIob2JqZWN0cy5jaXRpZXNfZGljdCx7IHN0YXRlX2lkOiBOdW1iZXIoJCh0aGlzKS52YWwoKSl9KTtcbiAgICAgIHNlbGVjdENpdHkuaHRtbCgnPG9wdGlvbj48L29wdGlvbj4nKTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICAgIHNlbGVjdENpdHkuYXBwZW5kKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IFtdO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IG9iamVjdHMuY2l0aWVzX2RpY3Q7XG4gICAgICBzZWxlY3RDaXR5Lmh0bWwoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG5cbiAgJC53aGVuKCQuYWpheCh7XG4gICAgdHlwZTogXCJHRVRcIixcbiAgICB1cmw6ICB1cmwsXG4gICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgIGFzeW5jOiBmYWxzZSwgLy8g0JfQsNCx0YDQsNGC0Lgg0LrQvtC70Lgg0LHRg9C00LXRiCDQvdCwINCx0LXQui3QtdC90LQg0YHRgtGD0LrQsNGC0LjRgdGMXG4gICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICBvYmplY3RzID0gZGF0YTtcbiAgICAgIHNlYXJjaFJlc3VsdCA9IGRhdGEuZXZlbnRzX2RpY3Q7XG4gICAgICBjb25zb2xlLmxvZygnZ29vZDogJyxvYmplY3RzKTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJyxfZXJyb3IpO1xuICAgIH1cbiAgfSkpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgIGxvYWRTY3JpcHRNYXAoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzID0gb2JqZWN0cy5zdGF0ZV9kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlID0gb2JqZWN0cy5ldmVudF9jYXRlZ29yaWVzO1xuICAgIFxuICAgIGZpbHRlclZhbHVlcy5zdGF0ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0U3RhdGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFR5cGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgYnVpbGRTZWFyY2hMaXN0KCk7XG4gIH0pO1xufSk7XG5cblxuZnVuY3Rpb24gbG9hZFNjcmlwdE1hcCgpIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHQuZGVmZXIgPSB0cnVlO1xuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5RGZjczZtVjBYcXlGcXBvMzRHU0FUS0x0ZVBxVGdjMFdJJmNhbGxiYWNrPWluaXRNYXAnO1xuICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgZmlyc3RTY3JpcHRUYWcpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlclNvcnQoc3RhdGUsY2l0eSxldmVudF90eXBlKXtcbiAgZGVsZXRlTWFya2VycygpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICB2YXIgb2JqID0ge1xuICAgIHN0YXRlX2lkOiBzdGF0ZSA/IFtOdW1iZXIoc3RhdGUpXSA6IG51bGwsXG4gICAgY2l0eV9pZDogY2l0eSA/IFtOdW1iZXIoY2l0eSldIDogbnVsbCxcbiAgICBldmVudF90eXBlX2lkOiBldmVudF90eXBlID8gW051bWJlcihldmVudF90eXBlKV0gOiBudWxsICxcbiAgfTtcbiAgXG4gIHZhciBmaW5kT2JqID0gXy5waWNrQnkob2JqLCBfLmlkZW50aXR5KTtcbiAgc2VhcmNoUmVzdWx0ID0gXy5maWx0ZXIob2JqZWN0cy5ldmVudHNfZGljdCwgZmluZE9iaik7XG4gIGJ1aWxkU2VhcmNoTGlzdCgpO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgc2hvd01hcmtlcnMoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbn1cblxuZnVuY3Rpb24gYnVpbGRTZWFyY2hMaXN0KCl7XG4gIHZhciB1bCA9ICQoJy5zZW1pbmFyZV9fc2VhcmNoX19saXN0IHVsJyk7XG4gIHZhciBsaTtcbiAgdWwuaHRtbCgnJyk7XG4gIHNlYXJjaFJlc3VsdC5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICQobGkpLmh0bWwoJzxoMz4nK2l0ZW0ubmFtZSsnPC9oMz48ZGl2PjxwPicgKyBpdGVtLnN0cmVldCArICcgJyArIGl0ZW0uemlwICsgJyAnICsgaXRlbS5jaXR5X2lkWzFdICsgJzwvcD48YSBjbGFzcz1cImJ1dHRvbiBibHVlXCIgaHJlZj1cImV2ZW50LycgKyBpdGVtLmlkICsgJ1wiPjxzcGFuPlBsYXR6IHJlc2VydmllcmVuPC9zcGFuPjwvYT48L2Rpdj48c3Bhbj5BbSAnICsgU3RyaW5nKGl0ZW0uZGF0ZV9iZWdpbikuc3Vic3RyKDAsIDkpICsgJyB2b24gJyArIFN0cmluZyhpdGVtLmRhdGVfYmVnaW4pLnN1YnN0cigxMSxpdGVtLmRhdGVfYmVnaW4ubGVuZ3RoLTMpICsgJyBiaXMgJyArIFN0cmluZyhpdGVtLmRhdGVfZW5kKS5zdWJzdHIoMTEsaXRlbS5kYXRlX2JlZ2luLmxlbmd0aC0zKSArICcgVWhyPC9zcGFuPicpO1xuICAgICQobGkpLmFwcGVuZFRvKHVsKTtcbiAgfSk7XG4gIFxuICAvLyBzaW1wbGVCYXJVbC5nZXRDb250ZW50RWxlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBpbml0TWFwKCkge1xuICB2YXIgaGFpZ2h0QXNoYnVyeSA9IHtsYXQ6IHN0YXJ0UG9zaXRpb24ubGF0LCBsbmc6IHN0YXJ0UG9zaXRpb24ubG9nfTtcblxuICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAgIHpvb206IDcsXG4gICAgY2VudGVyOiBoYWlnaHRBc2hidXJ5LFxuICAgIG1hcFR5cGVJZDogc3RhcnRQb3NpdGlvbi50eXBlXG4gIH0pO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTtcbiAgLy8gbWFwLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIC8vICAgYWRkTWFya2VyKGV2ZW50LmxhdExuZyk7XG4gIC8vIH0pO1xuICAvLyBhZGRNYXJrZXIoaGFpZ2h0QXNoYnVyeSk7XG59XG5cbmZ1bmN0aW9uIGFkZE1hcmtlcihsb2NhdGlvbikge1xuICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgcG9zaXRpb246IGxvY2F0aW9uLFxuICAgIG1hcDogbWFwXG4gIH0pO1xuICBtYXJrZXJzLnB1c2gobWFya2VyKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFya2Vyc0dyb3VwKGl0ZW1zKXtcbiAgaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgIGFkZE1hcmtlcih7XG4gICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsIFxuICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZVxuICAgIH0pO1xuICB9KTsgXG59XG5cbmZ1bmN0aW9uIHNldE1hcE9uQWxsKG1hcCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBtYXJrZXJzW2ldLnNldE1hcChtYXApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyTWFya2VycygpIHtcbiAgc2V0TWFwT25BbGwobnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNob3dNYXJrZXJzKCkge1xuICBzZXRNYXBPbkFsbChtYXApO1xufVxuXG5mdW5jdGlvbiBkZWxldGVNYXJrZXJzKCkge1xuICBjbGVhck1hcmtlcnMoKTtcbiAgbWFya2VycyA9IFtdO1xufVxuXG5cblxuIl19
