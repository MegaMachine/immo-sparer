function n(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function o(){var e,t,a=$(".webinar-info h2"),n=a.css("marginBottom");$(a[0]).outerHeight()<=$(a[1]).outerHeight()?($(a[0]).css("marginBottom",n),e=$(a[0]).outerHeight(),t=$(a[1]).outerHeight()-e,$(a[0]).css("marginBottom",parseFloat($(a[0]).css("marginBottom"))+t+"px")):($(a[1]).css("marginBottom",n),e=$(a[1]).outerHeight(),t=$(a[0]).outerHeight()-e,$(a[1]).css("marginBottom",parseFloat($(a[1]).css("marginBottom"))+t+"px"))}function i(){991<=window.outerWidth&&setTimeout(function(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left;$(".seminare-and-map .map .map-wrap").css({width:e-t+"px"}),console.log(t)},111)}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),a=$(".new-properties__item__location div"),n=0,o=0;a.removeAttr("style"),t.removeAttr("style"),a.map(function(){$(this).outerHeight()>=n&&(n=$(this).outerHeight())}),t.map(function(){$(this).height()>=o&&(o=$(this).height())}),a.css("height",n+"px"),t.css("height",o+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}$(function(){!function(){for(var e=$(".header__bottom__nav ul li a"),t=0;t<e.length;t++){var a=document.createElement("li"),n=$(e[t]).clone();$(n).removeClass("dropdown-item"),$(n).appendTo(a),$(a).appendTo(".header__bottom__nav__mobile ul")}$(".header__mid__contacts__phones").clone().appendTo(".header__bottom__nav__mobile"),$(".header__top .log-or-reg").clone().appendTo(".header__bottom__nav__mobile")}(),e(),setTimeout(function(){var e,t,a;n(),o(),i(),s(),e=$(".object-fit-simulation"),t=e.find("img"),a=t.attr("src"),t.css("display","none"),e.css({background:"url("+a+") no-repeat center / cover"}),r()},111),$(window).scroll(function(){}),$(window).resize(function(){n(),o(),s(),i(),r()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav__mobile").toggleClass("active")}),$("#show-agents").click(function(){e()})});var a=!1;function e(){var e=$(".agents .row>div");if(a)e.fadeIn(),a=!a;else{for(var t=2;t<e.length;t++)$(e[t]).fadeOut();a=!a}console.log(e)}function r(){$("main").css("padding-top",$("header.header").innerHeight()+"px")}window.initMap=function(){var e={lat:l.lat,lng:l.log};c=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:l.type}),y(p)};var c,l,d,p,h,u,m,g,v=[],t={states:[],cities:[],eventsType:[]};function f(e,t,a){w(null),v=[];var n={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:a?[Number(a)]:null},o=_.pickBy(n,_.identity);p=_.filter(d.events_dict,o),b(),y(p),w(c),console.log(p.length,d.events_dict.length),p.length!==d.events_dict.length?(c.setCenter({lat:parseFloat(p[0].latitude),lng:parseFloat(p[0].longitude)}),c.setZoom(14),console.log("+")):(c.setCenter({lat:l.lat,lng:l.log}),c.setZoom(7),console.log("-"))}function b(){var r,c=$(".seminare__search__list ul");c.html(""),p.map(function(e){r=document.createElement("li");var t=e.street?e.street:"",a=e.zip?e.zip:"",n=e.city_id[1]?e.city_id[1]:"",o=String(e.date_begin).substr(0,9).replace("-",".").replace("-",".");o=(o=(o=o.split(".")).reverse()).join(".");var i=String(e.date_begin).replace(":",".").replace(":",".").substr(11,15),s=String(e.date_end).replace(":",".").replace(":",".").substr(11,15);i=i.substr(0,5),s=s.substr(0,5),$(r).html("<h3>"+e.name+"</h3><div><p>"+t+" "+a+" "+n+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+o+" von "+i+" bis "+s+" Uhr</span>"),$(r).appendTo(c)})}function y(e){console.log(e),e.map(function(e){var t=e.street?e.street+" ,":"",a=e.city_id[1]?e.city_id[1]+" ,":"",n=e.country_id[1]?e.country_id[1]:"",o=e.zip?e.zip:"",i='<div class="marker-info"><div class="marker-info-title"><span></span><h2>'+e.city_id[1]+'</h2></div><div class="marker-info-content"><a href="tel:123" class="phone">123123123123</a><p class="address"><span>'+t+"</span><span>"+o+" "+a+"</span> <span>"+n+"</span></p></div> </div>";!function(e,t){new google.maps.LatLngBounds;var a=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({center:a,position:a,map:c});n.setVisible(!1),new google.maps.InfoWindow({content:t}).open(c,n),v.push(n)}({lat:e.latitude,lng:e.longitude},i)})}function w(e){for(var t=0;t<v.length;t++)v[t].setMap(e)}$(document).ready(function(){l={lat:parseFloat($("#latitude").val())||50.9913249,log:parseFloat($("#longitude").val())||9.4721966,type:$("#template_type").val()||"terrain"},$(window).resize(function(){}),h=$(".seminare__search__filter__state select"),u=$(".seminare__search__filter__city select"),m=$(".seminare__search__filter__type select"),h.select2({width:"resolve",theme:"classic",placeholder:"Select a state",allowClear:!0}),u.select2({width:"resolve",theme:"classic",placeholder:"Select a city",allowClear:!0}),m.select2({width:"resolve",theme:"classic",placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){f(h.val(),u.val(),m.val())}),$(".seminare__search__filter select").change(function(){f(h.val(),u.val(),m.val())}),$(".seminare__search__filter__city select").change(function(){!h.val()&&u.val()?h.prop("disabled",!0):h.prop("disabled",!1),f(h.val(),u.val(),m.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(t.cities=[],t.cities=_.filter(d.cities_dict,{state_id:Number($(this).val())}),u.html("<option></option>"),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)})):(t.cities=[],t.cities=d.cities_dict,u.html("<option></option>"),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)})),f(h.val(),u.val(),m.val())}),$(document).on("click",".marker-info",function(){$(this).hasClass("active")?$(this).removeClass("active"):($(".marker-info").removeClass("active"),$(this).addClass("active"))}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){p=(d=e).events_dict,console.log("good: ",e)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),t.states=d.state_dict,t.cities=d.cities_dict,t.eventsType=d.event_categories,t.states.map(function(e){var t=new Option(e.name,e.id);h.append(t)}),t.cities.map(function(e){var t=new Option(e.name,e.id);u.append(t)}),t.eventsType.map(function(e){var t=new Option(e.name,e.id);m.append(t)}),b()})}),Chart.plugins.unregister(ChartDataLabels),Chart.defaults.global.defaultFontColor="#292929",Chart.defaults.global.defaultFontSize=14,Chart.defaults.global.defaultFontFamily="Poppins-SemiBold";var C="http://localhost:3000/json/";function k(e,t){return $.ajax({type:"GET",url:e+t+".json",dataType:"json",async:!1,success:function(e){g=e,console.log(g)},error:function(e){console.log("error: ",e)}})}function T(e,t,a){var n,o,i,s,r,c,l;r={display:!0,layout:{padding:{left:20,top:30}},legend:{display:!1},plugins:{datalabels:{color:"#292929",anchor:"end",align:"top",formatter:function(e,t){return e+" €"}}},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return e+" €"}}}]}},t&&(document.querySelector(".charts__block__item.one .charts__block__item__chart").innerHTML="",(c=document.createElement("canvas")).id="myChartOne",c.height="250",document.querySelector(".charts__block__item.one .charts__block__item__chart").appendChild(c),n=document.getElementById("myChartOne").getContext("2d"),i={labels:e||g.label,datasets:[{data:t||g.chart[0].data1,backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},new Chart(n,{type:"bar",data:i,plugins:[ChartDataLabels],options:r})),a&&(document.querySelector(".charts__block__item.two .charts__block__item__chart").innerHTML="",(l=document.createElement("canvas")).id="myChartTwo",l.height="250",document.querySelector(".charts__block__item.two .charts__block__item__chart").appendChild(l),o=document.getElementById("myChartTwo").getContext("2d"),s={labels:e||g.label,datasets:[{data:a||g.chart[0].data2,backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},new Chart(o,{type:"bar",data:s,plugins:[ChartDataLabels],options:r}))}$(document).ready(function(){$.when(k(C,"1")).done(function(){T(g.label,g.chart[0].data1,g.chart[0].data2)}),$(window).resize(function(){window.outerWidth});for(var e=$(".charts__buttons"),t=0;t<g.percents.length;t++){var a=null;(a=document.createElement("button")).value=g.percents[t],a.classList.add("button"),a.classList.add("red"),$(a).html("<span>"+g.percents[t]+"%</span>"),$(a).appendTo(e)}$(".charts__buttons button").click(function(){$.when(k(C,$(this).val())).done(function(){T(g.label,g.chart[0].data1,g.chart[0].data2)})}),$(".charts__block__item.one .charts__block__item__input input").change(function(){$.when(k(C+"chart-input-one",$(this).val())).done(function(){T(g.label,g.chart[0].data1,g.chart[0].data2)})}),$(".charts__block__item.two .charts__block__item__input input").change(function(){$.when(k(C+"chart-input-two",$(this).val())).done(function(){T(g.label,g.chart[0].data1,g.chart[0].data2)})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiLCJjaGFydHMuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvdyIsIm91dGVyV2lkdGgiLCJzZXRUaW1lb3V0Iiwid2luZG93V2lkdGgiLCJtYXBPZmZzZXQiLCJvZmZzZXQiLCJsZWZ0Iiwid2lkdGgiLCJjb25zb2xlIiwibG9nIiwibmV3UHJvcGVydGllc0l0ZW1IZWlnaHQiLCJpdGVtc0xpbmVIZWlnaHQiLCJpdGVtc1RleHRUaXRsZSIsIml0ZW1zTG9jYXRpb25IZWlnaHQiLCJtYXhIZWlnaHQxIiwibWF4SGVpZ2h0MiIsInJlbW92ZUF0dHIiLCJtYXAiLCJ0aGlzIiwibGlua3MiLCJpbmRleCIsImxlbmd0aCIsImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xvbmVMaW5rIiwiY2xvbmUiLCJyZW1vdmVDbGFzcyIsImFwcGVuZFRvIiwiaGVhZGVyQ2xvbmVGb3JNb2JpbGUiLCJzaG93QWdlbnRzIiwic2ltdWxhdG9yIiwiaW1nIiwiaW1nU3JjIiwiZmluZCIsImF0dHIiLCJiYWNrZ3JvdW5kIiwiY2hlY2tIZWFkZXJIZWlnaHQiLCJzY3JvbGwiLCJyZXNpemUiLCJjbGljayIsInRvZ2dsZUNsYXNzIiwic2hvd0FnZW50c1N0YXR1cyIsImFnZW50cyIsImZhZGVJbiIsImkiLCJmYWRlT3V0IiwiaW5uZXJIZWlnaHQiLCJpbml0TWFwIiwiaGFpZ2h0QXNoYnVyeSIsImxhdCIsInN0YXJ0UG9zaXRpb24iLCJsbmciLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZ2V0RWxlbWVudEJ5SWQiLCJ6b29tIiwiY2VudGVyIiwibWFwVHlwZUlkIiwidHlwZSIsImNyZWF0ZU1hcmtlcnNHcm91cCIsInNlYXJjaFJlc3VsdCIsIm9iamVjdHMiLCJzZWxlY3RTdGF0ZSIsInNlbGVjdENpdHkiLCJzZWxlY3RUeXBlIiwiY2hhcnRzRGF0YSIsIm1hcmtlcnMiLCJmaWx0ZXJWYWx1ZXMiLCJzdGF0ZXMiLCJjaXRpZXMiLCJldmVudHNUeXBlIiwiZmlsdGVyU29ydCIsInN0YXRlIiwiY2l0eSIsImV2ZW50X3R5cGUiLCJzZXRNYXBPbkFsbCIsIm9iaiIsInN0YXRlX2lkIiwiTnVtYmVyIiwiY2l0eV9pZCIsImV2ZW50X3R5cGVfaWQiLCJmaW5kT2JqIiwiXyIsInBpY2tCeSIsImlkZW50aXR5IiwiZmlsdGVyIiwiZXZlbnRzX2RpY3QiLCJidWlsZFNlYXJjaExpc3QiLCJzZXRDZW50ZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInNldFpvb20iLCJ1bCIsImh0bWwiLCJpdGVtIiwic3RyZWV0IiwiemlwIiwiZGF0ZSIsIlN0cmluZyIsImRhdGVfYmVnaW4iLCJzdWJzdHIiLCJyZXBsYWNlIiwic3BsaXQiLCJyZXZlcnNlIiwiam9pbiIsInRpbWVTdGFydCIsInRpbWVFbmQiLCJkYXRlX2VuZCIsIm5hbWUiLCJpZCIsImNvdW50cnkiLCJjb3VudHJ5X2lkIiwiY29udGVudFN0cmluZyIsImxvY2F0aW9uIiwiTGF0TG5nQm91bmRzIiwibGF0TG5nIiwiTGF0TG5nIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJzZXRWaXNpYmxlIiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJvcGVuIiwicHVzaCIsImFkZE1hcmtlciIsInNldE1hcCIsInJlYWR5IiwidmFsIiwic2VsZWN0MiIsInRoZW1lIiwicGxhY2Vob2xkZXIiLCJhbGxvd0NsZWFyIiwiY2hhbmdlIiwicHJvcCIsImNpdGllc19kaWN0Iiwib3B0aW9uIiwiT3B0aW9uIiwiYXBwZW5kIiwib24iLCJoYXNDbGFzcyIsImFkZENsYXNzIiwid2hlbiIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsIl9lcnJvciIsImRvbmUiLCJzY3JpcHQiLCJkZWZlciIsInNyYyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiYm9keSIsImFwcGVuZENoaWxkIiwibG9hZFNjcmlwdE1hcCIsInN0YXRlX2RpY3QiLCJldmVudF9jYXRlZ29yaWVzIiwiQ2hhcnQiLCJwbHVnaW5zIiwidW5yZWdpc3RlciIsIkNoYXJ0RGF0YUxhYmVscyIsImRlZmF1bHRzIiwiZ2xvYmFsIiwiZGVmYXVsdEZvbnRDb2xvciIsImRlZmF1bHRGb250U2l6ZSIsImRlZmF1bHRGb250RmFtaWx5IiwidXJsQ2hhcnRzIiwiZ2V0QnV0dG9uRGF0YSIsInZhbHVlIiwiaW5pdHNDaGFydHMiLCJsYWJlbHMiLCJkYXRhMSIsImRhdGEyIiwiY3R4T25lIiwiY3R4VHdvIiwiZGF0YU9uZSIsImRhdGFUd28iLCJzZXRPcHRpb25zIiwiY2hhcnRDb250YWluZXJPbmUiLCJjaGFydENvbnRhaW5lclR3byIsImRpc3BsYXkiLCJsYXlvdXQiLCJwYWRkaW5nIiwidG9wIiwibGVnZW5kIiwiZGF0YWxhYmVscyIsImNvbG9yIiwiYW5jaG9yIiwiYWxpZ24iLCJmb3JtYXR0ZXIiLCJjb250ZXh0Iiwic2NhbGVzIiwieUF4ZXMiLCJ0aWNrcyIsImJlZ2luQXRaZXJvIiwiY2FsbGJhY2siLCJ2YWx1ZXMiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiZ2V0Q29udGV4dCIsImxhYmVsIiwiZGF0YXNldHMiLCJjaGFydCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJvcHRpb25zIiwiY2hhcnRzQnV0dG9uc0NvbnRhaW5lciIsInBlcmNlbnRzIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIl0sIm1hcHBpbmdzIjoiQUF5Q0EsU0FBQUEsSUFDQSxJQUFBQyxFQUFBQyxFQUFBLGlCQUFBQyxjQUNBRCxFQUFBLHdCQUFBRSxJQUFBLGFBQUEsZ0JBQUFILEVBQUEsT0FJ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T0FBQUMsYUFTQSxJQURBLElBQUF1TixFQUFBak8sRUFBQSxvQkFDQXNELEVBQUEsRUFBQUEsRUFBQXNCLEVBQUFzSixTQUFBcE0sT0FBQXdCLElBQUEsQ0FDQSxJQUFBNkssRUFBQSxNQUNBQSxFQUFBbk0sU0FBQUMsY0FBQSxXQUNBeUosTUFBQTlHLEVBQUFzSixTQUFBNUssR0FDQTZLLEVBQUFDLFVBQUFDLElBQUEsVUFDQUYsRUFBQUMsVUFBQUMsSUFBQSxPQUNBck8sRUFBQW1PLEdBQUEzSCxLQUFBLFNBQUE1QixFQUFBc0osU0FBQTVLLEdBQUEsWUFDQXRELEVBQUFtTyxHQUFBOUwsU0FBQTRMLEdBR0FqTyxFQUFBLDJCQUFBaUQsTUFBQSxXQUNBakQsRUFBQXlKLEtBQUFnQyxFQUFBRCxFQUFBeEwsRUFBQTJCLE1BQUFnSCxRQUFBdUIsS0FBQSxXQUNBeUIsRUFBQS9HLEVBQUE4SSxNQUFBOUksRUFBQWdKLE1BQUEsR0FBQS9CLE1BQUFqSCxFQUFBZ0osTUFBQSxHQUFBOUIsV0FJQTlMLEVBQUEsOERBQUFnSixPQUFBLFdBQ0FoSixFQUFBeUosS0FBQWdDLEVBQUFELEVBQUEsa0JBQUF4TCxFQUFBMkIsTUFBQWdILFFBQUF1QixLQUFBLFdBQ0F5QixFQUFBL0csRUFBQThJLE1BQUE5SSxFQUFBZ0osTUFBQSxHQUFBL0IsTUFBQWpILEVBQUFnSixNQUFBLEdBQUE5QixXQUlBOUwsRUFBQSw4REFBQWdKLE9BQUEsV0FDQWhKLEVBQUF5SixLQUFBZ0MsRUFBQUQsRUFBQSxrQkFBQXhMLEVBQUEyQixNQUFBZ0gsUUFBQXVCLEtBQUEsV0FDQXlCLEVBQUEvRyxFQUFBOEksTUFBQTlJLEVBQUFnSixNQUFBLEdBQUEvQixNQUFBakgsRUFBQWdKLE1BQUEsR0FBQTlCIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG4gIGhlYWRlckNsb25lRm9yTW9iaWxlKCk7XG4gIHNob3dBZ2VudHMoKTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbWFwV2lkdGgoKTtcbiAgICBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpO1xuICAgIG9iamVjdEZpdFNpbXVsYXRpb24oKTtcbiAgICBjaGVja0hlYWRlckhlaWdodCgpO1xuICB9LCAxMTEpO1xuXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7fSk7XG5cbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKTtcbiAgICBtYXBXaWR0aCgpO1xuICAgIGNoZWNrSGVhZGVySGVpZ2h0KCk7XG4gIH0pO1xuICAkKCcubWVudS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcjc2hvdy1hZ2VudHMnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHNob3dBZ2VudHMoKTtcbiAgfSk7XG59KTtcblxuLy9vYmplY3QtZml0LXNpbXVsYXRpb25cbmZ1bmN0aW9uIG9iamVjdEZpdFNpbXVsYXRpb24oKXtcbiAgdmFyIHNpbXVsYXRvciA9ICQoJy5vYmplY3QtZml0LXNpbXVsYXRpb24nKTtcbiAgdmFyIGltZyA9IHNpbXVsYXRvci5maW5kKCdpbWcnKTtcbiAgdmFyIGltZ1NyYyA9IGltZy5hdHRyKCdzcmMnKTtcbiAgaW1nLmNzcygnZGlzcGxheScsJ25vbmUnKTtcbiAgc2ltdWxhdG9yLmNzcyh7XG4gICAgJ2JhY2tncm91bmQnOid1cmwoJytpbWdTcmMrJykgbm8tcmVwZWF0IGNlbnRlciAvIGNvdmVyJyxcbiAgfSk7XG59XG4vL3dlYmluYXIgaGVpZ2h0XG5mdW5jdGlvbiBoZWFkZXJIZWlnaHQoKSB7XG4gIHZhciBoZWlnaHQgPSAkKFwiaGVhZGVyLmhlYWRlclwiKS5vdXRlckhlaWdodCgpO1xuICAkKFwic2VjdGlvbi53ZWJpbmFyLWluZm9cIikuY3NzKFwibWluLWhlaWdodFwiLCBcImNhbGMoMTAwdmggLSBcIiArIGhlaWdodCArIFwicHgpXCIpO1xufVxuXG4vL3dlYmluYXIgdGl0bGUgYWxpZ25cbmZ1bmN0aW9uIHRpdGxlQWxpZ24oKSB7XG4gIHZhciBpdGVtcyA9ICQoXCIud2ViaW5hci1pbmZvIGgyXCIpO1xuICB2YXIgZGVmYXVsdE1hcmdpbiA9IGl0ZW1zLmNzcygnbWFyZ2luQm90dG9tJyk7XG4gIHZhciBtYXg7XG4gIHZhciBtaW47XG4gIHZhciBoZWlnaHQ7XG4gIGlmICgkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpIDw9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCkpIHtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzBdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzBdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgZGVmYXVsdE1hcmdpblxuICAgICk7XG4gICAgbWluID0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBtYXggPSAkKGl0ZW1zWzBdKS5vdXRlckhlaWdodCgpO1xuICAgIGhlaWdodCA9IG1heCAtIG1pbjtcbiAgICAkKGl0ZW1zWzFdKS5jc3MoXG4gICAgICBcIm1hcmdpbkJvdHRvbVwiLFxuICAgICAgcGFyc2VGbG9hdCgkKGl0ZW1zWzFdKS5jc3MoXCJtYXJnaW5Cb3R0b21cIikpICsgaGVpZ2h0ICsgXCJweFwiXG4gICAgKTtcbiAgfVxufVxuXG4vL21hcCBzaXplXG5mdW5jdGlvbiBtYXBXaWR0aCgpIHtcbiAgaWYod2luZG93Lm91dGVyV2lkdGggPj0gOTkxKXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgd2luZG93V2lkdGggPSAkKFwiYm9keVwiKS5vdXRlcldpZHRoKCk7XG4gICAgICB2YXIgbWFwT2Zmc2V0ID0gJChcIi5zZW1pbmFyZS1hbmQtbWFwIC5tYXBcIikub2Zmc2V0KCkubGVmdDtcbiAgICAgIC8vIHZhciBzZW1pbmFyV0lkdGggPSAkKCcuc2VtaW5hcmUtYW5kLW1hcCAuc2VtaW5hcmUnKS5vdXRlcldpZHRoKCk7XG4gICAgICAvLyB2YXIgY29udGFpbmVyUGFkZGluZyA9IHBhcnNlRmxvYXQoJCgnLnNlbWluYXJlLWFuZC1tYXAgLmNvbnRhaW5lcicpLmNzcygncGFkZGluZ0xlZnQnKSk7XG4gICAgICAvLyB2YXIgY29udGFpbmVySGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcuc2VtaW5hcmUtYW5kLW1hcCAuY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSk7XG4gICAgICAkKFwiLnNlbWluYXJlLWFuZC1tYXAgLm1hcCAubWFwLXdyYXBcIikuY3NzKHtcbiAgICAgICAgXCJ3aWR0aFwiOiB3aW5kb3dXaWR0aCAtIG1hcE9mZnNldCArIFwicHhcIixcbiAgICAgICAgLy8gJ2xlZnQnOiBzZW1pbmFyV0lkdGggKyBjb250YWluZXJQYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgLy8gJ2hlaWdodCc6IGNvbnRhaW5lckhlaWdodCArICdweCdcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2cobWFwT2Zmc2V0KTtcbiAgICB9LDExMSk7XG4gIH1cbn1cblxuLy8gbmV3LXByb3Blcml0aWVzIG5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IGhlaWdodFxuZnVuY3Rpb24gbmV3UHJvcGVydGllc0l0ZW1IZWlnaHQoKXtcbiAgdmFyIGl0ZW1zTGluZUhlaWdodCA9IHBhcnNlRmxvYXQoJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IHAnKS5jc3MoJ2xpbmVIZWlnaHQnKSk7XG4gIHZhciBpdGVtc1RleHRUaXRsZSA9ICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fdGV4dCBoMycpO1xuICB2YXIgaXRlbXNMb2NhdGlvbkhlaWdodCA9ICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX2xvY2F0aW9uIGRpdicpO1xuICB2YXIgbWF4SGVpZ2h0MSA9IDA7XG4gIHZhciBtYXhIZWlnaHQyID0gMDtcbiAgaXRlbXNMb2NhdGlvbkhlaWdodC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICBpdGVtc1RleHRUaXRsZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICBpdGVtc0xvY2F0aW9uSGVpZ2h0Lm1hcChmdW5jdGlvbigpeyAgIFxuICAgIGlmKCQodGhpcykub3V0ZXJIZWlnaHQoKSA+PSBtYXhIZWlnaHQxKXtcbiAgICAgIG1heEhlaWdodDEgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNUZXh0VGl0bGUubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oZWlnaHQoKSA+PSBtYXhIZWlnaHQyKXtcbiAgICAgIG1heEhlaWdodDIgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgIH1cbiAgfSk7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQxICsgJ3B4Jyk7XG4gIGl0ZW1zVGV4dFRpdGxlLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0MiArICdweCcpO1xuICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnaGVpZ2h0JywgaXRlbXNMaW5lSGVpZ2h0ICogMiArICdweCcpO1xufVxuXG5mdW5jdGlvbiBoZWFkZXJDbG9uZUZvck1vYmlsZSgpe1xuICB2YXIgbGlua3MgPSAgJCgnLmhlYWRlcl9fYm90dG9tX19uYXYgdWwgbGkgYScpO1xuICAvLyAkKCcuaGVhZGVyX19ib3R0b21fX25hdiB1bCBhJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZSB1bCcpO1xuICBcbiAgLy8gaGVhZGVyX190b3AgbG9nLW9yLXJlZ1xuICAgIC8vaGVhZGVyX190b3Agc29jaWFsXG4gICAgLy9oZWFkZXJfX21pZF9fY29udGFjdHNfX3Bob25lcyBhXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaW5rcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIHZhciBjbG9uZUxpbmsgPSAgJChsaW5rc1tpbmRleF0pLmNsb25lKCk7XG4gICAgJChjbG9uZUxpbmspLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1pdGVtJyk7XG4gICAgJChjbG9uZUxpbmspLmFwcGVuZFRvKGxpKTtcbiAgICAkKGxpKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZSB1bCcpOyAgIFxuICB9XG4gIC8vICQoJy5oZWFkZXJfX3RvcCBkaXYuc29jaWFsJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZScpO1xuICAkKCcuaGVhZGVyX19taWRfX2NvbnRhY3RzX19waG9uZXMnKS5jbG9uZSgpLmFwcGVuZFRvKCcuaGVhZGVyX19ib3R0b21fX25hdl9fbW9iaWxlJyk7XG4gICQoJy5oZWFkZXJfX3RvcCAubG9nLW9yLXJlZycpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKTtcbn1cblxuLy9TaG93IEFnZW50cyBidXR0b25cbnZhciBzaG93QWdlbnRzU3RhdHVzID0gZmFsc2U7XG5mdW5jdGlvbiBzaG93QWdlbnRzKCl7IFxuICB2YXIgYWdlbnRzID0gJCgnLmFnZW50cyAucm93PmRpdicpO1xuICBpZihzaG93QWdlbnRzU3RhdHVzKXtcbiAgICBhZ2VudHMuZmFkZUluKCk7XG4gICAgc2hvd0FnZW50c1N0YXR1cyA9ICFzaG93QWdlbnRzU3RhdHVzO1xuICB9ZWxzZXtcbiAgICBmb3IodmFyIGkgPSAyOyBpIDwgYWdlbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICQoYWdlbnRzW2ldKS5mYWRlT3V0KCk7XG4gICAgfVxuICAgIHNob3dBZ2VudHNTdGF0dXMgPSAhc2hvd0FnZW50c1N0YXR1cztcbiAgfVxuICBjb25zb2xlLmxvZyhhZ2VudHMpO1xufVxuXG5mdW5jdGlvbiBjaGVja0hlYWRlckhlaWdodCgpe1xuICAkKCdtYWluJykuY3NzKCdwYWRkaW5nLXRvcCcsICQoJ2hlYWRlci5oZWFkZXInKS5pbm5lckhlaWdodCgpICsgJ3B4Jyk7XG59IiwiLy8gLy9Hb29nbGUgTWFwXG4vLzxpbnB1dCBpZD1cImxhdGl0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sYXRpdHVkZVwiLz5cbi8vPGlucHV0IGlkPVwibG9uZ2l0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sb25naXR1ZGVcIi8+XG4vLzxpbnB1dCBpZD1cInRlbXBsYXRlX3R5cGVcIiB0eXBlPVwiaGlkZGVuXCIgdC1hdHQtdmFsdWU9XCJ0ZW1wbGF0ZV90eXBlXCIvPiBcblxud2luZG93LmluaXRNYXAgPSBpbml0TWFwO1xudmFyIHVybE1hcCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvanNvbi9kYXRhLmpzb24nO1xudmFyIG1hcDtcbnZhciBtYXJrZXJzID0gW107XG52YXIgc3RhcnRQb3NpdGlvbjtcbnZhciBvYmplY3RzO1xudmFyIHNlYXJjaFJlc3VsdDtcbnZhciBjaGVja1N0YXRlO1xuLy8gdmFyIHNpbXBsZUJhclVsID0gbmV3IFNpbXBsZUJhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWxpc3QnKSk7XG5cbi8v0JfQvdCw0YfQtdC90L3RjyDQtNC70Y8gc2VsZWN0XG52YXIgZmlsdGVyVmFsdWVzID0ge1xuICBzdGF0ZXM6W10sXG4gIGNpdGllczpbXSxcbiAgZXZlbnRzVHlwZTpbXVxufTtcblxudmFyIHNlbGVjdFN0YXRlO1xudmFyIHNlbGVjdENpdHk7XG52YXIgc2VsZWN0VHlwZTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgc3RhcnRQb3NpdGlvbiA9IHtcbiAgICBsYXQgOiBwYXJzZUZsb2F0KCQoJyNsYXRpdHVkZScpLnZhbCgpKSB8fCA1MC45OTEzMjQ5LFxuICAgIGxvZyA6IHBhcnNlRmxvYXQoJCgnI2xvbmdpdHVkZScpLnZhbCgpKSB8fCA5LjQ3MjE5NjYsXG4gICAgdHlwZSA6ICQoJyN0ZW1wbGF0ZV90eXBlJykudmFsKCkgfHwgJ3RlcnJhaW4nXG4gIH07XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblxuICB9KTtcblxuICAvL0dldCBzZWxlY3RzXG4gIHNlbGVjdFN0YXRlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fc3RhdGUgc2VsZWN0Jyk7XG4gIHNlbGVjdENpdHkgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19jaXR5IHNlbGVjdCcpO1xuICBzZWxlY3RUeXBlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fdHlwZSBzZWxlY3QnKTtcblxuICBzZWxlY3RTdGF0ZS5zZWxlY3QyKHtcbiAgICB3aWR0aDogJ3Jlc29sdmUnLFxuICAgIHRoZW1lOiBcImNsYXNzaWNcIixcbiAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgYSBzdGF0ZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdENpdHkuc2VsZWN0Mih7XG4gICAgd2lkdGg6ICdyZXNvbHZlJyxcbiAgICB0aGVtZTogXCJjbGFzc2ljXCIsXG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgY2l0eVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdFR5cGUuc2VsZWN0Mih7XG4gICAgd2lkdGg6ICdyZXNvbHZlJyxcbiAgICB0aGVtZTogXCJjbGFzc2ljXCIsXG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgZXZlbnQgdHlwZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIFxuICAvL0ZpbHRlclxuICAkKCcuc2VsZWN0Mi1zZWxlY3Rpb25fX2NsZWFyJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuXG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXIgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7ICAgXG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcbiAgJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fY2l0eSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICBpZiggIXNlbGVjdFN0YXRlLnZhbCgpICYmIHNlbGVjdENpdHkudmFsKCkpe1xuICAgICAgc2VsZWN0U3RhdGUucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0U3RhdGUucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3N0YXRlIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykudmFsKCkpe1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IFtdO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IF8uZmlsdGVyKG9iamVjdHMuY2l0aWVzX2RpY3QseyBzdGF0ZV9pZDogTnVtYmVyKCQodGhpcykudmFsKCkpfSk7XG4gICAgICBzZWxlY3RDaXR5Lmh0bWwoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBbXTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgICAgc2VsZWN0Q2l0eS5odG1sKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCcubWFya2VyLWluZm8nLGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLm1hcmtlci1pbmZvJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICAgIFxuICB9KTtcbiAgJC53aGVuKCQuYWpheCh7XG4gICAgdHlwZTogXCJHRVRcIixcbiAgICB1cmw6ICB1cmxNYXAsXG4gICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgIGFzeW5jOiBmYWxzZSwgLy8g0JfQsNCx0YDQsNGC0Lgg0LrQvtC70Lgg0LHRg9C00LXRiCDQvdCwINCx0LXQui3QtdC90LQg0YHRgtGD0LrQsNGC0LjRgdGMXG4gICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICBvYmplY3RzID0gZGF0YTtcbiAgICAgIHNlYXJjaFJlc3VsdCA9IGRhdGEuZXZlbnRzX2RpY3Q7XG4gICAgICBjb25zb2xlLmxvZygnZ29vZDogJyxkYXRhKTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJyxfZXJyb3IpO1xuICAgIH1cbiAgfSkpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgIGxvYWRTY3JpcHRNYXAoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzID0gb2JqZWN0cy5zdGF0ZV9kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlID0gb2JqZWN0cy5ldmVudF9jYXRlZ29yaWVzO1xuICAgIFxuICAgIGZpbHRlclZhbHVlcy5zdGF0ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0U3RhdGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFR5cGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgYnVpbGRTZWFyY2hMaXN0KCk7XG5cbiAgfSk7XG59KTtcblxuXG5mdW5jdGlvbiBsb2FkU2NyaXB0TWFwKCkge1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gIHNjcmlwdC5kZWZlciA9IHRydWU7XG4gIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lEZmNzNm1WMFhxeUZxcG8zNEdTQVRLTHRlUHFUZ2MwV0kmY2FsbGJhY2s9aW5pdE1hcCc7XG4gIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2NyaXB0LCBmaXJzdFNjcmlwdFRhZyk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyU29ydChzdGF0ZSxjaXR5LGV2ZW50X3R5cGUpe1xuICBkZWxldGVNYXJrZXJzKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gIHZhciBvYmogPSB7XG4gICAgc3RhdGVfaWQ6IHN0YXRlID8gW051bWJlcihzdGF0ZSldIDogbnVsbCxcbiAgICBjaXR5X2lkOiBjaXR5ID8gW051bWJlcihjaXR5KV0gOiBudWxsLFxuICAgIGV2ZW50X3R5cGVfaWQ6IGV2ZW50X3R5cGUgPyBbTnVtYmVyKGV2ZW50X3R5cGUpXSA6IG51bGwgLFxuICB9O1xuICBcbiAgdmFyIGZpbmRPYmogPSBfLnBpY2tCeShvYmosIF8uaWRlbnRpdHkpO1xuICBzZWFyY2hSZXN1bHQgPSBfLmZpbHRlcihvYmplY3RzLmV2ZW50c19kaWN0LCBmaW5kT2JqKTtcbiAgYnVpbGRTZWFyY2hMaXN0KCk7XG4gIGNyZWF0ZU1hcmtlcnNHcm91cChzZWFyY2hSZXN1bHQpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICBzaG93TWFya2VycygpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICBjb25zb2xlLmxvZyhzZWFyY2hSZXN1bHQubGVuZ3RoLG9iamVjdHMuZXZlbnRzX2RpY3QubGVuZ3RoKTtcbiAgaWYoc2VhcmNoUmVzdWx0Lmxlbmd0aCAhPT0gb2JqZWN0cy5ldmVudHNfZGljdC5sZW5ndGgpe1xuICAgIG1hcC5zZXRDZW50ZXIoe1xuICAgICAgbGF0OnBhcnNlRmxvYXQoc2VhcmNoUmVzdWx0WzBdLmxhdGl0dWRlKSxcbiAgICAgIGxuZzpwYXJzZUZsb2F0KHNlYXJjaFJlc3VsdFswXS5sb25naXR1ZGUpXG4gICAgfSk7XG4gICAgbWFwLnNldFpvb20oMTQpO1xuICAgIGNvbnNvbGUubG9nKCcrJyk7XG4gIH1lbHNle1xuICAgIG1hcC5zZXRDZW50ZXIoe2xhdDogc3RhcnRQb3NpdGlvbi5sYXQsIGxuZzogc3RhcnRQb3NpdGlvbi5sb2d9KTtcbiAgICBtYXAuc2V0Wm9vbSg3KTtcbiAgICBjb25zb2xlLmxvZygnLScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkU2VhcmNoTGlzdCgpe1xuICB2YXIgdWwgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fbGlzdCB1bCcpO1xuICB2YXIgbGk7XG4gIHVsLmh0bWwoJycpO1xuICBzZWFyY2hSZXN1bHQubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICB2YXIgc3RyZWV0ID0gaXRlbS5zdHJlZXQgPyBpdGVtLnN0cmVldCA6ICcnO1xuICAgIHZhciB6aXAgPSBpdGVtLnppcCA/IGl0ZW0uemlwIDogJyc7XG4gICAgdmFyIGNpdHkgPSBpdGVtLmNpdHlfaWRbMV0gPyBpdGVtLmNpdHlfaWRbMV0gOiAnJztcbiAgICB2YXIgZGF0ZSA9IFN0cmluZyhpdGVtLmRhdGVfYmVnaW4pLnN1YnN0cigwLCA5KS5yZXBsYWNlKCctJywnLicpLnJlcGxhY2UoJy0nLCcuJyk7XG4gICAgZGF0ZSA9IGRhdGUuc3BsaXQoJy4nKTtcbiAgICBkYXRlID0gZGF0ZS5yZXZlcnNlKCk7XG4gICAgZGF0ZSA9IGRhdGUuam9pbignLicpO1xuICAgIHZhciB0aW1lU3RhcnQgPSBTdHJpbmcoaXRlbS5kYXRlX2JlZ2luKS5yZXBsYWNlKCc6JywnLicpLnJlcGxhY2UoJzonLCcuJykuc3Vic3RyKDExLDE1KTtcbiAgICB2YXIgdGltZUVuZCA9IFN0cmluZyhpdGVtLmRhdGVfZW5kKS5yZXBsYWNlKCc6JywnLicpLnJlcGxhY2UoJzonLCcuJykuc3Vic3RyKDExLDE1KTtcbiAgICB0aW1lU3RhcnQgPSB0aW1lU3RhcnQuc3Vic3RyKDAsNSk7XG4gICAgdGltZUVuZCA9IHRpbWVFbmQuc3Vic3RyKDAsNSk7XG4gICAgJChsaSkuaHRtbCgnPGgzPicraXRlbS5uYW1lKyc8L2gzPjxkaXY+PHA+JyArIHN0cmVldCArICcgJyArIHppcCArICcgJyArIGNpdHkgKyAnPC9wPjxhIGNsYXNzPVwiYnV0dG9uIGJsdWVcIiBocmVmPVwiZXZlbnQvJyArIGl0ZW0uaWQgKyAnXCI+PHNwYW4+UGxhdHogcmVzZXJ2aWVyZW48L3NwYW4+PC9hPjwvZGl2PjxzcGFuPkFtICcgKyBkYXRlICsgJyB2b24gJyArIHRpbWVTdGFydCArICcgYmlzICcgKyB0aW1lRW5kICsgJyBVaHI8L3NwYW4+Jyk7XG4gICAgJChsaSkuYXBwZW5kVG8odWwpO1xuICB9KTtcbiAgXG4gIC8vIHNpbXBsZUJhclVsLmdldENvbnRlbnRFbGVtZW50KCk7XG59XG5cbmZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gIHZhciBoYWlnaHRBc2hidXJ5ID0ge2xhdDogc3RhcnRQb3NpdGlvbi5sYXQsIGxuZzogc3RhcnRQb3NpdGlvbi5sb2d9O1xuXG4gIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gICAgem9vbTogNyxcbiAgICBjZW50ZXI6IGhhaWdodEFzaGJ1cnksXG4gICAgbWFwVHlwZUlkOiBzdGFydFBvc2l0aW9uLnR5cGVcbiAgfSk7XG4gIGNyZWF0ZU1hcmtlcnNHcm91cChzZWFyY2hSZXN1bHQpO1xuICAvLyBtYXAuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgLy8gICBhZGRNYXJrZXIoZXZlbnQubGF0TG5nKTtcbiAgLy8gfSk7XG4gIC8vIGFkZE1hcmtlcihoYWlnaHRBc2hidXJ5KTtcbn1cblxuZnVuY3Rpb24gYWRkTWFya2VyKGxvY2F0aW9uLGNvbnRlbnRTdHJpbmcpIHtcbiAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgdmFyIGxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb24ubGF0LGxvY2F0aW9uLmxuZyk7XG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICBjZW50ZXI6IGxhdExuZyxcbiAgICBwb3NpdGlvbjogbGF0TG5nLFxuICAgIG1hcDogbWFwXG4gIH0pO1xuICBtYXJrZXIuc2V0VmlzaWJsZShmYWxzZSk7XG4gIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuICAgIGNvbnRlbnQ6IGNvbnRlbnRTdHJpbmdcbiAgfSk7XG4gIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG4gIG1hcmtlcnMucHVzaChtYXJrZXIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXJrZXJzR3JvdXAoaXRlbXMpe1xuICBjb25zb2xlLmxvZyhpdGVtcylcbiAgaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHZhciBzdHJlZXQgPSBpdGVtLnN0cmVldCA/IGl0ZW0uc3RyZWV0ICsgJyAsJyA6ICcnO1xuICAgIHZhciBjaXR5ID0gaXRlbS5jaXR5X2lkWzFdID8gaXRlbS5jaXR5X2lkWzFdICsgJyAsJyA6ICcnO1xuICAgIHZhciBjb3VudHJ5ID0gIGl0ZW0uY291bnRyeV9pZFsxXSA/IGl0ZW0uY291bnRyeV9pZFsxXSA6ICcnO1xuICAgIHZhciB6aXAgPSBpdGVtLnppcCA/IGl0ZW0uemlwIDogJyc7XG4gICAgdmFyIGNvbnRlbnRTdHJpbmcgPSAnPGRpdiBjbGFzcz1cIm1hcmtlci1pbmZvXCI+PGRpdiBjbGFzcz1cIm1hcmtlci1pbmZvLXRpdGxlXCI+PHNwYW4+PC9zcGFuPjxoMj4nK2l0ZW0uY2l0eV9pZFsxXSsnPC9oMj48L2Rpdj48ZGl2IGNsYXNzPVwibWFya2VyLWluZm8tY29udGVudFwiPjxhIGhyZWY9XCJ0ZWw6MTIzXCIgY2xhc3M9XCJwaG9uZVwiPjEyMzEyMzEyMzEyMzwvYT48cCBjbGFzcz1cImFkZHJlc3NcIj48c3Bhbj4nKyBzdHJlZXQgKyc8L3NwYW4+PHNwYW4+JysgemlwICsnICcrIGNpdHkgKyc8L3NwYW4+IDxzcGFuPicrIGNvdW50cnkgKyc8L3NwYW4+PC9wPjwvZGl2PiA8L2Rpdj4nO1xuICAgIGFkZE1hcmtlcih7XG4gICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsIFxuICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZVxuICAgIH0sY29udGVudFN0cmluZyk7XG4gIH0pOyBcbn1cblxuZnVuY3Rpb24gc2V0TWFwT25BbGwobWFwKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgIG1hcmtlcnNbaV0uc2V0TWFwKG1hcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJNYXJrZXJzKCkge1xuICBzZXRNYXBPbkFsbChudWxsKTtcbn1cblxuZnVuY3Rpb24gc2hvd01hcmtlcnMoKSB7XG4gIHNldE1hcE9uQWxsKG1hcCk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZU1hcmtlcnMoKSB7XG4gIGNsZWFyTWFya2VycygpO1xuICBtYXJrZXJzID0gW107XG59XG5cblxuLy9DdXN0b20gTWFya2VyIEhUTUxcblxuLy8gZnVuY3Rpb24gQ3VzdG9tTWFya2VyKGxhdGxuZywgbWFwLCBhcmdzKSB7XG4vLyBcdHRoaXMubGF0bG5nID0gbGF0bG5nO1x0XG4vLyBcdHRoaXMuYXJncyA9IGFyZ3M7XHRcbi8vIFx0dGhpcy5zZXRNYXAobWFwKTtcdFxuLy8gfVxuXG4vLyBDdXN0b21NYXJrZXIucHJvdG90eXBlID0gbmV3IGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KCk7XG5cbi8vIEN1c3RvbU1hcmtlci5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkge1xuXHRcbi8vIFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcbi8vIFx0dmFyIGRpdiA9IHRoaXMuZGl2O1xuXHRcbi8vIFx0aWYgKCFkaXYpIHtcblx0XG4vLyBcdFx0ZGl2ID0gdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcbi8vIFx0XHRkaXYuY2xhc3NOYW1lID0gJ21hcmtlcic7XG5cdFx0XG4vLyBcdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbi8vIFx0XHRkaXYuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuLy8gXHRcdGRpdi5zdHlsZS53aWR0aCA9ICcyMHB4Jztcbi8vIFx0XHRkaXYuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnO1xuLy8gXHRcdGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsdWUnO1xuXHRcdFxuLy8gXHRcdGlmICh0eXBlb2Yoc2VsZi5hcmdzLm1hcmtlcl9pZCkgIT09ICd1bmRlZmluZWQnKSB7XG4vLyBcdFx0XHRkaXYuZGF0YXNldC5tYXJrZXJfaWQgPSBzZWxmLmFyZ3MubWFya2VyX2lkO1xuLy8gXHRcdH1cblx0XHRcbi8vIFx0XHRnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcihkaXYsIFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcdFx0XHRcbi8vIFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIoc2VsZiwgXCJjbGlja1wiKTtcbi8vIFx0XHR9KTtcblx0XHRcbi8vIFx0XHR2YXIgcGFuZXMgPSB0aGlzLmdldFBhbmVzKCk7XG4vLyBcdFx0cGFuZXMub3ZlcmxheUltYWdlLmFwcGVuZENoaWxkKGRpdik7XG4vLyBcdH1cblx0XG4vLyBcdHZhciBwb2ludCA9IHRoaXMuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb0RpdlBpeGVsKHRoaXMubGF0bG5nKTtcblx0XG4vLyBcdGlmIChwb2ludCkge1xuLy8gXHRcdGRpdi5zdHlsZS5sZWZ0ID0gcG9pbnQueCArICdweCc7XG4vLyBcdFx0ZGl2LnN0eWxlLnRvcCA9IHBvaW50LnkgKyAncHgnO1xuLy8gXHR9XG4vLyB9O1xuXG4vLyBDdXN0b21NYXJrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuLy8gXHRpZiAodGhpcy5kaXYpIHtcbi8vIFx0XHR0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbi8vIFx0XHR0aGlzLmRpdiA9IG51bGw7XG4vLyBcdH1cdFxuLy8gfTtcblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuLy8gXHRyZXR1cm4gdGhpcy5sYXRsbmc7XHRcbi8vIH07XG5cblxuXG4iLCJDaGFydC5wbHVnaW5zLnVucmVnaXN0ZXIoQ2hhcnREYXRhTGFiZWxzKTtcbkNoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udENvbG9yID0gJyMyOTI5MjknO1xuQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSA9IDE0O1xuQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5ID0gJ1BvcHBpbnMtU2VtaUJvbGQnO1xuXG52YXIgY2hhcnRzRGF0YTtcbnZhciB1cmxDaGFydHMgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2pzb24vJztcblxuXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgICQud2hlbihnZXRCdXR0b25EYXRhKHVybENoYXJ0cywnMScpKS5kb25lKGZ1bmN0aW9uKCl7XG4gICAgICAgIGluaXRzQ2hhcnRzKGNoYXJ0c0RhdGEubGFiZWwsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTEsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTIpO1xuICAgIH0pO1xuICAgXG4gICBcbiAgICBcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5vdXRlcldpZHRoIDw9IDk5MSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICBcbiAgICB2YXIgY2hhcnRzQnV0dG9uc0NvbnRhaW5lciA9ICQoJy5jaGFydHNfX2J1dHRvbnMnKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgY2hhcnRzRGF0YS5wZXJjZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBidXR0b24gPSBudWxsO1xuICAgICAgICBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnZhbHVlID0gY2hhcnRzRGF0YS5wZXJjZW50c1tpXTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgncmVkJyk7XG4gICAgICAgICQoYnV0dG9uKS5odG1sKCc8c3Bhbj4nICsgY2hhcnRzRGF0YS5wZXJjZW50c1tpXSArICclPC9zcGFuPicpO1xuICAgICAgICAkKGJ1dHRvbikuYXBwZW5kVG8oY2hhcnRzQnV0dG9uc0NvbnRhaW5lcik7XG4gICAgfVxuXG4gICAkKCcuY2hhcnRzX19idXR0b25zIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgJC53aGVuKGdldEJ1dHRvbkRhdGEodXJsQ2hhcnRzLCAkKHRoaXMpLnZhbCgpKSkuZG9uZShmdW5jdGlvbigpe1xuICAgICAgICBpbml0c0NoYXJ0cyhjaGFydHNEYXRhLmxhYmVsLCBjaGFydHNEYXRhLmNoYXJ0WzBdLmRhdGExLCBjaGFydHNEYXRhLmNoYXJ0WzBdLmRhdGEyKTtcbiAgICAgICB9KTtcbiAgIH0pO1xuXG4gICAkKCcuY2hhcnRzX19ibG9ja19faXRlbS5vbmUgLmNoYXJ0c19fYmxvY2tfX2l0ZW1fX2lucHV0IGlucHV0JykuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICQud2hlbihnZXRCdXR0b25EYXRhKHVybENoYXJ0cyAgKyAnY2hhcnQtaW5wdXQtb25lJywgJCh0aGlzKS52YWwoKSkpLmRvbmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGluaXRzQ2hhcnRzKGNoYXJ0c0RhdGEubGFiZWwsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTEsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgJCgnLmNoYXJ0c19fYmxvY2tfX2l0ZW0udHdvIC5jaGFydHNfX2Jsb2NrX19pdGVtX19pbnB1dCBpbnB1dCcpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAkLndoZW4oZ2V0QnV0dG9uRGF0YSh1cmxDaGFydHMgKyAnY2hhcnQtaW5wdXQtdHdvJywgJCh0aGlzKS52YWwoKSkpLmRvbmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGluaXRzQ2hhcnRzKGNoYXJ0c0RhdGEubGFiZWwsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTEsIGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgIFxufSk7XG5cbmZ1bmN0aW9uIGdldEJ1dHRvbkRhdGEodXJsLCB2YWx1ZSkge1xuXG4gICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgIHVybDogdXJsICsgdmFsdWUgKyAnLmpzb24nLFxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgIC8vIGRhdGE6Jy8nICsgdmFsdWUgKyAnLmpzb24nLFxuICAgICAgICBhc3luYzogZmFsc2UsIC8vINCX0LDQsdGA0LDRgtC4INC60L7Qu9C4INCx0YPQtNC10Ygg0L3QsCDQsdC10Lot0LXQvdC0INGB0YLRg9C60LDRgtC40YHRjFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgIGNoYXJ0c0RhdGEgPSBkYXRhO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhcnRzRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJywgX2Vycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBpbml0c0NoYXJ0cyggbGFiZWxzLCBkYXRhMSwgZGF0YTIgKXtcbiAgICB2YXIgY3R4T25lO1xuICAgIHZhciBjdHhUd287XG4gICAgdmFyIG15Q2hhcnRPbmU7XG4gICAgdmFyIG15Q2hhcnRUd287XG4gICAgdmFyIGRhdGFPbmU7XG4gICAgdmFyIGRhdGFUd287XG4gICAgdmFyIHNldE9wdGlvbnM7XG4gICAgdmFyIGNoYXJ0Q29udGFpbmVyT25lO1xuICAgIHZhciBjaGFydENvbnRhaW5lclR3bztcblxuICAgIHNldE9wdGlvbnMgPSB7XG4gICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IDIwLFxuICAgICAgICAgICAgICAgIHRvcDozMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICBkYXRhbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMjkyOTI5JyxcbiAgICAgICAgICAgICAgICBhbmNob3I6ICdlbmQnLFxuICAgICAgICAgICAgICAgIGFsaWduOiAndG9wJyxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyAnIOKCrCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyAnIOKCrCc7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgaWYoZGF0YTEpe1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0c19fYmxvY2tfX2l0ZW0ub25lIC5jaGFydHNfX2Jsb2NrX19pdGVtX19jaGFydFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBjaGFydENvbnRhaW5lck9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjaGFydENvbnRhaW5lck9uZS5pZCA9ICdteUNoYXJ0T25lJztcbiAgICAgICAgY2hhcnRDb250YWluZXJPbmUuaGVpZ2h0ID0gXCIyNTBcIjtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFydHNfX2Jsb2NrX19pdGVtLm9uZSAuY2hhcnRzX19ibG9ja19faXRlbV9fY2hhcnRcIikuYXBwZW5kQ2hpbGQoY2hhcnRDb250YWluZXJPbmUpO1xuICAgICAgICBjdHhPbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2hhcnRPbmVcIikuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgZGF0YU9uZSA9IHtcbiAgICAgICAgICAgIGxhYmVsczogbGFiZWxzIHx8IGNoYXJ0c0RhdGEubGFiZWwsXG4gICAgICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhMSB8fCBjaGFydHNEYXRhLmNoYXJ0WzBdLmRhdGExLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NGFjZDcnLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDFcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIG15Q2hhcnRPbmUgPSBuZXcgQ2hhcnQoY3R4T25lLCB7XG4gICAgICAgICAgICB0eXBlOiAnYmFyJyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFPbmUsXG4gICAgICAgICAgICBwbHVnaW5zOiBbQ2hhcnREYXRhTGFiZWxzXSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHNldE9wdGlvbnNcbiAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBpZihkYXRhMil7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcnRzX19ibG9ja19faXRlbS50d28gLmNoYXJ0c19fYmxvY2tfX2l0ZW1fX2NoYXJ0XCIpLmlubmVySFRNTCA9IFwiXCI7ICBcbiAgICAgICAgY2hhcnRDb250YWluZXJUd28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2hhcnRDb250YWluZXJUd28uaWQgPSAnbXlDaGFydFR3byc7XG4gICAgICAgIGNoYXJ0Q29udGFpbmVyVHdvLmhlaWdodCA9IFwiMjUwXCI7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcnRzX19ibG9ja19faXRlbS50d28gLmNoYXJ0c19fYmxvY2tfX2l0ZW1fX2NoYXJ0XCIpLmFwcGVuZENoaWxkKGNoYXJ0Q29udGFpbmVyVHdvKTtcbiAgICAgICAgY3R4VHdvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUNoYXJ0VHdvXCIpLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGRhdGFUd28gPSB7XG4gICAgICAgICAgICBsYWJlbHM6IGxhYmVscyB8fCAgY2hhcnRzRGF0YS5sYWJlbCxcbiAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEyIHx8IGNoYXJ0c0RhdGEuY2hhcnRbMF0uZGF0YTIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNDRhY2Q3JyxcbiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgICAgbXlDaGFydFR3byA9IG5ldyBDaGFydChjdHhUd28sIHtcbiAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICAgICAgZGF0YTogZGF0YVR3byxcbiAgICAgICAgICAgIHBsdWdpbnM6IFtDaGFydERhdGFMYWJlbHNdLFxuICAgICAgICAgICAgb3B0aW9uczogc2V0T3B0aW9uc1xuICAgICAgICB9KTtcbiAgICB9XG59Il19
