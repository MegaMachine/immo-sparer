function n(){var e=$("header.header").outerHeight();$("section.webinar-info").css("min-height","calc(100vh - "+e+"px)")}function i(){var e,t,a=$(".webinar-info h2"),n=a.css("marginBottom");$(a[0]).outerHeight()<=$(a[1]).outerHeight()?($(a[0]).css("marginBottom",n),e=$(a[0]).outerHeight(),t=$(a[1]).outerHeight()-e,$(a[0]).css("marginBottom",parseFloat($(a[0]).css("marginBottom"))+t+"px")):($(a[1]).css("marginBottom",n),e=$(a[1]).outerHeight(),t=$(a[0]).outerHeight()-e,$(a[1]).css("marginBottom",parseFloat($(a[1]).css("marginBottom"))+t+"px"))}function o(){var e=$("body").outerWidth(),t=$(".seminare-and-map .map").offset().left,a=$(".seminare-and-map .seminare").outerWidth(),n=parseFloat($(".seminare-and-map .container").css("paddingLeft")),i=parseFloat($(".seminare-and-map .container").outerHeight());$(".seminare-and-map .map").css({width:e-t+"px",left:a+n/2+"px",height:i+"px"}),console.log(t)}function s(){var e=parseFloat($(".new-properties__item__text p").css("lineHeight")),t=$(".new-properties__item__text h3"),a=$(".new-properties__item__location div"),n=0,i=0;a.map(function(){$(this).outerHeight()>=n&&(n=$(this).outerHeight())}),t.map(function(){$(this).height()>=i&&(i=$(this).height())}),a.css("height",n+"px"),t.css("height",i+"px"),$(".new-properties__item__text p").css("height",2*e+"px")}function e(){var e=$(".header__bottom__nav"),t=$(".header__mid__contacts__phones"),a=e.children("ul"),n=$(".header__top .social"),i=$(".header__top .log-or-reg");"absolute"===e.css("position")&&(a.wrap('<div class="container"></div>'),t.appendTo(e.children(".container")),n.appendTo(e.children(".container")),i.appendTo(e.children(".container")))}$(function(){e(),function(){for(var e=$(".header__bottom__nav ul li a"),t=0;t<e.length;t++){var a=document.createElement("li"),n=$(e[t]).clone();$(n).removeClass("dropdown-item"),$(n).appendTo(a),$(a).appendTo(".header__bottom__nav__mobile ul")}$(".header__mid__contacts__phones").clone().appendTo(".header__bottom__nav__mobile"),$(".header__top .log-or-reg").clone().appendTo(".header__bottom__nav__mobile")}(),setTimeout(function(){var e,t,a;n(),i(),o(),s(),e=$(".object-fit-simulation"),t=e.find("img"),a=t.attr("src"),t.css("display","none"),e.css({background:"url("+a+") no-repeat center / cover"})},111),$(window).scroll(function(){}),$(window).resize(function(){n(),i(),o(),s(),e(),i()}),$(".menu-button").click(function(){$(this).toggleClass("is-active"),$(".header__bottom__nav__mobile").toggleClass("active")})}),window.initMap=function(){var e={lat:t.lat,lng:t.log};c=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e,mapTypeId:t.type}),v(p)};var c,t,r,p,a,l,d,m=[],h={states:[],cities:[],eventsType:[]};function u(e,t,a){f(null),m=[];var n={state_id:e?[Number(e)]:null,city_id:t?[Number(t)]:null,event_type_id:a?[Number(a)]:null},i=_.pickBy(n,_.identity);p=_.filter(r.events_dict,i),g(),v(p),f(c)}function g(){var r,l=$(".seminare__search__list ul");l.html(""),p.map(function(e){r=document.createElement("li");var t=e.street?e.street:"",a=e.zip?e.zip:"",n=e.city_id[1]?e.city_id[1]:"",i=String(e.date_begin).substr(0,9).replace("-",".").replace("-",".");i=(i=(i=i.split(".")).reverse()).join(".");var o=String(e.date_begin).replace(":",".").replace(":",".").substr(11,15),s=String(e.date_end).replace(":",".").replace(":",".").substr(11,15);o=o.substr(0,5),s=s.substr(0,5),$(r).html("<h3>"+e.name+"</h3><div><p>"+t+" "+a+" "+n+'</p><a class="button blue" href="event/'+e.id+'"><span>Platz reservieren</span></a></div><span>Am '+i+" von "+o+" bis "+s+" Uhr</span>"),$(r).appendTo(l)})}function v(e){e.map(function(e){console.log(e);var t,a,n,i=e.street?e.street+" ,":"",o=e.city_id[1]?e.city_id[1]+" ,":"",s=e.country_id[1]?e.country_id[1]:"",r=e.zip?e.zip:"",l='<div class="marker-info"><div class="marker-info-title"><span></span><h2>'+e.city_id[1]+'</h2></div><div class="marker-info-content"><a href="tel:123" class="phone">123123123123</a><p class="address"><span>'+i+"</span><span>"+r+" "+o+"</span> <span>"+s+"</span></p></div> </div>";t={lat:e.latitude,lng:e.longitude},a=l,(n=new google.maps.Marker({position:t,map:c})).setVisible(!1),new google.maps.InfoWindow({content:a}).open(c,n),m.push(n)})}function f(e){for(var t=0;t<m.length;t++)m[t].setMap(e)}$(document).ready(function(){t={lat:$("#latitude").val()||50.9913249,log:$("#longitude").val()||9.4721966,type:$("#template_type").val()||"terrain"},$(window).resize(function(){a.select2({placeholder:"Select a state",allowClear:!0}),l.select2({placeholder:"Select a city",allowClear:!0}),d.select2({placeholder:"Select a event type",allowClear:!0})}),a=$(".seminare__search__filter__state select"),l=$(".seminare__search__filter__city select"),d=$(".seminare__search__filter__type select"),a.select2({placeholder:"Select a state",allowClear:!0}),l.select2({placeholder:"Select a city",allowClear:!0}),d.select2({placeholder:"Select a event type",allowClear:!0}),$(".select2-selection__clear").click(function(){u(a.val(),l.val(),d.val())}),$(".seminare__search__filter select").change(function(){u(a.val(),l.val(),d.val())}),$(".seminare__search__filter__city select").change(function(){!a.val()&&l.val()?a.prop("disabled",!0):a.prop("disabled",!1),u(a.val(),l.val(),d.val())}),$(".seminare__search__filter__state select").change(function(){$(this).val()?(h.cities=[],h.cities=_.filter(r.cities_dict,{state_id:Number($(this).val())}),l.html("<option></option>"),h.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)})):(h.cities=[],h.cities=r.cities_dict,l.html("<option></option>"),h.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)})),u(a.val(),l.val(),d.val())}),$(document).on("click",".marker-info",function(){$(this).hasClass("active")?$(this).removeClass("active"):($(".marker-info").removeClass("active"),$(this).addClass("active"))}),$.when($.ajax({type:"GET",url:"http://localhost:3000/json/data.json",dataType:"json",async:!1,success:function(e){p=(r=e).events_dict,console.log("good: ",r)},error:function(e){console.log("error: ",e)}})).done(function(){!function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfcs6mV0XqyFqpo34GSATKLtePqTgc0WI&callback=initMap";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),document.body.appendChild(e)}(),h.states=r.state_dict,h.cities=r.cities_dict,h.eventsType=r.event_categories,h.states.map(function(e){var t=new Option(e.name,e.id);a.append(t)}),h.cities.map(function(e){var t=new Option(e.name,e.id);l.append(t)}),h.eventsType.map(function(e){var t=new Option(e.name,e.id);d.append(t)}),g()})});var b=document.getElementById("myChartOne").getContext("2d"),y=document.getElementById("myChartTwo").getContext("2d");Chart.plugins.unregister(ChartDataLabels),Chart.defaults.global.defaultFontColor="#292929",Chart.defaults.global.defaultFontSize=14,Chart.defaults.global.defaultFontFamily="Poppins-SemiBold";var w={display:!0,layout:{padding:{left:20}},plugins:{datalabels:{color:"#292929",anchor:"end",align:"top",formatter:function(e,t){return e+" €"}}},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return e+" €"}}}]}};new Chart(b,{type:"bar",data:{labels:["1","5","10","15","20","25"],datasets:[{label:"# of Votes",data:[1e5,19,3,5,2,3],backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},plugins:[ChartDataLabels],options:w}),new Chart(y,{type:"bar",data:{labels:["1","5","10","15","20","25"],datasets:[{label:"# of Votes",data:[124124,1231234,575675,8968678,1235,4123556],backgroundColor:"#44acd7",borderColor:"#44acd7",borderWidth:1}]},plugins:[ChartDataLabels],options:w});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXAuanMiLCJjaGFydHMuanMiXSwibmFtZXMiOlsiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiJCIsIm91dGVySGVpZ2h0IiwiY3NzIiwidGl0bGVBbGlnbiIsIm1pbiIsIml0ZW1zIiwiZGVmYXVsdE1hcmdpbiIsInBhcnNlRmxvYXQiLCJtYXBXaWR0aCIsIndpbmRvd1dpZHRoIiwib3V0ZXJXaWR0aCIsIm1hcE9mZnNldCIsIm9mZnNldCIsImxlZnQiLCJzZW1pbmFyV0lkdGgiLCJjb250YWluZXJQYWRkaW5nIiwiY29udGFpbmVySGVpZ2h0Iiwid2lkdGgiLCJjb25zb2xlIiwibG9nIiwibmV3UHJvcGVydGllc0l0ZW1IZWlnaHQiLCJpdGVtc0xpbmVIZWlnaHQiLCJpdGVtc1RleHRUaXRsZSIsIml0ZW1zTG9jYXRpb25IZWlnaHQiLCJtYXhIZWlnaHQxIiwibWF4SGVpZ2h0MiIsIm1hcCIsInRoaXMiLCJtb2JpbGVOYXZpZ2F0aW9uIiwibmF2IiwicGhvbmVzIiwidWwiLCJjaGlsZHJlbiIsInNvY2lhbCIsImxvZ09yUmVnIiwid3JhcCIsImFwcGVuZFRvIiwibGlua3MiLCJpbmRleCIsImxlbmd0aCIsImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xvbmVMaW5rIiwiY2xvbmUiLCJyZW1vdmVDbGFzcyIsImhlYWRlckNsb25lRm9yTW9iaWxlIiwic2V0VGltZW91dCIsInNpbXVsYXRvciIsImltZyIsImltZ1NyYyIsImZpbmQiLCJhdHRyIiwiYmFja2dyb3VuZCIsIndpbmRvdyIsInNjcm9sbCIsInJlc2l6ZSIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJpbml0TWFwIiwiaGFpZ2h0QXNoYnVyeSIsImxhdCIsInN0YXJ0UG9zaXRpb24iLCJsbmciLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZ2V0RWxlbWVudEJ5SWQiLCJ6b29tIiwiY2VudGVyIiwibWFwVHlwZUlkIiwidHlwZSIsImNyZWF0ZU1hcmtlcnNHcm91cCIsInNlYXJjaFJlc3VsdCIsIm9iamVjdHMiLCJzZWxlY3RTdGF0ZSIsInNlbGVjdENpdHkiLCJzZWxlY3RUeXBlIiwibWFya2VycyIsImZpbHRlclZhbHVlcyIsInN0YXRlcyIsImNpdGllcyIsImV2ZW50c1R5cGUiLCJmaWx0ZXJTb3J0Iiwic3RhdGUiLCJjaXR5IiwiZXZlbnRfdHlwZSIsInNldE1hcE9uQWxsIiwib2JqIiwic3RhdGVfaWQiLCJOdW1iZXIiLCJjaXR5X2lkIiwiZXZlbnRfdHlwZV9pZCIsImZpbmRPYmoiLCJfIiwicGlja0J5IiwiaWRlbnRpdHkiLCJmaWx0ZXIiLCJldmVudHNfZGljdCIsImJ1aWxkU2VhcmNoTGlzdCIsImh0bWwiLCJpdGVtIiwic3RyZWV0IiwiemlwIiwiZGF0ZSIsIlN0cmluZyIsImRhdGVfYmVnaW4iLCJzdWJzdHIiLCJyZXBsYWNlIiwic3BsaXQiLCJyZXZlcnNlIiwiam9pbiIsInRpbWVTdGFydCIsInRpbWVFbmQiLCJkYXRlX2VuZCIsIm5hbWUiLCJpZCIsImxvY2F0aW9uIiwiY29udGVudFN0cmluZyIsIm1hcmtlciIsImNvdW50cnkiLCJjb3VudHJ5X2lkIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldFZpc2libGUiLCJJbmZvV2luZG93IiwiY29udGVudCIsIm9wZW4iLCJwdXNoIiwiaSIsInNldE1hcCIsInJlYWR5IiwidmFsIiwic2VsZWN0MiIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsImNoYW5nZSIsInByb3AiLCJjaXRpZXNfZGljdCIsIm9wdGlvbiIsIk9wdGlvbiIsImFwcGVuZCIsIm9uIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsIndoZW4iLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJhc3luYyIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3IiLCJfZXJyb3IiLCJkb25lIiwic2NyaXB0IiwiZGVmZXIiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImxvYWRTY3JpcHRNYXAiLCJzdGF0ZV9kaWN0IiwiZXZlbnRfY2F0ZWdvcmllcyIsImN0eE9uZSIsImdldENvbnRleHQiLCJjdHhUd28iLCJDaGFydCIsInBsdWdpbnMiLCJ1bnJlZ2lzdGVyIiwiQ2hhcnREYXRhTGFiZWxzIiwiZGVmYXVsdHMiLCJnbG9iYWwiLCJkZWZhdWx0Rm9udENvbG9yIiwiZGVmYXVsdEZvbnRTaXplIiwiZGVmYXVsdEZvbnRGYW1pbHkiLCJvcHRpb25zIiwiZGlzcGxheSIsImxheW91dCIsInBhZGRpbmciLCJkYXRhbGFiZWxzIiwiY29sb3IiLCJhbmNob3IiLCJhbGlnbiIsImZvcm1hdHRlciIsInZhbHVlIiwiY29udGV4dCIsInNjYWxlcyIsInlBeGVzIiwidGlja3MiLCJiZWdpbkF0WmVybyIsImNhbGxiYWNrIiwidmFsdWVzIiwibGFiZWxzIiwiZGF0YXNldHMiLCJsYWJlbCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiXSwibWFwcGluZ3MiOiJBQXVDQSxTQUFBQSxJQUNBLElBQUFDLEVBQUFDLEVBQUEsaUJBQUFDLGNBQ0FELEVBQUEsd0JBQUFFLElBQUEsYUFBQSxnQkFBQUgsRUFBQSxPQUlBLFNBQUFJLElBQ0EsSUFHQUMsRUFDQUwsRUFKQU0sRUFBQUwsRUFBQSxvQkFDQU0sRUFBQUQsRUFBQUgsSUFBQSxnQkFJQUYsRUFBQUssRUFBQSxJQUFBSixlQUFBRCxFQUFBSyxFQUFBLElBQUFKLGVBQ0FELEVBQUFLLEVBQUEsSUFBQUgsSUFDQSxlQUNBSSxHQUVBRixFQUFBSixFQUFBSyxFQUFBLElBQUFKLGNBRUFGLEVBREFDLEVBQUFLLEVBQUEsSUFBQUosY0FDQUcsRUFDQUosRUFBQUssRUFBQSxJQUFBSCxJQUNBLGVBQ0FLLFdBQUFQLEVBQUFLLEVBQUEsSUFBQUgsSUFBQSxpQkFBQUgsRUFBQSxRQUdBQyxFQUFBSyxFQUFBLElBQUFILElBQ0EsZUFD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Q0FDQWxHLEtBQUEsTUFDQWtGLEtBeEJBLENBQ0E2QyxPQUFBLENBQUEsSUFBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLE1BQ0FDLFNBQUEsQ0FBQSxDQUNBQyxNQUFBLGFBQ0EvQyxLQUFBLENBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0FnRCxnQkFBQSxVQUNBQyxZQUFBLFVBQ0FDLFlBQUEsS0FrQkE5QixRQUFBLENBQUFFLGlCQUNBTSxRQUFBQSxJQUdBLElBQUFULE1BQUFELEVBQUEsQ0FDQXBHLEtBQUEsTUFDQWtGLEtBcEJBLENBQ0E2QyxPQUFBLENBQUEsSUFBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLE1BQ0FDLFNBQUEsQ0FBQSxDQUNBQyxNQUFBLGFBQ0EvQyxLQUFBLENBQUEsT0FBQSxRQUFBLE9BQUEsUUFBQSxLQUFBLFNBQ0FnRCxnQkFBQSxVQUNBQyxZQUFBLFVBQ0FDLFlBQUEsS0FjQTlCLFFBQUEsQ0FBQUUsaUJBQ0FNLFFBQUFBIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG5cbiAgbW9iaWxlTmF2aWdhdGlvbigpO1xuICBoZWFkZXJDbG9uZUZvck1vYmlsZSgpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGhlYWRlckhlaWdodCgpO1xuICAgIHRpdGxlQWxpZ24oKTtcbiAgICBtYXBXaWR0aCgpO1xuICAgIG5ld1Byb3BlcnRpZXNJdGVtSGVpZ2h0KCk7XG4gICAgb2JqZWN0Rml0U2ltdWxhdGlvbigpO1xuICB9LCAxMTEpO1xuXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7fSk7XG5cbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJIZWlnaHQoKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gICAgbWFwV2lkdGgoKTtcbiAgICBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpO1xuICAgIG1vYmlsZU5hdmlnYXRpb24oKTtcbiAgICB0aXRsZUFsaWduKCk7XG4gIH0pO1xuICAkKCcubWVudS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xufSk7XG5cbi8vb2JqZWN0LWZpdC1zaW11bGF0aW9uXG5mdW5jdGlvbiBvYmplY3RGaXRTaW11bGF0aW9uKCl7XG4gIHZhciBzaW11bGF0b3IgPSAkKCcub2JqZWN0LWZpdC1zaW11bGF0aW9uJyk7XG4gIHZhciBpbWcgPSBzaW11bGF0b3IuZmluZCgnaW1nJyk7XG4gIHZhciBpbWdTcmMgPSBpbWcuYXR0cignc3JjJyk7XG4gIGltZy5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XG4gIHNpbXVsYXRvci5jc3Moe1xuICAgICdiYWNrZ3JvdW5kJzondXJsKCcraW1nU3JjKycpIG5vLXJlcGVhdCBjZW50ZXIgLyBjb3ZlcicsXG4gIH0pO1xufVxuLy93ZWJpbmFyIGhlaWdodFxuZnVuY3Rpb24gaGVhZGVySGVpZ2h0KCkge1xuICB2YXIgaGVpZ2h0ID0gJChcImhlYWRlci5oZWFkZXJcIikub3V0ZXJIZWlnaHQoKTtcbiAgJChcInNlY3Rpb24ud2ViaW5hci1pbmZvXCIpLmNzcyhcIm1pbi1oZWlnaHRcIiwgXCJjYWxjKDEwMHZoIC0gXCIgKyBoZWlnaHQgKyBcInB4KVwiKTtcbn1cblxuLy93ZWJpbmFyIHRpdGxlIGFsaWduXG5mdW5jdGlvbiB0aXRsZUFsaWduKCkge1xuICB2YXIgaXRlbXMgPSAkKFwiLndlYmluYXItaW5mbyBoMlwiKTtcbiAgdmFyIGRlZmF1bHRNYXJnaW4gPSBpdGVtcy5jc3MoJ21hcmdpbkJvdHRvbScpO1xuICB2YXIgbWF4O1xuICB2YXIgbWluO1xuICB2YXIgaGVpZ2h0O1xuICBpZiAoJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKSA8PSAkKGl0ZW1zWzFdKS5vdXRlckhlaWdodCgpKSB7XG4gICAgJChpdGVtc1swXSkuY3NzKFxuICAgICAgXCJtYXJnaW5Cb3R0b21cIixcbiAgICAgIGRlZmF1bHRNYXJnaW5cbiAgICApO1xuICAgIG1pbiA9ICQoaXRlbXNbMF0pLm91dGVySGVpZ2h0KCk7XG4gICAgbWF4ID0gJChpdGVtc1sxXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBoZWlnaHQgPSBtYXggLSBtaW47XG4gICAgJChpdGVtc1swXSkuY3NzKFxuICAgICAgXCJtYXJnaW5Cb3R0b21cIixcbiAgICAgIHBhcnNlRmxvYXQoJChpdGVtc1swXSkuY3NzKFwibWFyZ2luQm90dG9tXCIpKSArIGhlaWdodCArIFwicHhcIlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgJChpdGVtc1sxXSkuY3NzKFxuICAgICAgXCJtYXJnaW5Cb3R0b21cIixcbiAgICAgIGRlZmF1bHRNYXJnaW5cbiAgICApO1xuICAgIG1pbiA9ICQoaXRlbXNbMV0pLm91dGVySGVpZ2h0KCk7XG4gICAgbWF4ID0gJChpdGVtc1swXSkub3V0ZXJIZWlnaHQoKTtcbiAgICBoZWlnaHQgPSBtYXggLSBtaW47XG4gICAgJChpdGVtc1sxXSkuY3NzKFxuICAgICAgXCJtYXJnaW5Cb3R0b21cIixcbiAgICAgIHBhcnNlRmxvYXQoJChpdGVtc1sxXSkuY3NzKFwibWFyZ2luQm90dG9tXCIpKSArIGhlaWdodCArIFwicHhcIlxuICAgICk7XG4gIH1cbn1cblxuLy9tYXAgc2l6ZVxuZnVuY3Rpb24gbWFwV2lkdGgoKSB7XG4gIHZhciB3aW5kb3dXaWR0aCA9ICQoXCJib2R5XCIpLm91dGVyV2lkdGgoKTtcbiAgdmFyIG1hcE9mZnNldCA9ICQoXCIuc2VtaW5hcmUtYW5kLW1hcCAubWFwXCIpLm9mZnNldCgpLmxlZnQ7XG4gIHZhciBzZW1pbmFyV0lkdGggPSAkKCcuc2VtaW5hcmUtYW5kLW1hcCAuc2VtaW5hcmUnKS5vdXRlcldpZHRoKCk7XG4gIHZhciBjb250YWluZXJQYWRkaW5nID0gcGFyc2VGbG9hdCgkKCcuc2VtaW5hcmUtYW5kLW1hcCAuY29udGFpbmVyJykuY3NzKCdwYWRkaW5nTGVmdCcpKTtcbiAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHBhcnNlRmxvYXQoJCgnLnNlbWluYXJlLWFuZC1tYXAgLmNvbnRhaW5lcicpLm91dGVySGVpZ2h0KCkpO1xuICAkKFwiLnNlbWluYXJlLWFuZC1tYXAgLm1hcFwiKS5jc3Moe1xuICAgIFwid2lkdGhcIjogd2luZG93V2lkdGggLSBtYXBPZmZzZXQgKyBcInB4XCIsXG4gICAgJ2xlZnQnOiBzZW1pbmFyV0lkdGggKyBjb250YWluZXJQYWRkaW5nLzIgKyAncHgnLFxuICAgICdoZWlnaHQnOiBjb250YWluZXJIZWlnaHQgKyAncHgnXG4gIH0pO1xuICBjb25zb2xlLmxvZyhtYXBPZmZzZXQpO1xufVxuXG4vLyBuZXctcHJvcGVyaXRpZXMgbmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgaGVpZ2h0XG5mdW5jdGlvbiBuZXdQcm9wZXJ0aWVzSXRlbUhlaWdodCgpe1xuICB2YXIgaXRlbXNMaW5lSGVpZ2h0ID0gcGFyc2VGbG9hdCgkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnbGluZUhlaWdodCcpKTtcbiAgdmFyIGl0ZW1zVGV4dFRpdGxlID0gJCgnLm5ldy1wcm9wZXJ0aWVzX19pdGVtX190ZXh0IGgzJyk7XG4gIHZhciBpdGVtc0xvY2F0aW9uSGVpZ2h0ID0gICQoJy5uZXctcHJvcGVydGllc19faXRlbV9fbG9jYXRpb24gZGl2Jyk7XG4gIHZhciBtYXhIZWlnaHQxID0gMDtcbiAgdmFyIG1heEhlaWdodDIgPSAwO1xuICBpdGVtc0xvY2F0aW9uSGVpZ2h0Lm1hcChmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykub3V0ZXJIZWlnaHQoKSA+PSBtYXhIZWlnaHQxKXtcbiAgICAgIG1heEhlaWdodDEgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgfVxuICB9KTtcbiAgaXRlbXNUZXh0VGl0bGUubWFwKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oZWlnaHQoKSA+PSBtYXhIZWlnaHQyKXtcbiAgICAgIG1heEhlaWdodDIgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgIH1cbiAgfSk7XG4gIGl0ZW1zTG9jYXRpb25IZWlnaHQuY3NzKCdoZWlnaHQnLCBtYXhIZWlnaHQxICsgJ3B4Jyk7XG4gIGl0ZW1zVGV4dFRpdGxlLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0MiArICdweCcpO1xuICAkKCcubmV3LXByb3BlcnRpZXNfX2l0ZW1fX3RleHQgcCcpLmNzcygnaGVpZ2h0JywgaXRlbXNMaW5lSGVpZ2h0ICogMiArICdweCcpO1xufVxuXG5mdW5jdGlvbiBtb2JpbGVOYXZpZ2F0aW9uKCl7XG4gIHZhciBuYXYgPSAkKCcuaGVhZGVyX19ib3R0b21fX25hdicpO1xuICB2YXIgcGhvbmVzID0gJCgnLmhlYWRlcl9fbWlkX19jb250YWN0c19fcGhvbmVzJyk7XG4gIHZhciB1bCA9IG5hdi5jaGlsZHJlbigndWwnKTtcbiAgdmFyIHNvY2lhbCA9ICQoJy5oZWFkZXJfX3RvcCAuc29jaWFsJyk7XG4gIHZhciBsb2dPclJlZyA9ICQoJy5oZWFkZXJfX3RvcCAubG9nLW9yLXJlZycpO1xuICBpZihuYXYuY3NzKCdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKXtcbiAgICB1bC53cmFwKCc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgcGhvbmVzLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgICBzb2NpYWwuYXBwZW5kVG8obmF2LmNoaWxkcmVuKCcuY29udGFpbmVyJykpO1xuICAgIGxvZ09yUmVnLmFwcGVuZFRvKG5hdi5jaGlsZHJlbignLmNvbnRhaW5lcicpKTtcbiAgfWVsc2V7XG4gICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGVhZGVyQ2xvbmVGb3JNb2JpbGUoKXtcbiAgdmFyIGxpbmtzID0gICQoJy5oZWFkZXJfX2JvdHRvbV9fbmF2IHVsIGxpIGEnKTtcbiAgLy8gJCgnLmhlYWRlcl9fYm90dG9tX19uYXYgdWwgYScpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUgdWwnKTtcbiAgXG4gIC8vIGhlYWRlcl9fdG9wIGxvZy1vci1yZWdcbiAgICAvL2hlYWRlcl9fdG9wIHNvY2lhbFxuICAgIC8vaGVhZGVyX19taWRfX2NvbnRhY3RzX19waG9uZXMgYVxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGlua3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICB2YXIgY2xvbmVMaW5rID0gICQobGlua3NbaW5kZXhdKS5jbG9uZSgpO1xuICAgICQoY2xvbmVMaW5rKS5yZW1vdmVDbGFzcygnZHJvcGRvd24taXRlbScpO1xuICAgICQoY2xvbmVMaW5rKS5hcHBlbmRUbyhsaSk7XG4gICAgJChsaSkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUgdWwnKTsgICBcbiAgfVxuICAvLyAkKCcuaGVhZGVyX190b3AgZGl2LnNvY2lhbCcpLmNsb25lKCkuYXBwZW5kVG8oJy5oZWFkZXJfX2JvdHRvbV9fbmF2X19tb2JpbGUnKTtcbiAgJCgnLmhlYWRlcl9fbWlkX19jb250YWN0c19fcGhvbmVzJykuY2xvbmUoKS5hcHBlbmRUbygnLmhlYWRlcl9fYm90dG9tX19uYXZfX21vYmlsZScpO1xuICAkKCcuaGVhZGVyX190b3AgLmxvZy1vci1yZWcnKS5jbG9uZSgpLmFwcGVuZFRvKCcuaGVhZGVyX19ib3R0b21fX25hdl9fbW9iaWxlJyk7XG59IiwiLy8gLy9Hb29nbGUgTWFwXG4vLzxpbnB1dCBpZD1cImxhdGl0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sYXRpdHVkZVwiLz5cbi8vPGlucHV0IGlkPVwibG9uZ2l0dWRlXCIgdHlwZT1cImhpZGRlblwiIHQtYXR0LXZhbHVlPVwiY291bnRyeS5sb25naXR1ZGVcIi8+XG4vLzxpbnB1dCBpZD1cInRlbXBsYXRlX3R5cGVcIiB0eXBlPVwiaGlkZGVuXCIgdC1hdHQtdmFsdWU9XCJ0ZW1wbGF0ZV90eXBlXCIvPiBcblxud2luZG93LmluaXRNYXAgPSBpbml0TWFwO1xudmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvanNvbi9kYXRhLmpzb24nO1xudmFyIG1hcDtcbnZhciBtYXJrZXJzID0gW107XG52YXIgc3RhcnRQb3NpdGlvbjtcbnZhciBvYmplY3RzO1xudmFyIHNlYXJjaFJlc3VsdDtcbnZhciBjaGVja1N0YXRlO1xuLy8gdmFyIHNpbXBsZUJhclVsID0gbmV3IFNpbXBsZUJhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWxpc3QnKSk7XG5cbi8v0JfQvdCw0YfQtdC90L3RjyDQtNC70Y8gc2VsZWN0XG52YXIgZmlsdGVyVmFsdWVzID0ge1xuICBzdGF0ZXM6W10sXG4gIGNpdGllczpbXSxcbiAgZXZlbnRzVHlwZTpbXVxufTtcblxudmFyIHNlbGVjdFN0YXRlO1xudmFyIHNlbGVjdENpdHk7XG52YXIgc2VsZWN0VHlwZTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgc3RhcnRQb3NpdGlvbiA9IHtcbiAgICBsYXQgOiAkKCcjbGF0aXR1ZGUnKS52YWwoKSB8fCA1MC45OTEzMjQ5LFxuICAgIGxvZyA6ICQoJyNsb25naXR1ZGUnKS52YWwoKSB8fCA5LjQ3MjE5NjYsXG4gICAgdHlwZSA6ICQoJyN0ZW1wbGF0ZV90eXBlJykudmFsKCkgfHwgJ3RlcnJhaW4nXG4gIH07XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICBzZWxlY3RTdGF0ZS5zZWxlY3QyKHtcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIHN0YXRlXCIsXG4gICAgICBhbGxvd0NsZWFyOiB0cnVlXG4gICAgfSk7XG4gICAgc2VsZWN0Q2l0eS5zZWxlY3QyKHtcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIGNpdHlcIixcbiAgICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgICB9KTtcbiAgICBzZWxlY3RUeXBlLnNlbGVjdDIoe1xuICAgICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgZXZlbnQgdHlwZVwiLFxuICAgICAgYWxsb3dDbGVhcjogdHJ1ZVxuICAgIH0pO1xuICB9KTtcblxuICAvL0dldCBzZWxlY3RzXG4gIHNlbGVjdFN0YXRlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fc3RhdGUgc2VsZWN0Jyk7XG4gIHNlbGVjdENpdHkgPSAkKCcuc2VtaW5hcmVfX3NlYXJjaF9fZmlsdGVyX19jaXR5IHNlbGVjdCcpO1xuICBzZWxlY3RUeXBlID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fdHlwZSBzZWxlY3QnKTtcblxuICBzZWxlY3RTdGF0ZS5zZWxlY3QyKHtcbiAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgYSBzdGF0ZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdENpdHkuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgY2l0eVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIHNlbGVjdFR5cGUuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgZXZlbnQgdHlwZVwiLFxuICAgIGFsbG93Q2xlYXI6IHRydWVcbiAgfSk7XG4gIFxuICAvL0ZpbHRlclxuICAkKCcuc2VsZWN0Mi1zZWxlY3Rpb25fX2NsZWFyJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuXG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXIgc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCl7ICAgXG4gICAgZmlsdGVyU29ydChzZWxlY3RTdGF0ZS52YWwoKSxzZWxlY3RDaXR5LnZhbCgpLHNlbGVjdFR5cGUudmFsKCkpO1xuICB9KTtcbiAgJCgnLnNlbWluYXJlX19zZWFyY2hfX2ZpbHRlcl9fY2l0eSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICBpZiggIXNlbGVjdFN0YXRlLnZhbCgpICYmIHNlbGVjdENpdHkudmFsKCkpe1xuICAgICAgc2VsZWN0U3RhdGUucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0U3RhdGUucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIGZpbHRlclNvcnQoc2VsZWN0U3RhdGUudmFsKCksc2VsZWN0Q2l0eS52YWwoKSxzZWxlY3RUeXBlLnZhbCgpKTtcbiAgfSk7XG4gICQoJy5zZW1pbmFyZV9fc2VhcmNoX19maWx0ZXJfX3N0YXRlIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgIGlmKCQodGhpcykudmFsKCkpe1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IFtdO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcyA9IF8uZmlsdGVyKG9iamVjdHMuY2l0aWVzX2RpY3QseyBzdGF0ZV9pZDogTnVtYmVyKCQodGhpcykudmFsKCkpfSk7XG4gICAgICBzZWxlY3RDaXR5Lmh0bWwoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG4gICAgICBmaWx0ZXJWYWx1ZXMuY2l0aWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBbXTtcbiAgICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgICAgc2VsZWN0Q2l0eS5odG1sKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgICAgc2VsZWN0Q2l0eS5hcHBlbmQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmaWx0ZXJTb3J0KHNlbGVjdFN0YXRlLnZhbCgpLHNlbGVjdENpdHkudmFsKCksc2VsZWN0VHlwZS52YWwoKSk7XG4gIH0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCcubWFya2VyLWluZm8nLGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLm1hcmtlci1pbmZvJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICAgIFxuICB9KTtcbiAgJC53aGVuKCQuYWpheCh7XG4gICAgdHlwZTogXCJHRVRcIixcbiAgICB1cmw6ICB1cmwsXG4gICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgIGFzeW5jOiBmYWxzZSwgLy8g0JfQsNCx0YDQsNGC0Lgg0LrQvtC70Lgg0LHRg9C00LXRiCDQvdCwINCx0LXQui3QtdC90LQg0YHRgtGD0LrQsNGC0LjRgdGMXG4gICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICBvYmplY3RzID0gZGF0YTtcbiAgICAgIHNlYXJjaFJlc3VsdCA9IGRhdGEuZXZlbnRzX2RpY3Q7XG4gICAgICBjb25zb2xlLmxvZygnZ29vZDogJyxvYmplY3RzKTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJyxfZXJyb3IpO1xuICAgIH1cbiAgfSkpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgIGxvYWRTY3JpcHRNYXAoKTsgLy/QoNC+0LfQutC+0LzQtdC90YLRg9Cy0LDRgtC4INC60L7Qu9C4INC80LDQv9CwINCy0LrQu9GO0YfQtdC90LBcbiAgICBmaWx0ZXJWYWx1ZXMuc3RhdGVzID0gb2JqZWN0cy5zdGF0ZV9kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5jaXRpZXMgPSBvYmplY3RzLmNpdGllc19kaWN0O1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlID0gb2JqZWN0cy5ldmVudF9jYXRlZ29yaWVzO1xuICAgIFxuICAgIGZpbHRlclZhbHVlcy5zdGF0ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24oaXRlbS5uYW1lLGl0ZW0uaWQpO1xuICAgICAgc2VsZWN0U3RhdGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgZmlsdGVyVmFsdWVzLmNpdGllcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbihpdGVtLm5hbWUsaXRlbS5pZCk7XG4gICAgICBzZWxlY3RDaXR5LmFwcGVuZChvcHRpb24pO1xuICAgIH0pO1xuICAgIGZpbHRlclZhbHVlcy5ldmVudHNUeXBlLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKGl0ZW0ubmFtZSxpdGVtLmlkKTtcbiAgICAgIHNlbGVjdFR5cGUuYXBwZW5kKG9wdGlvbik7XG4gICAgfSk7XG4gICAgYnVpbGRTZWFyY2hMaXN0KCk7XG5cbiAgfSk7XG59KTtcblxuXG5mdW5jdGlvbiBsb2FkU2NyaXB0TWFwKCkge1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gIHNjcmlwdC5kZWZlciA9IHRydWU7XG4gIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lEZmNzNm1WMFhxeUZxcG8zNEdTQVRLTHRlUHFUZ2MwV0kmY2FsbGJhY2s9aW5pdE1hcCc7XG4gIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2NyaXB0LCBmaXJzdFNjcmlwdFRhZyk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyU29ydChzdGF0ZSxjaXR5LGV2ZW50X3R5cGUpe1xuICBkZWxldGVNYXJrZXJzKCk7IC8v0KDQvtC30LrQvtC80LXQvdGC0YPQstCw0YLQuCDQutC+0LvQuCDQvNCw0L/QsCDQstC60LvRjtGH0LXQvdCwXG4gIHZhciBvYmogPSB7XG4gICAgc3RhdGVfaWQ6IHN0YXRlID8gW051bWJlcihzdGF0ZSldIDogbnVsbCxcbiAgICBjaXR5X2lkOiBjaXR5ID8gW051bWJlcihjaXR5KV0gOiBudWxsLFxuICAgIGV2ZW50X3R5cGVfaWQ6IGV2ZW50X3R5cGUgPyBbTnVtYmVyKGV2ZW50X3R5cGUpXSA6IG51bGwgLFxuICB9O1xuICBcbiAgdmFyIGZpbmRPYmogPSBfLnBpY2tCeShvYmosIF8uaWRlbnRpdHkpO1xuICBzZWFyY2hSZXN1bHQgPSBfLmZpbHRlcihvYmplY3RzLmV2ZW50c19kaWN0LCBmaW5kT2JqKTtcbiAgYnVpbGRTZWFyY2hMaXN0KCk7XG4gIGNyZWF0ZU1hcmtlcnNHcm91cChzZWFyY2hSZXN1bHQpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxuICBzaG93TWFya2VycygpOyAvL9Cg0L7Qt9C60L7QvNC10L3RgtGD0LLQsNGC0Lgg0LrQvtC70Lgg0LzQsNC/0LAg0LLQutC70Y7Rh9C10L3QsFxufVxuXG5mdW5jdGlvbiBidWlsZFNlYXJjaExpc3QoKXtcbiAgdmFyIHVsID0gJCgnLnNlbWluYXJlX19zZWFyY2hfX2xpc3QgdWwnKTtcbiAgdmFyIGxpO1xuICB1bC5odG1sKCcnKTtcbiAgc2VhcmNoUmVzdWx0Lm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgdmFyIHN0cmVldCA9IGl0ZW0uc3RyZWV0ID8gaXRlbS5zdHJlZXQgOiAnJztcbiAgICB2YXIgemlwID0gaXRlbS56aXAgPyBpdGVtLnppcCA6ICcnO1xuICAgIHZhciBjaXR5ID0gaXRlbS5jaXR5X2lkWzFdID8gaXRlbS5jaXR5X2lkWzFdIDogJyc7XG4gICAgdmFyIGRhdGUgPSBTdHJpbmcoaXRlbS5kYXRlX2JlZ2luKS5zdWJzdHIoMCwgOSkucmVwbGFjZSgnLScsJy4nKS5yZXBsYWNlKCctJywnLicpO1xuICAgIGRhdGUgPSBkYXRlLnNwbGl0KCcuJyk7XG4gICAgZGF0ZSA9IGRhdGUucmV2ZXJzZSgpO1xuICAgIGRhdGUgPSBkYXRlLmpvaW4oJy4nKTtcbiAgICB2YXIgdGltZVN0YXJ0ID0gU3RyaW5nKGl0ZW0uZGF0ZV9iZWdpbikucmVwbGFjZSgnOicsJy4nKS5yZXBsYWNlKCc6JywnLicpLnN1YnN0cigxMSwxNSk7XG4gICAgdmFyIHRpbWVFbmQgPSBTdHJpbmcoaXRlbS5kYXRlX2VuZCkucmVwbGFjZSgnOicsJy4nKS5yZXBsYWNlKCc6JywnLicpLnN1YnN0cigxMSwxNSk7XG4gICAgdGltZVN0YXJ0ID0gdGltZVN0YXJ0LnN1YnN0cigwLDUpO1xuICAgIHRpbWVFbmQgPSB0aW1lRW5kLnN1YnN0cigwLDUpO1xuICAgICQobGkpLmh0bWwoJzxoMz4nK2l0ZW0ubmFtZSsnPC9oMz48ZGl2PjxwPicgKyBzdHJlZXQgKyAnICcgKyB6aXAgKyAnICcgKyBjaXR5ICsgJzwvcD48YSBjbGFzcz1cImJ1dHRvbiBibHVlXCIgaHJlZj1cImV2ZW50LycgKyBpdGVtLmlkICsgJ1wiPjxzcGFuPlBsYXR6IHJlc2VydmllcmVuPC9zcGFuPjwvYT48L2Rpdj48c3Bhbj5BbSAnICsgZGF0ZSArICcgdm9uICcgKyB0aW1lU3RhcnQgKyAnIGJpcyAnICsgdGltZUVuZCArICcgVWhyPC9zcGFuPicpO1xuICAgICQobGkpLmFwcGVuZFRvKHVsKTtcbiAgfSk7XG4gIFxuICAvLyBzaW1wbGVCYXJVbC5nZXRDb250ZW50RWxlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBpbml0TWFwKCkge1xuICB2YXIgaGFpZ2h0QXNoYnVyeSA9IHtsYXQ6IHN0YXJ0UG9zaXRpb24ubGF0LCBsbmc6IHN0YXJ0UG9zaXRpb24ubG9nfTtcblxuICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAgIHpvb206IDcsXG4gICAgY2VudGVyOiBoYWlnaHRBc2hidXJ5LFxuICAgIG1hcFR5cGVJZDogc3RhcnRQb3NpdGlvbi50eXBlXG4gIH0pO1xuICBjcmVhdGVNYXJrZXJzR3JvdXAoc2VhcmNoUmVzdWx0KTtcbiAgLy8gbWFwLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIC8vICAgYWRkTWFya2VyKGV2ZW50LmxhdExuZyk7XG4gIC8vIH0pO1xuICAvLyBhZGRNYXJrZXIoaGFpZ2h0QXNoYnVyeSk7XG59XG5cbmZ1bmN0aW9uIGFkZE1hcmtlcihsb2NhdGlvbixjb250ZW50U3RyaW5nKSB7XG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICBwb3NpdGlvbjogbG9jYXRpb24sXG4gICAgbWFwOiBtYXBcbiAgfSk7XG4gIG1hcmtlci5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgdmFyIGluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XG4gICAgY29udGVudDogY29udGVudFN0cmluZ1xuICB9KTtcbiAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcbiAgbWFya2Vycy5wdXNoKG1hcmtlcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcmtlcnNHcm91cChpdGVtcyl7XG4gIGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICB2YXIgc3RyZWV0ID0gaXRlbS5zdHJlZXQgPyBpdGVtLnN0cmVldCArICcgLCcgOiAnJztcbiAgICB2YXIgY2l0eSA9IGl0ZW0uY2l0eV9pZFsxXSA/IGl0ZW0uY2l0eV9pZFsxXSArICcgLCcgOiAnJztcbiAgICB2YXIgY291bnRyeSA9ICBpdGVtLmNvdW50cnlfaWRbMV0gPyBpdGVtLmNvdW50cnlfaWRbMV0gOiAnJztcbiAgICB2YXIgemlwID0gaXRlbS56aXAgPyBpdGVtLnppcCA6ICcnO1xuICAgIHZhciBjb250ZW50U3RyaW5nID0gJzxkaXYgY2xhc3M9XCJtYXJrZXItaW5mb1wiPjxkaXYgY2xhc3M9XCJtYXJrZXItaW5mby10aXRsZVwiPjxzcGFuPjwvc3Bhbj48aDI+JytpdGVtLmNpdHlfaWRbMV0rJzwvaDI+PC9kaXY+PGRpdiBjbGFzcz1cIm1hcmtlci1pbmZvLWNvbnRlbnRcIj48YSBocmVmPVwidGVsOjEyM1wiIGNsYXNzPVwicGhvbmVcIj4xMjMxMjMxMjMxMjM8L2E+PHAgY2xhc3M9XCJhZGRyZXNzXCI+PHNwYW4+Jysgc3RyZWV0ICsnPC9zcGFuPjxzcGFuPicrIHppcCArJyAnKyBjaXR5ICsnPC9zcGFuPiA8c3Bhbj4nKyBjb3VudHJ5ICsnPC9zcGFuPjwvcD48L2Rpdj4gPC9kaXY+JztcbiAgICBhZGRNYXJrZXIoe1xuICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLCBcbiAgICAgIGxuZzogaXRlbS5sb25naXR1ZGVcbiAgICB9LGNvbnRlbnRTdHJpbmcpO1xuICB9KTsgXG59XG5cbmZ1bmN0aW9uIHNldE1hcE9uQWxsKG1hcCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBtYXJrZXJzW2ldLnNldE1hcChtYXApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyTWFya2VycygpIHtcbiAgc2V0TWFwT25BbGwobnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNob3dNYXJrZXJzKCkge1xuICBzZXRNYXBPbkFsbChtYXApO1xufVxuXG5mdW5jdGlvbiBkZWxldGVNYXJrZXJzKCkge1xuICBjbGVhck1hcmtlcnMoKTtcbiAgbWFya2VycyA9IFtdO1xufVxuXG5cbi8vQ3VzdG9tIE1hcmtlciBIVE1MXG5cbi8vIGZ1bmN0aW9uIEN1c3RvbU1hcmtlcihsYXRsbmcsIG1hcCwgYXJncykge1xuLy8gXHR0aGlzLmxhdGxuZyA9IGxhdGxuZztcdFxuLy8gXHR0aGlzLmFyZ3MgPSBhcmdzO1x0XG4vLyBcdHRoaXMuc2V0TWFwKG1hcCk7XHRcbi8vIH1cblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZSA9IG5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldygpO1xuXG4vLyBDdXN0b21NYXJrZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcblx0XG4vLyBcdHZhciBzZWxmID0gdGhpcztcblx0XG4vLyBcdHZhciBkaXYgPSB0aGlzLmRpdjtcblx0XG4vLyBcdGlmICghZGl2KSB7XG5cdFxuLy8gXHRcdGRpdiA9IHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XG4vLyBcdFx0ZGl2LmNsYXNzTmFtZSA9ICdtYXJrZXInO1xuXHRcdFxuLy8gXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4vLyBcdFx0ZGl2LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbi8vIFx0XHRkaXYuc3R5bGUud2lkdGggPSAnMjBweCc7XG4vLyBcdFx0ZGl2LnN0eWxlLmhlaWdodCA9ICcyMHB4Jztcbi8vIFx0XHRkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibHVlJztcblx0XHRcbi8vIFx0XHRpZiAodHlwZW9mKHNlbGYuYXJncy5tYXJrZXJfaWQpICE9PSAndW5kZWZpbmVkJykge1xuLy8gXHRcdFx0ZGl2LmRhdGFzZXQubWFya2VyX2lkID0gc2VsZi5hcmdzLm1hcmtlcl9pZDtcbi8vIFx0XHR9XG5cdFx0XG4vLyBcdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoZGl2LCBcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHRcdFx0XG4vLyBcdFx0XHRnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHNlbGYsIFwiY2xpY2tcIik7XG4vLyBcdFx0fSk7XG5cdFx0XG4vLyBcdFx0dmFyIHBhbmVzID0gdGhpcy5nZXRQYW5lcygpO1xuLy8gXHRcdHBhbmVzLm92ZXJsYXlJbWFnZS5hcHBlbmRDaGlsZChkaXYpO1xuLy8gXHR9XG5cdFxuLy8gXHR2YXIgcG9pbnQgPSB0aGlzLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9EaXZQaXhlbCh0aGlzLmxhdGxuZyk7XG5cdFxuLy8gXHRpZiAocG9pbnQpIHtcbi8vIFx0XHRkaXYuc3R5bGUubGVmdCA9IHBvaW50LnggKyAncHgnO1xuLy8gXHRcdGRpdi5zdHlsZS50b3AgPSBwb2ludC55ICsgJ3B4Jztcbi8vIFx0fVxuLy8gfTtcblxuLy8gQ3VzdG9tTWFya2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbi8vIFx0aWYgKHRoaXMuZGl2KSB7XG4vLyBcdFx0dGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4vLyBcdFx0dGhpcy5kaXYgPSBudWxsO1xuLy8gXHR9XHRcbi8vIH07XG5cbi8vIEN1c3RvbU1hcmtlci5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbi8vIFx0cmV0dXJuIHRoaXMubGF0bG5nO1x0XG4vLyB9O1xuXG5cblxuIiwidmFyIGN0eE9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlDaGFydE9uZVwiKS5nZXRDb250ZXh0KCcyZCcpO1xudmFyIGN0eFR3byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlDaGFydFR3b1wiKS5nZXRDb250ZXh0KCcyZCcpO1xuXG5DaGFydC5wbHVnaW5zLnVucmVnaXN0ZXIoQ2hhcnREYXRhTGFiZWxzKTtcbkNoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udENvbG9yID0gJyMyOTI5MjknO1xuQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSA9IDE0O1xuQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5ID0gJ1BvcHBpbnMtU2VtaUJvbGQnO1xuXG52YXIgb3B0aW9ucyA9IHtcbiAgICBkaXNwbGF5OnRydWUsXG4gICAgbGF5b3V0OiB7XG4gICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgIGxlZnQ6IDIwXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHBsdWdpbnM6IHtcbiAgICAgIGRhdGFsYWJlbHM6IHtcbiAgICAgICAgICBjb2xvcjogJyMyOTI5MjknLFxuICAgICAgICAgIGFuY2hvcjonZW5kJyxcbiAgICAgICAgICBhbGlnbiA6J3RvcCcsXG4gICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgJyDigqwnIDtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzY2FsZXM6IHtcbiAgICAgICAgeUF4ZXM6IFt7ICBcbiAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICBiZWdpbkF0WmVybzp0cnVlLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24odmFsdWUsIGluZGV4LCB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAgKyAnIOKCrCc7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICB9XVxuICAgIH1cbn07XG5cbnZhciBkYXRhT25lID0ge1xuICAgIGxhYmVsczogW1wiMVwiLCBcIjVcIiwgXCIxMFwiLCBcIjE1XCIsIFwiMjBcIiwgXCIyNVwiXSxcbiAgICBkYXRhc2V0czogW3tcbiAgICAgICAgbGFiZWw6ICcjIG9mIFZvdGVzJyxcbiAgICAgICAgZGF0YTogWzEwMDAwMCwgMTksIDMsIDUsIDIsIDNdLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDRhY2Q3JyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICcjNDRhY2Q3JyxcbiAgICAgICAgYm9yZGVyV2lkdGg6IDFcbiAgICB9XVxufTtcblxudmFyIGRhdGFUd28gPSB7XG4gICAgbGFiZWxzOiBbXCIxXCIsIFwiNVwiLCBcIjEwXCIsIFwiMTVcIiwgXCIyMFwiLCBcIjI1XCJdLFxuICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICBsYWJlbDogJyMgb2YgVm90ZXMnLFxuICAgICAgICBkYXRhOiBbMTI0MTI0LCAxMjMxMjM0LCA1NzU2NzUsODk2ODY3OCwxMjM1LCA0MTIzNTU2XSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnIzQ0YWNkNycsXG4gICAgICAgIGJvcmRlcldpZHRoOiAxXG4gICAgfV1cbn07XG5cbnZhciBteUNoYXJ0T25lID0gbmV3IENoYXJ0KGN0eE9uZSwge1xuICAgIHR5cGU6ICdiYXInLFxuICAgIGRhdGE6IGRhdGFPbmUsXG4gICAgcGx1Z2luczogW0NoYXJ0RGF0YUxhYmVsc10sXG4gICAgb3B0aW9uczogb3B0aW9uc1xufSk7XG5cbnZhciBteUNoYXJ0VHdvID0gbmV3IENoYXJ0KGN0eFR3bywge1xuICAgIHR5cGU6ICdiYXInLFxuICAgIGRhdGE6IGRhdGFUd28sXG4gICAgcGx1Z2luczogW0NoYXJ0RGF0YUxhYmVsc10sXG4gICAgb3B0aW9uczogb3B0aW9uc1xufSk7XG5cbiJdfQ==
